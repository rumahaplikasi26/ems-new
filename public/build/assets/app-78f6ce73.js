var j0=Object.defineProperty;var B0=(e,t,n)=>t in e?j0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var M0=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var z=(e,t,n)=>(B0(e,typeof t!="symbol"?t+"":t,n),n);var XS=M0((Jn,Yn)=>{function Xd(e,t){return function(){return e.apply(t,arguments)}}const{toString:P0}=Object.prototype,{getPrototypeOf:iu}=Object,_l=(e=>t=>{const n=P0.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Lr=e=>(e=e.toLowerCase(),t=>_l(t)===e),Nl=e=>t=>typeof t===e,{isArray:wi}=Array,to=Nl("undefined");function D0(e){return e!==null&&!to(e)&&e.constructor!==null&&!to(e.constructor)&&Qn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Jd=Lr("ArrayBuffer");function $0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Jd(e.buffer),t}const U0=Nl("string"),Qn=Nl("function"),Yd=Nl("number"),Sl=e=>e!==null&&typeof e=="object",F0=e=>e===!0||e===!1,nl=e=>{if(_l(e)!=="object")return!1;const t=iu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},H0=Lr("Date"),z0=Lr("File"),V0=Lr("Blob"),K0=Lr("FileList"),W0=e=>Sl(e)&&Qn(e.pipe),G0=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Qn(e.append)&&((t=_l(e))==="formdata"||t==="object"&&Qn(e.toString)&&e.toString()==="[object FormData]"))},Z0=Lr("URLSearchParams"),[X0,J0,Y0,Q0]=["ReadableStream","Request","Response","Headers"].map(Lr),tb=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ho(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,l;if(typeof e!="object"&&(e=[e]),wi(e))for(r=0,l=e.length;r<l;r++)t.call(null,e[r],r,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),c=a.length;let h;for(r=0;r<c;r++)h=a[r],t.call(null,e[h],h,e)}}function Qd(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,l;for(;r-- >0;)if(l=n[r],t===l.toLowerCase())return l;return null}const Rs=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),tp=e=>!to(e)&&e!==Rs;function lc(){const{caseless:e}=tp(this)&&this||{},t={},n=(r,l)=>{const a=e&&Qd(t,l)||l;nl(t[a])&&nl(r)?t[a]=lc(t[a],r):nl(r)?t[a]=lc({},r):wi(r)?t[a]=r.slice():t[a]=r};for(let r=0,l=arguments.length;r<l;r++)arguments[r]&&ho(arguments[r],n);return t}const eb=(e,t,n,{allOwnKeys:r}={})=>(ho(t,(l,a)=>{n&&Qn(l)?e[a]=Xd(l,n):e[a]=l},{allOwnKeys:r}),e),nb=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),rb=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},sb=(e,t,n,r)=>{let l,a,c;const h={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),a=l.length;a-- >0;)c=l[a],(!r||r(c,e,t))&&!h[c]&&(t[c]=e[c],h[c]=!0);e=n!==!1&&iu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ib=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},ob=e=>{if(!e)return null;if(wi(e))return e;let t=e.length;if(!Yd(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},lb=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&iu(Uint8Array)),ab=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let l;for(;(l=r.next())&&!l.done;){const a=l.value;t.call(e,a[0],a[1])}},cb=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},ub=Lr("HTMLFormElement"),hb=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,l){return r.toUpperCase()+l}),xf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),fb=Lr("RegExp"),ep=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ho(n,(l,a)=>{let c;(c=t(l,a,e))!==!1&&(r[a]=c||l)}),Object.defineProperties(e,r)},db=e=>{ep(e,(t,n)=>{if(Qn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Qn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},pb=(e,t)=>{const n={},r=l=>{l.forEach(a=>{n[a]=!0})};return wi(e)?r(e):r(String(e).split(t)),n},gb=()=>{},mb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Da="abcdefghijklmnopqrstuvwxyz",Ef="0123456789",np={DIGIT:Ef,ALPHA:Da,ALPHA_DIGIT:Da+Da.toUpperCase()+Ef},bb=(e=16,t=np.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function yb(e){return!!(e&&Qn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const vb=e=>{const t=new Array(10),n=(r,l)=>{if(Sl(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[l]=r;const a=wi(r)?[]:{};return ho(r,(c,h)=>{const f=n(c,l+1);!to(f)&&(a[h]=f)}),t[l]=void 0,a}}return r};return n(e,0)},wb=Lr("AsyncFunction"),xb=e=>e&&(Sl(e)||Qn(e))&&Qn(e.then)&&Qn(e.catch),rp=((e,t)=>e?setImmediate:t?((n,r)=>(Rs.addEventListener("message",({source:l,data:a})=>{l===Rs&&a===n&&r.length&&r.shift()()},!1),l=>{r.push(l),Rs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Qn(Rs.postMessage)),Eb=typeof queueMicrotask<"u"?queueMicrotask.bind(Rs):typeof process<"u"&&process.nextTick||rp,X={isArray:wi,isArrayBuffer:Jd,isBuffer:D0,isFormData:G0,isArrayBufferView:$0,isString:U0,isNumber:Yd,isBoolean:F0,isObject:Sl,isPlainObject:nl,isReadableStream:X0,isRequest:J0,isResponse:Y0,isHeaders:Q0,isUndefined:to,isDate:H0,isFile:z0,isBlob:V0,isRegExp:fb,isFunction:Qn,isStream:W0,isURLSearchParams:Z0,isTypedArray:lb,isFileList:K0,forEach:ho,merge:lc,extend:eb,trim:tb,stripBOM:nb,inherits:rb,toFlatObject:sb,kindOf:_l,kindOfTest:Lr,endsWith:ib,toArray:ob,forEachEntry:ab,matchAll:cb,isHTMLForm:ub,hasOwnProperty:xf,hasOwnProp:xf,reduceDescriptors:ep,freezeMethods:db,toObjectSet:pb,toCamelCase:hb,noop:gb,toFiniteNumber:mb,findKey:Qd,global:Rs,isContextDefined:tp,ALPHABET:np,generateString:bb,isSpecCompliantForm:yb,toJSONObject:vb,isAsyncFn:wb,isThenable:xb,setImmediate:rp,asap:Eb};function oe(e,t,n,r,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),l&&(this.response=l,this.status=l.status?l.status:null)}X.inherits(oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const sp=oe.prototype,ip={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ip[e]={value:e}});Object.defineProperties(oe,ip);Object.defineProperty(sp,"isAxiosError",{value:!0});oe.from=(e,t,n,r,l,a)=>{const c=Object.create(sp);return X.toFlatObject(e,c,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),oe.call(c,e.message,t,n,r,l),c.cause=e,c.name=e.name,a&&Object.assign(c,a),c};const Ab=null;function ac(e){return X.isPlainObject(e)||X.isArray(e)}function op(e){return X.endsWith(e,"[]")?e.slice(0,-2):e}function Af(e,t,n){return e?e.concat(t).map(function(l,a){return l=op(l),!n&&a?"["+l+"]":l}).join(n?".":""):t}function _b(e){return X.isArray(e)&&!e.some(ac)}const Nb=X.toFlatObject(X,{},null,function(t){return/^is[A-Z]/.test(t)});function Tl(e,t,n){if(!X.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,A){return!X.isUndefined(A[S])});const r=n.metaTokens,l=n.visitor||y,a=n.dots,c=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(t);if(!X.isFunction(l))throw new TypeError("visitor must be a function");function p(E){if(E===null)return"";if(X.isDate(E))return E.toISOString();if(!f&&X.isBlob(E))throw new oe("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(E)||X.isTypedArray(E)?f&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function y(E,S,A){let L=E;if(E&&!A&&typeof E=="object"){if(X.endsWith(S,"{}"))S=r?S:S.slice(0,-2),E=JSON.stringify(E);else if(X.isArray(E)&&_b(E)||(X.isFileList(E)||X.endsWith(S,"[]"))&&(L=X.toArray(E)))return S=op(S),L.forEach(function(O,I){!(X.isUndefined(O)||O===null)&&t.append(c===!0?Af([S],I,a):c===null?S:S+"[]",p(O))}),!1}return ac(E)?!0:(t.append(Af(A,S,a),p(E)),!1)}const w=[],b=Object.assign(Nb,{defaultVisitor:y,convertValue:p,isVisitable:ac});function v(E,S){if(!X.isUndefined(E)){if(w.indexOf(E)!==-1)throw Error("Circular reference detected in "+S.join("."));w.push(E),X.forEach(E,function(L,T){(!(X.isUndefined(L)||L===null)&&l.call(t,L,X.isString(T)?T.trim():T,S,b))===!0&&v(L,S?S.concat(T):[T])}),w.pop()}}if(!X.isObject(e))throw new TypeError("data must be an object");return v(e),t}function _f(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ou(e,t){this._pairs=[],e&&Tl(e,this,t)}const lp=ou.prototype;lp.append=function(t,n){this._pairs.push([t,n])};lp.toString=function(t){const n=t?function(r){return t.call(this,r,_f)}:_f;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function Sb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ap(e,t,n){if(!t)return e;const r=n&&n.encode||Sb,l=n&&n.serialize;let a;if(l?a=l(t,n):a=X.isURLSearchParams(t)?t.toString():new ou(t,n).toString(r),a){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Tb{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){X.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Nf=Tb,cp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ob=typeof URLSearchParams<"u"?URLSearchParams:ou,Lb=typeof FormData<"u"?FormData:null,Cb=typeof Blob<"u"?Blob:null,qb={isBrowser:!0,classes:{URLSearchParams:Ob,FormData:Lb,Blob:Cb},protocols:["http","https","file","blob","url","data"]},lu=typeof window<"u"&&typeof document<"u",cc=typeof navigator=="object"&&navigator||void 0,kb=lu&&(!cc||["ReactNative","NativeScript","NS"].indexOf(cc.product)<0),Rb=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ib=lu&&window.location.href||"http://localhost",jb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lu,hasStandardBrowserEnv:kb,hasStandardBrowserWebWorkerEnv:Rb,navigator:cc,origin:Ib},Symbol.toStringTag,{value:"Module"})),Kn={...jb,...qb};function Bb(e,t){return Tl(e,new Kn.classes.URLSearchParams,Object.assign({visitor:function(n,r,l,a){return Kn.isNode&&X.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function Mb(e){return X.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Pb(e){const t={},n=Object.keys(e);let r;const l=n.length;let a;for(r=0;r<l;r++)a=n[r],t[a]=e[a];return t}function up(e){function t(n,r,l,a){let c=n[a++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),f=a>=n.length;return c=!c&&X.isArray(l)?l.length:c,f?(X.hasOwnProp(l,c)?l[c]=[l[c],r]:l[c]=r,!h):((!l[c]||!X.isObject(l[c]))&&(l[c]=[]),t(n,r,l[c],a)&&X.isArray(l[c])&&(l[c]=Pb(l[c])),!h)}if(X.isFormData(e)&&X.isFunction(e.entries)){const n={};return X.forEachEntry(e,(r,l)=>{t(Mb(r),l,n,0)}),n}return null}function Db(e,t,n){if(X.isString(e))try{return(t||JSON.parse)(e),X.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const au={transitional:cp,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",l=r.indexOf("application/json")>-1,a=X.isObject(t);if(a&&X.isHTMLForm(t)&&(t=new FormData(t)),X.isFormData(t))return l?JSON.stringify(up(t)):t;if(X.isArrayBuffer(t)||X.isBuffer(t)||X.isStream(t)||X.isFile(t)||X.isBlob(t)||X.isReadableStream(t))return t;if(X.isArrayBufferView(t))return t.buffer;if(X.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let h;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Bb(t,this.formSerializer).toString();if((h=X.isFileList(t))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Tl(h?{"files[]":t}:t,f&&new f,this.formSerializer)}}return a||l?(n.setContentType("application/json",!1),Db(t)):t}],transformResponse:[function(t){const n=this.transitional||au.transitional,r=n&&n.forcedJSONParsing,l=this.responseType==="json";if(X.isResponse(t)||X.isReadableStream(t))return t;if(t&&X.isString(t)&&(r&&!this.responseType||l)){const c=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(h){if(c)throw h.name==="SyntaxError"?oe.from(h,oe.ERR_BAD_RESPONSE,this,null,this.response):h}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kn.classes.FormData,Blob:Kn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],e=>{au.headers[e]={}});const cu=au,$b=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ub=e=>{const t={};let n,r,l;return e&&e.split(`
`).forEach(function(c){l=c.indexOf(":"),n=c.substring(0,l).trim().toLowerCase(),r=c.substring(l+1).trim(),!(!n||t[n]&&$b[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Sf=Symbol("internals");function $i(e){return e&&String(e).trim().toLowerCase()}function rl(e){return e===!1||e==null?e:X.isArray(e)?e.map(rl):String(e)}function Fb(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Hb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $a(e,t,n,r,l){if(X.isFunction(r))return r.call(this,t,n);if(l&&(t=n),!!X.isString(t)){if(X.isString(r))return t.indexOf(r)!==-1;if(X.isRegExp(r))return r.test(t)}}function zb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Vb(e,t){const n=X.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(l,a,c){return this[r].call(this,t,l,a,c)},configurable:!0})})}class Ol{constructor(t){t&&this.set(t)}set(t,n,r){const l=this;function a(h,f,p){const y=$i(f);if(!y)throw new Error("header name must be a non-empty string");const w=X.findKey(l,y);(!w||l[w]===void 0||p===!0||p===void 0&&l[w]!==!1)&&(l[w||f]=rl(h))}const c=(h,f)=>X.forEach(h,(p,y)=>a(p,y,f));if(X.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if(X.isString(t)&&(t=t.trim())&&!Hb(t))c(Ub(t),n);else if(X.isHeaders(t))for(const[h,f]of t.entries())a(f,h,r);else t!=null&&a(n,t,r);return this}get(t,n){if(t=$i(t),t){const r=X.findKey(this,t);if(r){const l=this[r];if(!n)return l;if(n===!0)return Fb(l);if(X.isFunction(n))return n.call(this,l,r);if(X.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=$i(t),t){const r=X.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||$a(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let l=!1;function a(c){if(c=$i(c),c){const h=X.findKey(r,c);h&&(!n||$a(r,r[h],h,n))&&(delete r[h],l=!0)}}return X.isArray(t)?t.forEach(a):a(t),l}clear(t){const n=Object.keys(this);let r=n.length,l=!1;for(;r--;){const a=n[r];(!t||$a(this,this[a],a,t,!0))&&(delete this[a],l=!0)}return l}normalize(t){const n=this,r={};return X.forEach(this,(l,a)=>{const c=X.findKey(r,a);if(c){n[c]=rl(l),delete n[a];return}const h=t?zb(a):String(a).trim();h!==a&&delete n[a],n[h]=rl(l),r[h]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return X.forEach(this,(r,l)=>{r!=null&&r!==!1&&(n[l]=t&&X.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(l=>r.set(l)),r}static accessor(t){const r=(this[Sf]=this[Sf]={accessors:{}}).accessors,l=this.prototype;function a(c){const h=$i(c);r[h]||(Vb(l,c),r[h]=!0)}return X.isArray(t)?t.forEach(a):a(t),this}}Ol.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(Ol.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});X.freezeMethods(Ol);const Nr=Ol;function Ua(e,t){const n=this||cu,r=t||n,l=Nr.from(r.headers);let a=r.data;return X.forEach(e,function(h){a=h.call(n,a,l.normalize(),t?t.status:void 0)}),l.normalize(),a}function hp(e){return!!(e&&e.__CANCEL__)}function xi(e,t,n){oe.call(this,e??"canceled",oe.ERR_CANCELED,t,n),this.name="CanceledError"}X.inherits(xi,oe,{__CANCEL__:!0});function fp(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new oe("Request failed with status code "+n.status,[oe.ERR_BAD_REQUEST,oe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Kb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Wb(e,t){e=e||10;const n=new Array(e),r=new Array(e);let l=0,a=0,c;return t=t!==void 0?t:1e3,function(f){const p=Date.now(),y=r[a];c||(c=p),n[l]=f,r[l]=p;let w=a,b=0;for(;w!==l;)b+=n[w++],w=w%e;if(l=(l+1)%e,l===a&&(a=(a+1)%e),p-c<t)return;const v=y&&p-y;return v?Math.round(b*1e3/v):void 0}}function Gb(e,t){let n=0,r=1e3/t,l,a;const c=(p,y=Date.now())=>{n=y,l=null,a&&(clearTimeout(a),a=null),e.apply(null,p)};return[(...p)=>{const y=Date.now(),w=y-n;w>=r?c(p,y):(l=p,a||(a=setTimeout(()=>{a=null,c(l)},r-w)))},()=>l&&c(l)]}const ul=(e,t,n=3)=>{let r=0;const l=Wb(50,250);return Gb(a=>{const c=a.loaded,h=a.lengthComputable?a.total:void 0,f=c-r,p=l(f),y=c<=h;r=c;const w={loaded:c,total:h,progress:h?c/h:void 0,bytes:f,rate:p||void 0,estimated:p&&h&&y?(h-c)/p:void 0,event:a,lengthComputable:h!=null,[t?"download":"upload"]:!0};e(w)},n)},Tf=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Of=e=>(...t)=>X.asap(()=>e(...t)),Zb=Kn.hasStandardBrowserEnv?function(){const t=Kn.navigator&&/(msie|trident)/i.test(Kn.navigator.userAgent),n=document.createElement("a");let r;function l(a){let c=a;return t&&(n.setAttribute("href",c),c=n.href),n.setAttribute("href",c),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=l(window.location.href),function(c){const h=X.isString(c)?l(c):c;return h.protocol===r.protocol&&h.host===r.host}}():function(){return function(){return!0}}(),Xb=Kn.hasStandardBrowserEnv?{write(e,t,n,r,l,a){const c=[e+"="+encodeURIComponent(t)];X.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),X.isString(r)&&c.push("path="+r),X.isString(l)&&c.push("domain="+l),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Jb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Yb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function dp(e,t){return e&&!Jb(t)?Yb(e,t):t}const Lf=e=>e instanceof Nr?{...e}:e;function Ds(e,t){t=t||{};const n={};function r(p,y,w){return X.isPlainObject(p)&&X.isPlainObject(y)?X.merge.call({caseless:w},p,y):X.isPlainObject(y)?X.merge({},y):X.isArray(y)?y.slice():y}function l(p,y,w){if(X.isUndefined(y)){if(!X.isUndefined(p))return r(void 0,p,w)}else return r(p,y,w)}function a(p,y){if(!X.isUndefined(y))return r(void 0,y)}function c(p,y){if(X.isUndefined(y)){if(!X.isUndefined(p))return r(void 0,p)}else return r(void 0,y)}function h(p,y,w){if(w in t)return r(p,y);if(w in e)return r(void 0,p)}const f={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(p,y)=>l(Lf(p),Lf(y),!0)};return X.forEach(Object.keys(Object.assign({},e,t)),function(y){const w=f[y]||l,b=w(e[y],t[y],y);X.isUndefined(b)&&w!==h||(n[y]=b)}),n}const pp=e=>{const t=Ds({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:l,xsrfCookieName:a,headers:c,auth:h}=t;t.headers=c=Nr.from(c),t.url=ap(dp(t.baseURL,t.url),e.params,e.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if(X.isFormData(n)){if(Kn.hasStandardBrowserEnv||Kn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((f=c.getContentType())!==!1){const[p,...y]=f?f.split(";").map(w=>w.trim()).filter(Boolean):[];c.setContentType([p||"multipart/form-data",...y].join("; "))}}if(Kn.hasStandardBrowserEnv&&(r&&X.isFunction(r)&&(r=r(t)),r||r!==!1&&Zb(t.url))){const p=l&&a&&Xb.read(a);p&&c.set(l,p)}return t},Qb=typeof XMLHttpRequest<"u",ty=Qb&&function(e){return new Promise(function(n,r){const l=pp(e);let a=l.data;const c=Nr.from(l.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:p}=l,y,w,b,v,E;function S(){v&&v(),E&&E(),l.cancelToken&&l.cancelToken.unsubscribe(y),l.signal&&l.signal.removeEventListener("abort",y)}let A=new XMLHttpRequest;A.open(l.method.toUpperCase(),l.url,!0),A.timeout=l.timeout;function L(){if(!A)return;const O=Nr.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),B={data:!h||h==="text"||h==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:O,config:e,request:A};fp(function(Y){n(Y),S()},function(Y){r(Y),S()},B),A=null}"onloadend"in A?A.onloadend=L:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(L)},A.onabort=function(){A&&(r(new oe("Request aborted",oe.ECONNABORTED,e,A)),A=null)},A.onerror=function(){r(new oe("Network Error",oe.ERR_NETWORK,e,A)),A=null},A.ontimeout=function(){let I=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const B=l.transitional||cp;l.timeoutErrorMessage&&(I=l.timeoutErrorMessage),r(new oe(I,B.clarifyTimeoutError?oe.ETIMEDOUT:oe.ECONNABORTED,e,A)),A=null},a===void 0&&c.setContentType(null),"setRequestHeader"in A&&X.forEach(c.toJSON(),function(I,B){A.setRequestHeader(B,I)}),X.isUndefined(l.withCredentials)||(A.withCredentials=!!l.withCredentials),h&&h!=="json"&&(A.responseType=l.responseType),p&&([b,E]=ul(p,!0),A.addEventListener("progress",b)),f&&A.upload&&([w,v]=ul(f),A.upload.addEventListener("progress",w),A.upload.addEventListener("loadend",v)),(l.cancelToken||l.signal)&&(y=O=>{A&&(r(!O||O.type?new xi(null,e,A):O),A.abort(),A=null)},l.cancelToken&&l.cancelToken.subscribe(y),l.signal&&(l.signal.aborted?y():l.signal.addEventListener("abort",y)));const T=Kb(l.url);if(T&&Kn.protocols.indexOf(T)===-1){r(new oe("Unsupported protocol "+T+":",oe.ERR_BAD_REQUEST,e));return}A.send(a||null)})},ey=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,l;const a=function(p){if(!l){l=!0,h();const y=p instanceof Error?p:this.reason;r.abort(y instanceof oe?y:new xi(y instanceof Error?y.message:y))}};let c=t&&setTimeout(()=>{c=null,a(new oe(`timeout ${t} of ms exceeded`,oe.ETIMEDOUT))},t);const h=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(a):p.removeEventListener("abort",a)}),e=null)};e.forEach(p=>p.addEventListener("abort",a));const{signal:f}=r;return f.unsubscribe=()=>X.asap(h),f}},ny=ey,ry=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,l;for(;r<n;)l=r+t,yield e.slice(r,l),r=l},sy=async function*(e,t){for await(const n of iy(e))yield*ry(n,t)},iy=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Cf=(e,t,n,r)=>{const l=sy(e,t);let a=0,c,h=f=>{c||(c=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:p,value:y}=await l.next();if(p){h(),f.close();return}let w=y.byteLength;if(n){let b=a+=w;n(b)}f.enqueue(new Uint8Array(y))}catch(p){throw h(p),p}},cancel(f){return h(f),l.return()}},{highWaterMark:2})},Ll=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gp=Ll&&typeof ReadableStream=="function",oy=Ll&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),mp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},ly=gp&&mp(()=>{let e=!1;const t=new Request(Kn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),qf=64*1024,uc=gp&&mp(()=>X.isReadableStream(new Response("").body)),hl={stream:uc&&(e=>e.body)};Ll&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!hl[t]&&(hl[t]=X.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new oe(`Response type '${t}' is not supported`,oe.ERR_NOT_SUPPORT,r)})})})(new Response);const ay=async e=>{if(e==null)return 0;if(X.isBlob(e))return e.size;if(X.isSpecCompliantForm(e))return(await new Request(Kn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(X.isArrayBufferView(e)||X.isArrayBuffer(e))return e.byteLength;if(X.isURLSearchParams(e)&&(e=e+""),X.isString(e))return(await oy(e)).byteLength},cy=async(e,t)=>{const n=X.toFiniteNumber(e.getContentLength());return n??ay(t)},uy=Ll&&(async e=>{let{url:t,method:n,data:r,signal:l,cancelToken:a,timeout:c,onDownloadProgress:h,onUploadProgress:f,responseType:p,headers:y,withCredentials:w="same-origin",fetchOptions:b}=pp(e);p=p?(p+"").toLowerCase():"text";let v=ny([l,a&&a.toAbortSignal()],c),E;const S=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let A;try{if(f&&ly&&n!=="get"&&n!=="head"&&(A=await cy(y,r))!==0){let B=new Request(t,{method:"POST",body:r,duplex:"half"}),F;if(X.isFormData(r)&&(F=B.headers.get("content-type"))&&y.setContentType(F),B.body){const[Y,ut]=Tf(A,ul(Of(f)));r=Cf(B.body,qf,Y,ut)}}X.isString(w)||(w=w?"include":"omit");const L="credentials"in Request.prototype;E=new Request(t,{...b,signal:v,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:r,duplex:"half",credentials:L?w:void 0});let T=await fetch(E);const O=uc&&(p==="stream"||p==="response");if(uc&&(h||O&&S)){const B={};["status","statusText","headers"].forEach(it=>{B[it]=T[it]});const F=X.toFiniteNumber(T.headers.get("content-length")),[Y,ut]=h&&Tf(F,ul(Of(h),!0))||[];T=new Response(Cf(T.body,qf,Y,()=>{ut&&ut(),S&&S()}),B)}p=p||"text";let I=await hl[X.findKey(hl,p)||"text"](T,e);return!O&&S&&S(),await new Promise((B,F)=>{fp(B,F,{data:I,headers:Nr.from(T.headers),status:T.status,statusText:T.statusText,config:e,request:E})})}catch(L){throw S&&S(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new oe("Network Error",oe.ERR_NETWORK,e,E),{cause:L.cause||L}):oe.from(L,L&&L.code,e,E)}}),hc={http:Ab,xhr:ty,fetch:uy};X.forEach(hc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const kf=e=>`- ${e}`,hy=e=>X.isFunction(e)||e===null||e===!1,bp={getAdapter:e=>{e=X.isArray(e)?e:[e];const{length:t}=e;let n,r;const l={};for(let a=0;a<t;a++){n=e[a];let c;if(r=n,!hy(n)&&(r=hc[(c=String(n)).toLowerCase()],r===void 0))throw new oe(`Unknown adapter '${c}'`);if(r)break;l[c||"#"+a]=r}if(!r){const a=Object.entries(l).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=t?a.length>1?`since :
`+a.map(kf).join(`
`):" "+kf(a[0]):"as no adapter specified";throw new oe("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:hc};function Fa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xi(null,e)}function Rf(e){return Fa(e),e.headers=Nr.from(e.headers),e.data=Ua.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bp.getAdapter(e.adapter||cu.adapter)(e).then(function(r){return Fa(e),r.data=Ua.call(e,e.transformResponse,r),r.headers=Nr.from(r.headers),r},function(r){return hp(r)||(Fa(e),r&&r.response&&(r.response.data=Ua.call(e,e.transformResponse,r.response),r.response.headers=Nr.from(r.response.headers))),Promise.reject(r)})}const yp="1.7.7",uu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{uu[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const If={};uu.transitional=function(t,n,r){function l(a,c){return"[Axios v"+yp+"] Transitional option '"+a+"'"+c+(r?". "+r:"")}return(a,c,h)=>{if(t===!1)throw new oe(l(c," has been removed"+(n?" in "+n:"")),oe.ERR_DEPRECATED);return n&&!If[c]&&(If[c]=!0,console.warn(l(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,c,h):!0}};function fy(e,t,n){if(typeof e!="object")throw new oe("options must be an object",oe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let l=r.length;for(;l-- >0;){const a=r[l],c=t[a];if(c){const h=e[a],f=h===void 0||c(h,a,e);if(f!==!0)throw new oe("option "+a+" must be "+f,oe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new oe("Unknown option "+a,oe.ERR_BAD_OPTION)}}const fc={assertOptions:fy,validators:uu},us=fc.validators;class fl{constructor(t){this.defaults=t,this.interceptors={request:new Nf,response:new Nf}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let l;Error.captureStackTrace?Error.captureStackTrace(l={}):l=new Error;const a=l.stack?l.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ds(this.defaults,n);const{transitional:r,paramsSerializer:l,headers:a}=n;r!==void 0&&fc.assertOptions(r,{silentJSONParsing:us.transitional(us.boolean),forcedJSONParsing:us.transitional(us.boolean),clarifyTimeoutError:us.transitional(us.boolean)},!1),l!=null&&(X.isFunction(l)?n.paramsSerializer={serialize:l}:fc.assertOptions(l,{encode:us.function,serialize:us.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=a&&X.merge(a.common,a[n.method]);a&&X.forEach(["delete","get","head","post","put","patch","common"],E=>{delete a[E]}),n.headers=Nr.concat(c,a);const h=[];let f=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(f=f&&S.synchronous,h.unshift(S.fulfilled,S.rejected))});const p=[];this.interceptors.response.forEach(function(S){p.push(S.fulfilled,S.rejected)});let y,w=0,b;if(!f){const E=[Rf.bind(this),void 0];for(E.unshift.apply(E,h),E.push.apply(E,p),b=E.length,y=Promise.resolve(n);w<b;)y=y.then(E[w++],E[w++]);return y}b=h.length;let v=n;for(w=0;w<b;){const E=h[w++],S=h[w++];try{v=E(v)}catch(A){S.call(this,A);break}}try{y=Rf.call(this,v)}catch(E){return Promise.reject(E)}for(w=0,b=p.length;w<b;)y=y.then(p[w++],p[w++]);return y}getUri(t){t=Ds(this.defaults,t);const n=dp(t.baseURL,t.url);return ap(n,t.params,t.paramsSerializer)}}X.forEach(["delete","get","head","options"],function(t){fl.prototype[t]=function(n,r){return this.request(Ds(r||{},{method:t,url:n,data:(r||{}).data}))}});X.forEach(["post","put","patch"],function(t){function n(r){return function(a,c,h){return this.request(Ds(h||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}fl.prototype[t]=n(),fl.prototype[t+"Form"]=n(!0)});const sl=fl;class hu{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(l=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](l);r._listeners=null}),this.promise.then=l=>{let a;const c=new Promise(h=>{r.subscribe(h),a=h}).then(l);return c.cancel=function(){r.unsubscribe(a)},c},t(function(a,c,h){r.reason||(r.reason=new xi(a,c,h),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new hu(function(l){t=l}),cancel:t}}}const dy=hu;function py(e){return function(n){return e.apply(null,n)}}function gy(e){return X.isObject(e)&&e.isAxiosError===!0}const dc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dc).forEach(([e,t])=>{dc[t]=e});const my=dc;function vp(e){const t=new sl(e),n=Xd(sl.prototype.request,t);return X.extend(n,sl.prototype,t,{allOwnKeys:!0}),X.extend(n,t,null,{allOwnKeys:!0}),n.create=function(l){return vp(Ds(e,l))},n}const gn=vp(cu);gn.Axios=sl;gn.CanceledError=xi;gn.CancelToken=dy;gn.isCancel=hp;gn.VERSION=yp;gn.toFormData=Tl;gn.AxiosError=oe;gn.Cancel=gn.CanceledError;gn.all=function(t){return Promise.all(t)};gn.spread=py;gn.isAxiosError=gy;gn.mergeConfig=Ds;gn.AxiosHeaders=Nr;gn.formToJSON=e=>up(X.isHTMLForm(e)?new FormData(e):e);gn.getAdapter=bp.getAdapter;gn.HttpStatusCode=my;gn.default=gn;const by=gn;window.axios=by;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var pc=!1,gc=!1,js=[],mc=-1;function yy(e){vy(e)}function vy(e){js.includes(e)||js.push(e),wy()}function wp(e){let t=js.indexOf(e);t!==-1&&t>mc&&js.splice(t,1)}function wy(){!gc&&!pc&&(pc=!0,queueMicrotask(xy))}function xy(){pc=!1,gc=!0;for(let e=0;e<js.length;e++)js[e](),mc=e;js.length=0,mc=-1,gc=!1}var Ei,Hs,Ai,xp,bc=!0;function Ey(e){bc=!1,e(),bc=!0}function Ay(e){Ei=e.reactive,Ai=e.release,Hs=t=>e.effect(t,{scheduler:n=>{bc?yy(n):n()}}),xp=e.raw}function jf(e){Hs=e}function _y(e){let t=()=>{};return[r=>{let l=Hs(r);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(a=>a())}),e._x_effects.add(l),t=()=>{l!==void 0&&(e._x_effects.delete(l),Ai(l))},l},()=>{t()}]}function Ep(e,t){let n=!0,r,l=Hs(()=>{let a=e();JSON.stringify(a),n?r=a:queueMicrotask(()=>{t(a,r),r=a}),n=!1});return()=>Ai(l)}var Ap=[],_p=[],Np=[];function Ny(e){Np.push(e)}function fu(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,_p.push(t))}function Sp(e){Ap.push(e)}function Tp(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}function Op(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([n,r])=>{(t===void 0||t.includes(n))&&(r.forEach(l=>l()),delete e._x_attributeCleanups[n])})}function Sy(e){if(e._x_cleanups)for(;e._x_cleanups.length;)e._x_cleanups.pop()()}var du=new MutationObserver(bu),pu=!1;function gu(){du.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),pu=!0}function Lp(){Ty(),du.disconnect(),pu=!1}var Ui=[];function Ty(){let e=du.takeRecords();Ui.push(()=>e.length>0&&bu(e));let t=Ui.length;queueMicrotask(()=>{if(Ui.length===t)for(;Ui.length>0;)Ui.shift()()})}function wn(e){if(!pu)return e();Lp();let t=e();return gu(),t}var mu=!1,dl=[];function Oy(){mu=!0}function Ly(){mu=!1,bu(dl),dl=[]}function bu(e){if(mu){dl=dl.concat(e);return}let t=new Set,n=new Set,r=new Map,l=new Map;for(let a=0;a<e.length;a++)if(!e[a].target._x_ignoreMutationObserver&&(e[a].type==="childList"&&(e[a].addedNodes.forEach(c=>c.nodeType===1&&t.add(c)),e[a].removedNodes.forEach(c=>c.nodeType===1&&n.add(c))),e[a].type==="attributes")){let c=e[a].target,h=e[a].attributeName,f=e[a].oldValue,p=()=>{r.has(c)||r.set(c,[]),r.get(c).push({name:h,value:c.getAttribute(h)})},y=()=>{l.has(c)||l.set(c,[]),l.get(c).push(h)};c.hasAttribute(h)&&f===null?p():c.hasAttribute(h)?(y(),p()):y()}l.forEach((a,c)=>{Op(c,a)}),r.forEach((a,c)=>{Ap.forEach(h=>h(c,a))});for(let a of n)t.has(a)||_p.forEach(c=>c(a));t.forEach(a=>{a._x_ignoreSelf=!0,a._x_ignore=!0});for(let a of t)n.has(a)||a.isConnected&&(delete a._x_ignoreSelf,delete a._x_ignore,Np.forEach(c=>c(a)),a._x_ignore=!0,a._x_ignoreSelf=!0);t.forEach(a=>{delete a._x_ignoreSelf,delete a._x_ignore}),t=null,n=null,r=null,l=null}function Cp(e){return po(di(e))}function fo(e,t,n){return e._x_dataStack=[t,...di(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter(r=>r!==t)}}function di(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?di(e.host):e.parentNode?di(e.parentNode):[]}function po(e){return new Proxy({objects:e},Cy)}var Cy={ownKeys({objects:e}){return Array.from(new Set(e.flatMap(t=>Object.keys(t))))},has({objects:e},t){return t==Symbol.unscopables?!1:e.some(n=>Object.prototype.hasOwnProperty.call(n,t)||Reflect.has(n,t))},get({objects:e},t,n){return t=="toJSON"?qy:Reflect.get(e.find(r=>Reflect.has(r,t))||{},t,n)},set({objects:e},t,n,r){const l=e.find(c=>Object.prototype.hasOwnProperty.call(c,t))||e[e.length-1],a=Object.getOwnPropertyDescriptor(l,t);return a!=null&&a.set&&(a!=null&&a.get)?a.set.call(r,n)||!0:Reflect.set(l,t,n)}};function qy(){return Reflect.ownKeys(this).reduce((t,n)=>(t[n]=Reflect.get(this,n),t),{})}function qp(e){let t=r=>typeof r=="object"&&!Array.isArray(r)&&r!==null,n=(r,l="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach(([a,{value:c,enumerable:h}])=>{if(h===!1||c===void 0||typeof c=="object"&&c!==null&&c.__v_skip)return;let f=l===""?a:`${l}.${a}`;typeof c=="object"&&c!==null&&c._x_interceptor?r[a]=c.initialize(e,f,a):t(c)&&c!==r&&!(c instanceof Element)&&n(c,f)})};return n(e)}function kp(e,t=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(r,l,a){return e(this.initialValue,()=>ky(r,l),c=>yc(r,l,c),l,a)}};return t(n),r=>{if(typeof r=="object"&&r!==null&&r._x_interceptor){let l=n.initialize.bind(n);n.initialize=(a,c,h)=>{let f=r.initialize(a,c,h);return n.initialValue=f,l(a,c,h)}}else n.initialValue=r;return n}}function ky(e,t){return t.split(".").reduce((n,r)=>n[r],e)}function yc(e,t,n){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=n;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),yc(e[t[0]],t.slice(1),n)}}var Rp={};function Cr(e,t){Rp[e]=t}function vc(e,t){return Object.entries(Rp).forEach(([n,r])=>{let l=null;function a(){if(l)return l;{let[c,h]=Dp(t);return l={interceptor:kp,...c},fu(t,h),l}}Object.defineProperty(e,`$${n}`,{get(){return r(t,a())},enumerable:!1})}),e}function Ry(e,t,n,...r){try{return n(...r)}catch(l){eo(l,e,t)}}function eo(e,t,n=void 0){e=Object.assign(e??{message:"No error message given."},{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}

${n?'Expression: "'+n+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var il=!0;function Ip(e){let t=il;il=!1;let n=e();return il=t,n}function Bs(e,t,n={}){let r;return Hn(e,t)(l=>r=l,n),r}function Hn(...e){return jp(...e)}var jp=Bp;function Iy(e){jp=e}function Bp(e,t){let n={};vc(n,e);let r=[n,...di(e)],l=typeof t=="function"?jy(r,t):My(r,t,e);return Ry.bind(null,e,t,l)}function jy(e,t){return(n=()=>{},{scope:r={},params:l=[]}={})=>{let a=t.apply(po([r,...e]),l);pl(n,a)}}var Ha={};function By(e,t){if(Ha[e])return Ha[e];let n=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,a=(()=>{try{let c=new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`);return Object.defineProperty(c,"name",{value:`[Alpine] ${e}`}),c}catch(c){return eo(c,t,e),Promise.resolve()}})();return Ha[e]=a,a}function My(e,t,n){let r=By(t,n);return(l=()=>{},{scope:a={},params:c=[]}={})=>{r.result=void 0,r.finished=!1;let h=po([a,...e]);if(typeof r=="function"){let f=r(r,h).catch(p=>eo(p,n,t));r.finished?(pl(l,r.result,h,c,n),r.result=void 0):f.then(p=>{pl(l,p,h,c,n)}).catch(p=>eo(p,n,t)).finally(()=>r.result=void 0)}}}function pl(e,t,n,r,l){if(il&&typeof t=="function"){let a=t.apply(n,r);a instanceof Promise?a.then(c=>pl(e,c,n,r)).catch(c=>eo(c,l,t)):e(a)}else typeof t=="object"&&t instanceof Promise?t.then(a=>e(a)):e(t)}var yu="x-";function _i(e=""){return yu+e}function Py(e){yu=e}var gl={};function mn(e,t){return gl[e]=t,{before(n){if(!gl[n]){console.warn(String.raw`Cannot find directive \`${n}\`. \`${e}\` will use the default order of execution`);return}const r=Is.indexOf(n);Is.splice(r>=0?r:Is.indexOf("DEFAULT"),0,e)}}}function Dy(e){return Object.keys(gl).includes(e)}function vu(e,t,n){if(t=Array.from(t),e._x_virtualDirectives){let a=Object.entries(e._x_virtualDirectives).map(([h,f])=>({name:h,value:f})),c=Mp(a);a=a.map(h=>c.find(f=>f.name===h.name)?{name:`x-bind:${h.name}`,value:`"${h.value}"`}:h),t=t.concat(a)}let r={};return t.map(Fp((a,c)=>r[a]=c)).filter(zp).map(Fy(r,n)).sort(Hy).map(a=>Uy(e,a))}function Mp(e){return Array.from(e).map(Fp()).filter(t=>!zp(t))}var wc=!1,Ki=new Map,Pp=Symbol();function $y(e){wc=!0;let t=Symbol();Pp=t,Ki.set(t,[]);let n=()=>{for(;Ki.get(t).length;)Ki.get(t).shift()();Ki.delete(t)},r=()=>{wc=!1,n()};e(n),r()}function Dp(e){let t=[],n=h=>t.push(h),[r,l]=_y(e);return t.push(l),[{Alpine:Rl,effect:r,cleanup:n,evaluateLater:Hn.bind(Hn,e),evaluate:Bs.bind(Bs,e)},()=>t.forEach(h=>h())]}function Uy(e,t){let n=()=>{},r=gl[t.type]||n,[l,a]=Dp(e);Tp(e,t.original,a);let c=()=>{e._x_ignore||e._x_ignoreSelf||(r.inline&&r.inline(e,t,l),r=r.bind(r,e,t,l),wc?Ki.get(Pp).push(r):r())};return c.runCleanups=a,c}var $p=(e,t)=>({name:n,value:r})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:r}),Up=e=>e;function Fp(e=()=>{}){return({name:t,value:n})=>{let{name:r,value:l}=Hp.reduce((a,c)=>c(a),{name:t,value:n});return r!==t&&e(r,t),{name:r,value:l}}}var Hp=[];function wu(e){Hp.push(e)}function zp({name:e}){return Vp().test(e)}var Vp=()=>new RegExp(`^${yu}([^:^.]+)\\b`);function Fy(e,t){return({name:n,value:r})=>{let l=n.match(Vp()),a=n.match(/:([a-zA-Z0-9\-_:]+)/),c=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],h=t||e[n]||n;return{type:l?l[1]:null,value:a?a[1]:null,modifiers:c.map(f=>f.replace(".","")),expression:r,original:h}}}var xc="DEFAULT",Is=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",xc,"teleport"];function Hy(e,t){let n=Is.indexOf(e.type)===-1?xc:e.type,r=Is.indexOf(t.type)===-1?xc:t.type;return Is.indexOf(n)-Is.indexOf(r)}function Gi(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function bs(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(l=>bs(l,t));return}let n=!1;if(t(e,()=>n=!0),n)return;let r=e.firstElementChild;for(;r;)bs(r,t),r=r.nextElementSibling}function fr(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var Bf=!1;function zy(){Bf&&fr("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Bf=!0,document.body||fr("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Gi(document,"alpine:init"),Gi(document,"alpine:initializing"),gu(),Ny(t=>Qr(t,bs)),fu(t=>Yp(t)),Sp((t,n)=>{vu(t,n).forEach(r=>r())});let e=t=>!Cl(t.parentElement,!0);Array.from(document.querySelectorAll(Gp().join(","))).filter(e).forEach(t=>{Qr(t)}),Gi(document,"alpine:initialized"),setTimeout(()=>{Wy()})}var xu=[],Kp=[];function Wp(){return xu.map(e=>e())}function Gp(){return xu.concat(Kp).map(e=>e())}function Zp(e){xu.push(e)}function Xp(e){Kp.push(e)}function Cl(e,t=!1){return go(e,n=>{if((t?Gp():Wp()).some(l=>n.matches(l)))return!0})}function go(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return go(e.parentElement,t)}}function Vy(e){return Wp().some(t=>e.matches(t))}var Jp=[];function Ky(e){Jp.push(e)}function Qr(e,t=bs,n=()=>{}){$y(()=>{t(e,(r,l)=>{n(r,l),Jp.forEach(a=>a(r,l)),vu(r,r.attributes).forEach(a=>a()),r._x_ignore&&l()})})}function Yp(e,t=bs){t(e,n=>{Op(n),Sy(n)})}function Wy(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([t,n,r])=>{Dy(n)||r.some(l=>{if(document.querySelector(l))return fr(`found "${l}", but missing ${t} plugin`),!0})})}var Ec=[],Eu=!1;function Au(e=()=>{}){return queueMicrotask(()=>{Eu||setTimeout(()=>{Ac()})}),new Promise(t=>{Ec.push(()=>{e(),t()})})}function Ac(){for(Eu=!1;Ec.length;)Ec.shift()()}function Gy(){Eu=!0}function _u(e,t){return Array.isArray(t)?Mf(e,t.join(" ")):typeof t=="object"&&t!==null?Zy(e,t):typeof t=="function"?_u(e,t()):Mf(e,t)}function Mf(e,t){let n=l=>l.split(" ").filter(a=>!e.classList.contains(a)).filter(Boolean),r=l=>(e.classList.add(...l),()=>{e.classList.remove(...l)});return t=t===!0?t="":t||"",r(n(t))}function Zy(e,t){let n=h=>h.split(" ").filter(Boolean),r=Object.entries(t).flatMap(([h,f])=>f?n(h):!1).filter(Boolean),l=Object.entries(t).flatMap(([h,f])=>f?!1:n(h)).filter(Boolean),a=[],c=[];return l.forEach(h=>{e.classList.contains(h)&&(e.classList.remove(h),c.push(h))}),r.forEach(h=>{e.classList.contains(h)||(e.classList.add(h),a.push(h))}),()=>{c.forEach(h=>e.classList.add(h)),a.forEach(h=>e.classList.remove(h))}}function ql(e,t){return typeof t=="object"&&t!==null?Xy(e,t):Jy(e,t)}function Xy(e,t){let n={};return Object.entries(t).forEach(([r,l])=>{n[r]=e.style[r],r.startsWith("--")||(r=Yy(r)),e.style.setProperty(r,l)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{ql(e,n)}}function Jy(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}function Yy(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _c(e,t=()=>{}){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}mn("transition",(e,{value:t,modifiers:n,expression:r},{evaluate:l})=>{typeof r=="function"&&(r=l(r)),r!==!1&&(!r||typeof r=="boolean"?tv(e,n,t):Qy(e,r,t))});function Qy(e,t,n){Qp(e,_u,""),{enter:l=>{e._x_transition.enter.during=l},"enter-start":l=>{e._x_transition.enter.start=l},"enter-end":l=>{e._x_transition.enter.end=l},leave:l=>{e._x_transition.leave.during=l},"leave-start":l=>{e._x_transition.leave.start=l},"leave-end":l=>{e._x_transition.leave.end=l}}[n](t)}function tv(e,t,n){Qp(e,ql);let r=!t.includes("in")&&!t.includes("out")&&!n,l=r||t.includes("in")||["enter"].includes(n),a=r||t.includes("out")||["leave"].includes(n);t.includes("in")&&!r&&(t=t.filter((L,T)=>T<t.indexOf("out"))),t.includes("out")&&!r&&(t=t.filter((L,T)=>T>t.indexOf("out")));let c=!t.includes("opacity")&&!t.includes("scale"),h=c||t.includes("opacity"),f=c||t.includes("scale"),p=h?0:1,y=f?Fi(t,"scale",95)/100:1,w=Fi(t,"delay",0)/1e3,b=Fi(t,"origin","center"),v="opacity, transform",E=Fi(t,"duration",150)/1e3,S=Fi(t,"duration",75)/1e3,A="cubic-bezier(0.4, 0.0, 0.2, 1)";l&&(e._x_transition.enter.during={transformOrigin:b,transitionDelay:`${w}s`,transitionProperty:v,transitionDuration:`${E}s`,transitionTimingFunction:A},e._x_transition.enter.start={opacity:p,transform:`scale(${y})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),a&&(e._x_transition.leave.during={transformOrigin:b,transitionDelay:`${w}s`,transitionProperty:v,transitionDuration:`${S}s`,transitionTimingFunction:A},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:p,transform:`scale(${y})`})}function Qp(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(r=()=>{},l=()=>{}){Nc(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,l)},out(r=()=>{},l=()=>{}){Nc(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,l)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,r){const l=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let a=()=>l(n);if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):a():e._x_transition?e._x_transition.in(n):a();return}e._x_hidePromise=e._x_transition?new Promise((c,h)=>{e._x_transition.out(()=>{},()=>c(r)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>h({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let c=tg(e);c?(c._x_hideChildren||(c._x_hideChildren=[]),c._x_hideChildren.push(e)):l(()=>{let h=f=>{let p=Promise.all([f._x_hidePromise,...(f._x_hideChildren||[]).map(h)]).then(([y])=>y==null?void 0:y());return delete f._x_hidePromise,delete f._x_hideChildren,p};h(e).catch(f=>{if(!f.isFromCancelledTransition)throw f})})})};function tg(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:tg(t)}function Nc(e,t,{during:n,start:r,end:l}={},a=()=>{},c=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(r).length===0&&Object.keys(l).length===0){a(),c();return}let h,f,p;ev(e,{start(){h=t(e,r)},during(){f=t(e,n)},before:a,end(){h(),p=t(e,l)},after:c,cleanup(){f(),p()}})}function ev(e,t){let n,r,l,a=_c(()=>{wn(()=>{n=!0,r||t.before(),l||(t.end(),Ac()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(c){this.beforeCancels.push(c)},cancel:_c(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();a()}),finish:a},wn(()=>{t.start(),t.during()}),Gy(),requestAnimationFrame(()=>{if(n)return;let c=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,h=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;c===0&&(c=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),wn(()=>{t.before()}),r=!0,requestAnimationFrame(()=>{n||(wn(()=>{t.end()}),Ac(),setTimeout(e._x_transitioning.finish,c+h),l=!0)})})}function Fi(e,t,n){if(e.indexOf(t)===-1)return n;const r=e[e.indexOf(t)+1];if(!r||t==="scale"&&isNaN(r))return n;if(t==="duration"||t==="delay"){let l=r.match(/([0-9]+)ms/);if(l)return l[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}var ys=!1;function xs(e,t=()=>{}){return(...n)=>ys?t(...n):e(...n)}function nv(e){return(...t)=>ys&&e(...t)}var eg=[];function kl(e){eg.push(e)}function rv(e,t){eg.forEach(n=>n(e,t)),ys=!0,ng(()=>{Qr(t,(n,r)=>{r(n,()=>{})})}),ys=!1}var Sc=!1;function sv(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),ys=!0,Sc=!0,ng(()=>{iv(t)}),ys=!1,Sc=!1}function iv(e){let t=!1;Qr(e,(r,l)=>{bs(r,(a,c)=>{if(t&&Vy(a))return c();t=!0,l(a,c)})})}function ng(e){let t=Hs;jf((n,r)=>{let l=t(n);return Ai(l),()=>{}}),e(),jf(t)}function rg(e,t,n,r=[]){switch(e._x_bindings||(e._x_bindings=Ei({})),e._x_bindings[t]=n,t=r.includes("camel")?dv(t):t,t){case"value":ov(e,n);break;case"style":av(e,n);break;case"class":lv(e,n);break;case"selected":case"checked":cv(e,t,n);break;default:sg(e,t,n);break}}function ov(e,t){if(e.type==="radio")e.attributes.value===void 0&&(e.value=t),window.fromModel&&(typeof t=="boolean"?e.checked=ol(e.value)===t:e.checked=Pf(e.value,t));else if(e.type==="checkbox")Number.isInteger(t)?e.value=t:!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(n=>Pf(n,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")fv(e,t);else{if(e.value===t)return;e.value=t===void 0?"":t}}function lv(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=_u(e,t)}function av(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=ql(e,t)}function cv(e,t,n){sg(e,t,n),hv(e,t,n)}function sg(e,t,n){[null,void 0,!1].includes(n)&&pv(t)?e.removeAttribute(t):(ig(t)&&(n=t),uv(e,t,n))}function uv(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}function hv(e,t,n){e[t]!==n&&(e[t]=n)}function fv(e,t){const n=[].concat(t).map(r=>r+"");Array.from(e.options).forEach(r=>{r.selected=n.includes(r.value)})}function dv(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function Pf(e,t){return e==t}function ol(e){return[1,"1","true","on","yes",!0].includes(e)?!0:[0,"0","false","off","no",!1].includes(e)?!1:e?!!e:null}function ig(e){return["disabled","checked","required","readonly","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function pv(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function gv(e,t,n){return e._x_bindings&&e._x_bindings[t]!==void 0?e._x_bindings[t]:og(e,t,n)}function mv(e,t,n,r=!0){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];if(e._x_inlineBindings&&e._x_inlineBindings[t]!==void 0){let l=e._x_inlineBindings[t];return l.extract=r,Ip(()=>Bs(e,l.expression))}return og(e,t,n)}function og(e,t,n){let r=e.getAttribute(t);return r===null?typeof n=="function"?n():n:r===""?!0:ig(t)?!![t,"true"].includes(r):r}function lg(e,t){var n;return function(){var r=this,l=arguments,a=function(){n=null,e.apply(r,l)};clearTimeout(n),n=setTimeout(a,t)}}function ag(e,t){let n;return function(){let r=this,l=arguments;n||(e.apply(r,l),n=!0,setTimeout(()=>n=!1,t))}}function cg({get:e,set:t},{get:n,set:r}){let l=!0,a,c=Hs(()=>{let h=e(),f=n();if(l)r(za(h)),l=!1;else{let p=JSON.stringify(h),y=JSON.stringify(f);p!==a?r(za(h)):p!==y&&t(za(f))}a=JSON.stringify(e()),JSON.stringify(n())});return()=>{Ai(c)}}function za(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function bv(e){(Array.isArray(e)?e:[e]).forEach(n=>n(Rl))}var qs={},Df=!1;function yv(e,t){if(Df||(qs=Ei(qs),Df=!0),t===void 0)return qs[e];qs[e]=t,typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&qs[e].init(),qp(qs[e])}function vv(){return qs}var ug={};function wv(e,t){let n=typeof t!="function"?()=>t:t;return e instanceof Element?hg(e,n()):(ug[e]=n,()=>{})}function xv(e){return Object.entries(ug).forEach(([t,n])=>{Object.defineProperty(e,t,{get(){return(...r)=>n(...r)}})}),e}function hg(e,t,n){let r=[];for(;r.length;)r.pop()();let l=Object.entries(t).map(([c,h])=>({name:c,value:h})),a=Mp(l);return l=l.map(c=>a.find(h=>h.name===c.name)?{name:`x-bind:${c.name}`,value:`"${c.value}"`}:c),vu(e,l,n).map(c=>{r.push(c.runCleanups),c()}),()=>{for(;r.length;)r.pop()()}}var fg={};function Ev(e,t){fg[e]=t}function Av(e,t){return Object.entries(fg).forEach(([n,r])=>{Object.defineProperty(e,n,{get(){return(...l)=>r.bind(t)(...l)},enumerable:!1})}),e}var _v={get reactive(){return Ei},get release(){return Ai},get effect(){return Hs},get raw(){return xp},version:"3.14.1",flushAndStopDeferringMutations:Ly,dontAutoEvaluateFunctions:Ip,disableEffectScheduling:Ey,startObservingMutations:gu,stopObservingMutations:Lp,setReactivityEngine:Ay,onAttributeRemoved:Tp,onAttributesAdded:Sp,closestDataStack:di,skipDuringClone:xs,onlyDuringClone:nv,addRootSelector:Zp,addInitSelector:Xp,interceptClone:kl,addScopeToNode:fo,deferMutations:Oy,mapAttributes:wu,evaluateLater:Hn,interceptInit:Ky,setEvaluator:Iy,mergeProxies:po,extractProp:mv,findClosest:go,onElRemoved:fu,closestRoot:Cl,destroyTree:Yp,interceptor:kp,transition:Nc,setStyles:ql,mutateDom:wn,directive:mn,entangle:cg,throttle:ag,debounce:lg,evaluate:Bs,initTree:Qr,nextTick:Au,prefixed:_i,prefix:Py,plugin:bv,magic:Cr,store:yv,start:zy,clone:sv,cloneNode:rv,bound:gv,$data:Cp,watch:Ep,walk:bs,data:Ev,bind:wv},Rl=_v;function Nv(e,t){const n=Object.create(null),r=e.split(",");for(let l=0;l<r.length;l++)n[r[l]]=!0;return t?l=>!!n[l.toLowerCase()]:l=>!!n[l]}var Sv=Object.freeze({}),Tv=Object.prototype.hasOwnProperty,Il=(e,t)=>Tv.call(e,t),Ms=Array.isArray,Zi=e=>dg(e)==="[object Map]",Ov=e=>typeof e=="string",Nu=e=>typeof e=="symbol",jl=e=>e!==null&&typeof e=="object",Lv=Object.prototype.toString,dg=e=>Lv.call(e),pg=e=>dg(e).slice(8,-1),Su=e=>Ov(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Cv=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},qv=Cv(e=>e.charAt(0).toUpperCase()+e.slice(1)),gg=(e,t)=>e!==t&&(e===e||t===t),Tc=new WeakMap,Hi=[],Ur,Ps=Symbol("iterate"),Oc=Symbol("Map key iterate");function kv(e){return e&&e._isEffect===!0}function Rv(e,t=Sv){kv(e)&&(e=e.raw);const n=Bv(e,t);return t.lazy||n(),n}function Iv(e){e.active&&(mg(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var jv=0;function Bv(e,t){const n=function(){if(!n.active)return e();if(!Hi.includes(n)){mg(n);try{return Pv(),Hi.push(n),Ur=n,e()}finally{Hi.pop(),bg(),Ur=Hi[Hi.length-1]}}};return n.id=jv++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}function mg(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var pi=!0,Tu=[];function Mv(){Tu.push(pi),pi=!1}function Pv(){Tu.push(pi),pi=!0}function bg(){const e=Tu.pop();pi=e===void 0?!0:e}function Tr(e,t,n){if(!pi||Ur===void 0)return;let r=Tc.get(e);r||Tc.set(e,r=new Map);let l=r.get(n);l||r.set(n,l=new Set),l.has(Ur)||(l.add(Ur),Ur.deps.push(l),Ur.options.onTrack&&Ur.options.onTrack({effect:Ur,target:e,type:t,key:n}))}function vs(e,t,n,r,l,a){const c=Tc.get(e);if(!c)return;const h=new Set,f=y=>{y&&y.forEach(w=>{(w!==Ur||w.allowRecurse)&&h.add(w)})};if(t==="clear")c.forEach(f);else if(n==="length"&&Ms(e))c.forEach((y,w)=>{(w==="length"||w>=r)&&f(y)});else switch(n!==void 0&&f(c.get(n)),t){case"add":Ms(e)?Su(n)&&f(c.get("length")):(f(c.get(Ps)),Zi(e)&&f(c.get(Oc)));break;case"delete":Ms(e)||(f(c.get(Ps)),Zi(e)&&f(c.get(Oc)));break;case"set":Zi(e)&&f(c.get(Ps));break}const p=y=>{y.options.onTrigger&&y.options.onTrigger({effect:y,target:e,key:n,type:t,newValue:r,oldValue:l,oldTarget:a}),y.options.scheduler?y.options.scheduler(y):y()};h.forEach(p)}var Dv=Nv("__proto__,__v_isRef,__isVue"),yg=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Nu)),$v=vg(),Uv=vg(!0),$f=Fv();function Fv(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=sn(this);for(let a=0,c=this.length;a<c;a++)Tr(r,"get",a+"");const l=r[t](...n);return l===-1||l===!1?r[t](...n.map(sn)):l}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Mv();const r=sn(this)[t].apply(this,n);return bg(),r}}),e}function vg(e=!1,t=!1){return function(r,l,a){if(l==="__v_isReactive")return!e;if(l==="__v_isReadonly")return e;if(l==="__v_raw"&&a===(e?t?sw:Ag:t?rw:Eg).get(r))return r;const c=Ms(r);if(!e&&c&&Il($f,l))return Reflect.get($f,l,a);const h=Reflect.get(r,l,a);return(Nu(l)?yg.has(l):Dv(l))||(e||Tr(r,"get",l),t)?h:Lc(h)?!c||!Su(l)?h.value:h:jl(h)?e?_g(h):qu(h):h}}var Hv=zv();function zv(e=!1){return function(n,r,l,a){let c=n[r];if(!e&&(l=sn(l),c=sn(c),!Ms(n)&&Lc(c)&&!Lc(l)))return c.value=l,!0;const h=Ms(n)&&Su(r)?Number(r)<n.length:Il(n,r),f=Reflect.set(n,r,l,a);return n===sn(a)&&(h?gg(l,c)&&vs(n,"set",r,l,c):vs(n,"add",r,l)),f}}function Vv(e,t){const n=Il(e,t),r=e[t],l=Reflect.deleteProperty(e,t);return l&&n&&vs(e,"delete",t,void 0,r),l}function Kv(e,t){const n=Reflect.has(e,t);return(!Nu(t)||!yg.has(t))&&Tr(e,"has",t),n}function Wv(e){return Tr(e,"iterate",Ms(e)?"length":Ps),Reflect.ownKeys(e)}var Gv={get:$v,set:Hv,deleteProperty:Vv,has:Kv,ownKeys:Wv},Zv={get:Uv,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},Ou=e=>jl(e)?qu(e):e,Lu=e=>jl(e)?_g(e):e,Cu=e=>e,Bl=e=>Reflect.getPrototypeOf(e);function Vo(e,t,n=!1,r=!1){e=e.__v_raw;const l=sn(e),a=sn(t);t!==a&&!n&&Tr(l,"get",t),!n&&Tr(l,"get",a);const{has:c}=Bl(l),h=r?Cu:n?Lu:Ou;if(c.call(l,t))return h(e.get(t));if(c.call(l,a))return h(e.get(a));e!==l&&e.get(t)}function Ko(e,t=!1){const n=this.__v_raw,r=sn(n),l=sn(e);return e!==l&&!t&&Tr(r,"has",e),!t&&Tr(r,"has",l),e===l?n.has(e):n.has(e)||n.has(l)}function Wo(e,t=!1){return e=e.__v_raw,!t&&Tr(sn(e),"iterate",Ps),Reflect.get(e,"size",e)}function Uf(e){e=sn(e);const t=sn(this);return Bl(t).has.call(t,e)||(t.add(e),vs(t,"add",e,e)),this}function Ff(e,t){t=sn(t);const n=sn(this),{has:r,get:l}=Bl(n);let a=r.call(n,e);a?xg(n,r,e):(e=sn(e),a=r.call(n,e));const c=l.call(n,e);return n.set(e,t),a?gg(t,c)&&vs(n,"set",e,t,c):vs(n,"add",e,t),this}function Hf(e){const t=sn(this),{has:n,get:r}=Bl(t);let l=n.call(t,e);l?xg(t,n,e):(e=sn(e),l=n.call(t,e));const a=r?r.call(t,e):void 0,c=t.delete(e);return l&&vs(t,"delete",e,void 0,a),c}function zf(){const e=sn(this),t=e.size!==0,n=Zi(e)?new Map(e):new Set(e),r=e.clear();return t&&vs(e,"clear",void 0,void 0,n),r}function Go(e,t){return function(r,l){const a=this,c=a.__v_raw,h=sn(c),f=t?Cu:e?Lu:Ou;return!e&&Tr(h,"iterate",Ps),c.forEach((p,y)=>r.call(l,f(p),f(y),a))}}function Zo(e,t,n){return function(...r){const l=this.__v_raw,a=sn(l),c=Zi(a),h=e==="entries"||e===Symbol.iterator&&c,f=e==="keys"&&c,p=l[e](...r),y=n?Cu:t?Lu:Ou;return!t&&Tr(a,"iterate",f?Oc:Ps),{next(){const{value:w,done:b}=p.next();return b?{value:w,done:b}:{value:h?[y(w[0]),y(w[1])]:y(w),done:b}},[Symbol.iterator](){return this}}}}function hs(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${qv(e)} operation ${n}failed: target is readonly.`,sn(this))}return e==="delete"?!1:this}}function Xv(){const e={get(a){return Vo(this,a)},get size(){return Wo(this)},has:Ko,add:Uf,set:Ff,delete:Hf,clear:zf,forEach:Go(!1,!1)},t={get(a){return Vo(this,a,!1,!0)},get size(){return Wo(this)},has:Ko,add:Uf,set:Ff,delete:Hf,clear:zf,forEach:Go(!1,!0)},n={get(a){return Vo(this,a,!0)},get size(){return Wo(this,!0)},has(a){return Ko.call(this,a,!0)},add:hs("add"),set:hs("set"),delete:hs("delete"),clear:hs("clear"),forEach:Go(!0,!1)},r={get(a){return Vo(this,a,!0,!0)},get size(){return Wo(this,!0)},has(a){return Ko.call(this,a,!0)},add:hs("add"),set:hs("set"),delete:hs("delete"),clear:hs("clear"),forEach:Go(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=Zo(a,!1,!1),n[a]=Zo(a,!0,!1),t[a]=Zo(a,!1,!0),r[a]=Zo(a,!0,!0)}),[e,n,t,r]}var[Jv,Yv,Qv,tw]=Xv();function wg(e,t){const n=t?e?tw:Qv:e?Yv:Jv;return(r,l,a)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?r:Reflect.get(Il(n,l)&&l in r?n:r,l,a)}var ew={get:wg(!1,!1)},nw={get:wg(!0,!1)};function xg(e,t,n){const r=sn(n);if(r!==n&&t.call(e,r)){const l=pg(e);console.warn(`Reactive ${l} contains both the raw and reactive versions of the same object${l==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Eg=new WeakMap,rw=new WeakMap,Ag=new WeakMap,sw=new WeakMap;function iw(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ow(e){return e.__v_skip||!Object.isExtensible(e)?0:iw(pg(e))}function qu(e){return e&&e.__v_isReadonly?e:Ng(e,!1,Gv,ew,Eg)}function _g(e){return Ng(e,!0,Zv,nw,Ag)}function Ng(e,t,n,r,l){if(!jl(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=l.get(e);if(a)return a;const c=ow(e);if(c===0)return e;const h=new Proxy(e,c===2?r:n);return l.set(e,h),h}function sn(e){return e&&sn(e.__v_raw)||e}function Lc(e){return!!(e&&e.__v_isRef===!0)}Cr("nextTick",()=>Au);Cr("dispatch",e=>Gi.bind(Gi,e));Cr("watch",(e,{evaluateLater:t,cleanup:n})=>(r,l)=>{let a=t(r),h=Ep(()=>{let f;return a(p=>f=p),f},l);n(h)});Cr("store",vv);Cr("data",e=>Cp(e));Cr("root",e=>Cl(e));Cr("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=po(lw(e))),e._x_refs_proxy));function lw(e){let t=[];return go(e,n=>{n._x_refs&&t.push(n._x_refs)}),t}var Va={};function Sg(e){return Va[e]||(Va[e]=0),++Va[e]}function aw(e,t){return go(e,n=>{if(n._x_ids&&n._x_ids[t])return!0})}function cw(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=Sg(t))}Cr("id",(e,{cleanup:t})=>(n,r=null)=>{let l=`${n}${r?`-${r}`:""}`;return uw(e,l,t,()=>{let a=aw(e,n),c=a?a._x_ids[n]:Sg(n);return r?`${n}-${c}-${r}`:`${n}-${c}`})});kl((e,t)=>{e._x_id&&(t._x_id=e._x_id)});function uw(e,t,n,r){if(e._x_id||(e._x_id={}),e._x_id[t])return e._x_id[t];let l=r();return e._x_id[t]=l,n(()=>{delete e._x_id[t]}),l}Cr("el",e=>e);Tg("Focus","focus","focus");Tg("Persist","persist","persist");function Tg(e,t,n){Cr(t,r=>fr(`You can't use [$${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}mn("modelable",(e,{expression:t},{effect:n,evaluateLater:r,cleanup:l})=>{let a=r(t),c=()=>{let y;return a(w=>y=w),y},h=r(`${t} = __placeholder`),f=y=>h(()=>{},{scope:{__placeholder:y}}),p=c();f(p),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let y=e._x_model.get,w=e._x_model.set,b=cg({get(){return y()},set(v){w(v)}},{get(){return c()},set(v){f(v)}});l(b)})});mn("teleport",(e,{modifiers:t,expression:n},{cleanup:r})=>{e.tagName.toLowerCase()!=="template"&&fr("x-teleport can only be used on a <template> tag",e);let l=Vf(n),a=e.content.cloneNode(!0).firstElementChild;e._x_teleport=a,a._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),a.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(h=>{a.addEventListener(h,f=>{f.stopPropagation(),e.dispatchEvent(new f.constructor(f.type,f))})}),fo(a,{},e);let c=(h,f,p)=>{p.includes("prepend")?f.parentNode.insertBefore(h,f):p.includes("append")?f.parentNode.insertBefore(h,f.nextSibling):f.appendChild(h)};wn(()=>{c(a,l,t),xs(()=>{Qr(a),a._x_ignore=!0})()}),e._x_teleportPutBack=()=>{let h=Vf(n);wn(()=>{c(e._x_teleport,h,t)})},r(()=>a.remove())});var hw=document.createElement("div");function Vf(e){let t=xs(()=>document.querySelector(e),()=>hw)();return t||fr(`Cannot find x-teleport element for selector: "${e}"`),t}var Og=()=>{};Og.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};mn("ignore",Og);mn("effect",xs((e,{expression:t},{effect:n})=>{n(Hn(e,t))}));function Cc(e,t,n,r){let l=e,a=f=>r(f),c={},h=(f,p)=>y=>p(f,y);if(n.includes("dot")&&(t=fw(t)),n.includes("camel")&&(t=dw(t)),n.includes("passive")&&(c.passive=!0),n.includes("capture")&&(c.capture=!0),n.includes("window")&&(l=window),n.includes("document")&&(l=document),n.includes("debounce")){let f=n[n.indexOf("debounce")+1]||"invalid-wait",p=ml(f.split("ms")[0])?Number(f.split("ms")[0]):250;a=lg(a,p)}if(n.includes("throttle")){let f=n[n.indexOf("throttle")+1]||"invalid-wait",p=ml(f.split("ms")[0])?Number(f.split("ms")[0]):250;a=ag(a,p)}return n.includes("prevent")&&(a=h(a,(f,p)=>{p.preventDefault(),f(p)})),n.includes("stop")&&(a=h(a,(f,p)=>{p.stopPropagation(),f(p)})),n.includes("once")&&(a=h(a,(f,p)=>{f(p),l.removeEventListener(t,a,c)})),(n.includes("away")||n.includes("outside"))&&(l=document,a=h(a,(f,p)=>{e.contains(p.target)||p.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&f(p))})),n.includes("self")&&(a=h(a,(f,p)=>{p.target===e&&f(p)})),(gw(t)||Lg(t))&&(a=h(a,(f,p)=>{mw(p,n)||f(p)})),l.addEventListener(t,a,c),()=>{l.removeEventListener(t,a,c)}}function fw(e){return e.replace(/-/g,".")}function dw(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function ml(e){return!Array.isArray(e)&&!isNaN(e)}function pw(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function gw(e){return["keydown","keyup"].includes(e)}function Lg(e){return["contextmenu","click","mouse"].some(t=>e.includes(t))}function mw(e,t){let n=t.filter(a=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(a));if(n.includes("debounce")){let a=n.indexOf("debounce");n.splice(a,ml((n[a+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let a=n.indexOf("throttle");n.splice(a,ml((n[a+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&Kf(e.key).includes(n[0]))return!1;const l=["ctrl","shift","alt","meta","cmd","super"].filter(a=>n.includes(a));return n=n.filter(a=>!l.includes(a)),!(l.length>0&&l.filter(c=>((c==="cmd"||c==="super")&&(c="meta"),e[`${c}Key`])).length===l.length&&(Lg(e.type)||Kf(e.key).includes(n[0])))}function Kf(e){if(!e)return[];e=pw(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map(n=>{if(t[n]===e)return n}).filter(n=>n)}mn("model",(e,{modifiers:t,expression:n},{effect:r,cleanup:l})=>{let a=e;t.includes("parent")&&(a=e.parentNode);let c=Hn(a,n),h;typeof n=="string"?h=Hn(a,`${n} = __placeholder`):typeof n=="function"&&typeof n()=="string"?h=Hn(a,`${n()} = __placeholder`):h=()=>{};let f=()=>{let b;return c(v=>b=v),Wf(b)?b.get():b},p=b=>{let v;c(E=>v=E),Wf(v)?v.set(b):h(()=>{},{scope:{__placeholder:b}})};typeof n=="string"&&e.type==="radio"&&wn(()=>{e.hasAttribute("name")||e.setAttribute("name",n)});var y=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let w=ys?()=>{}:Cc(e,y,t,b=>{p(Ka(e,t,b,f()))});if(t.includes("fill")&&([void 0,null,""].includes(f())||e.type==="checkbox"&&Array.isArray(f())||e.tagName.toLowerCase()==="select"&&e.multiple)&&p(Ka(e,t,{target:e},f())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=w,l(()=>e._x_removeModelListeners.default()),e.form){let b=Cc(e.form,"reset",[],v=>{Au(()=>e._x_model&&e._x_model.set(Ka(e,t,{target:e},f())))});l(()=>b())}e._x_model={get(){return f()},set(b){p(b)}},e._x_forceModelUpdate=b=>{b===void 0&&typeof n=="string"&&n.match(/\./)&&(b=""),window.fromModel=!0,wn(()=>rg(e,"value",b)),delete window.fromModel},r(()=>{let b=f();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(b)})});function Ka(e,t,n,r){return wn(()=>{if(n instanceof CustomEvent&&n.detail!==void 0)return n.detail!==null&&n.detail!==void 0?n.detail:n.target.value;if(e.type==="checkbox")if(Array.isArray(r)){let l=null;return t.includes("number")?l=Wa(n.target.value):t.includes("boolean")?l=ol(n.target.value):l=n.target.value,n.target.checked?r.includes(l)?r:r.concat([l]):r.filter(a=>!bw(a,l))}else return n.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map(l=>{let a=l.value||l.text;return Wa(a)}):t.includes("boolean")?Array.from(n.target.selectedOptions).map(l=>{let a=l.value||l.text;return ol(a)}):Array.from(n.target.selectedOptions).map(l=>l.value||l.text);{let l;return e.type==="radio"?n.target.checked?l=n.target.value:l=r:l=n.target.value,t.includes("number")?Wa(l):t.includes("boolean")?ol(l):t.includes("trim")?l.trim():l}}})}function Wa(e){let t=e?parseFloat(e):null;return yw(t)?t:e}function bw(e,t){return e==t}function yw(e){return!Array.isArray(e)&&!isNaN(e)}function Wf(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}mn("cloak",e=>queueMicrotask(()=>wn(()=>e.removeAttribute(_i("cloak")))));Xp(()=>`[${_i("init")}]`);mn("init",xs((e,{expression:t},{evaluate:n})=>typeof t=="string"?!!t.trim()&&n(t,{},!1):n(t,{},!1)));mn("text",(e,{expression:t},{effect:n,evaluateLater:r})=>{let l=r(t);n(()=>{l(a=>{wn(()=>{e.textContent=a})})})});mn("html",(e,{expression:t},{effect:n,evaluateLater:r})=>{let l=r(t);n(()=>{l(a=>{wn(()=>{e.innerHTML=a,e._x_ignoreSelf=!0,Qr(e),delete e._x_ignoreSelf})})})});wu($p(":",Up(_i("bind:"))));var Cg=(e,{value:t,modifiers:n,expression:r,original:l},{effect:a,cleanup:c})=>{if(!t){let f={};xv(f),Hn(e,r)(y=>{hg(e,y,l)},{scope:f});return}if(t==="key")return vw(e,r);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let h=Hn(e,r);a(()=>h(f=>{f===void 0&&typeof r=="string"&&r.match(/\./)&&(f=""),wn(()=>rg(e,t,f,n))})),c(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};Cg.inline=(e,{value:t,modifiers:n,expression:r})=>{t&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[t]={expression:r,extract:!1})};mn("bind",Cg);function vw(e,t){e._x_keyExpression=t}Zp(()=>`[${_i("data")}]`);mn("data",(e,{expression:t},{cleanup:n})=>{if(ww(e))return;t=t===""?"{}":t;let r={};vc(r,e);let l={};Av(l,r);let a=Bs(e,t,{scope:l});(a===void 0||a===!0)&&(a={}),vc(a,e);let c=Ei(a);qp(c);let h=fo(e,c);c.init&&Bs(e,c.init),n(()=>{c.destroy&&Bs(e,c.destroy),h()})});kl((e,t)=>{e._x_dataStack&&(t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0))});function ww(e){return ys?Sc?!0:e.hasAttribute("data-has-alpine-state"):!1}mn("show",(e,{modifiers:t,expression:n},{effect:r})=>{let l=Hn(e,n);e._x_doHide||(e._x_doHide=()=>{wn(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{wn(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let a=()=>{e._x_doHide(),e._x_isShown=!1},c=()=>{e._x_doShow(),e._x_isShown=!0},h=()=>setTimeout(c),f=_c(w=>w?c():a(),w=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,w,c,a):w?h():a()}),p,y=!0;r(()=>l(w=>{!y&&w===p||(t.includes("immediate")&&(w?h():a()),f(w),p=w,y=!1)}))});mn("for",(e,{expression:t},{effect:n,cleanup:r})=>{let l=Ew(t),a=Hn(e,l.items),c=Hn(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n(()=>xw(e,l,a,c)),r(()=>{Object.values(e._x_lookup).forEach(h=>h.remove()),delete e._x_prevKeys,delete e._x_lookup})});function xw(e,t,n,r){let l=c=>typeof c=="object"&&!Array.isArray(c),a=e;n(c=>{Aw(c)&&c>=0&&(c=Array.from(Array(c).keys(),A=>A+1)),c===void 0&&(c=[]);let h=e._x_lookup,f=e._x_prevKeys,p=[],y=[];if(l(c))c=Object.entries(c).map(([A,L])=>{let T=Gf(t,L,A,c);r(O=>{y.includes(O)&&fr("Duplicate key on x-for",e),y.push(O)},{scope:{index:A,...T}}),p.push(T)});else for(let A=0;A<c.length;A++){let L=Gf(t,c[A],A,c);r(T=>{y.includes(T)&&fr("Duplicate key on x-for",e),y.push(T)},{scope:{index:A,...L}}),p.push(L)}let w=[],b=[],v=[],E=[];for(let A=0;A<f.length;A++){let L=f[A];y.indexOf(L)===-1&&v.push(L)}f=f.filter(A=>!v.includes(A));let S="template";for(let A=0;A<y.length;A++){let L=y[A],T=f.indexOf(L);if(T===-1)f.splice(A,0,L),w.push([S,A]);else if(T!==A){let O=f.splice(A,1)[0],I=f.splice(T-1,1)[0];f.splice(A,0,I),f.splice(T,0,O),b.push([O,I])}else E.push(L);S=L}for(let A=0;A<v.length;A++){let L=v[A];h[L]._x_effects&&h[L]._x_effects.forEach(wp),h[L].remove(),h[L]=null,delete h[L]}for(let A=0;A<b.length;A++){let[L,T]=b[A],O=h[L],I=h[T],B=document.createElement("div");wn(()=>{I||fr('x-for ":key" is undefined or invalid',a,T,h),I.after(B),O.after(I),I._x_currentIfEl&&I.after(I._x_currentIfEl),B.before(O),O._x_currentIfEl&&O.after(O._x_currentIfEl),B.remove()}),I._x_refreshXForScope(p[y.indexOf(T)])}for(let A=0;A<w.length;A++){let[L,T]=w[A],O=L==="template"?a:h[L];O._x_currentIfEl&&(O=O._x_currentIfEl);let I=p[T],B=y[T],F=document.importNode(a.content,!0).firstElementChild,Y=Ei(I);fo(F,Y,a),F._x_refreshXForScope=ut=>{Object.entries(ut).forEach(([it,j])=>{Y[it]=j})},wn(()=>{O.after(F),xs(()=>Qr(F))()}),typeof B=="object"&&fr("x-for key cannot be an object, it must be a string or an integer",a),h[B]=F}for(let A=0;A<E.length;A++)h[E[A]]._x_refreshXForScope(p[y.indexOf(E[A])]);a._x_prevKeys=y})}function Ew(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,l=e.match(r);if(!l)return;let a={};a.items=l[2].trim();let c=l[1].replace(n,"").trim(),h=c.match(t);return h?(a.item=c.replace(t,"").trim(),a.index=h[1].trim(),h[2]&&(a.collection=h[2].trim())):a.item=c,a}function Gf(e,t,n,r){let l={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(c=>c.trim()).forEach((c,h)=>{l[c]=t[h]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(c=>c.trim()).forEach(c=>{l[c]=t[c]}):l[e.item]=t,e.index&&(l[e.index]=n),e.collection&&(l[e.collection]=r),l}function Aw(e){return!Array.isArray(e)&&!isNaN(e)}function qg(){}qg.inline=(e,{expression:t},{cleanup:n})=>{let r=Cl(e);r._x_refs||(r._x_refs={}),r._x_refs[t]=e,n(()=>delete r._x_refs[t])};mn("ref",qg);mn("if",(e,{expression:t},{effect:n,cleanup:r})=>{e.tagName.toLowerCase()!=="template"&&fr("x-if can only be used on a <template> tag",e);let l=Hn(e,t),a=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let h=e.content.cloneNode(!0).firstElementChild;return fo(h,{},e),wn(()=>{e.after(h),xs(()=>Qr(h))()}),e._x_currentIfEl=h,e._x_undoIf=()=>{bs(h,f=>{f._x_effects&&f._x_effects.forEach(wp)}),h.remove(),delete e._x_currentIfEl},h},c=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};n(()=>l(h=>{h?a():c()})),r(()=>e._x_undoIf&&e._x_undoIf())});mn("id",(e,{expression:t},{evaluate:n})=>{n(t).forEach(l=>cw(e,l))});kl((e,t)=>{e._x_ids&&(t._x_ids=e._x_ids)});wu($p("@",Up(_i("on:"))));mn("on",xs((e,{value:t,modifiers:n,expression:r},{cleanup:l})=>{let a=r?Hn(e,r):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let c=Cc(e,t,n,h=>{a(()=>{},{scope:{$event:h},params:[h]})});l(()=>c())}));Ml("Collapse","collapse","collapse");Ml("Intersect","intersect","intersect");Ml("Focus","trap","focus");Ml("Mask","mask","mask");function Ml(e,t,n){mn(t,r=>fr(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}Rl.setEvaluator(Bp);Rl.setReactivityEngine({reactive:qu,effect:Rv,release:Iv,raw:sn});var dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bl={exports:{}};bl.exports;(function(e,t){(function(n,r){e.exports=r()})(self,()=>(()=>{var n={64:(a,c,h)=>{(a.exports=h(765)(!1)).push([a.id,`.ql-html-overlayContainer {
  background: #0000007d;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;
}

.ql-html-popupContainer {
  background: #ddd;
  position: absolute;
  top: 5%;
  left: 5%;
  right: 5%;
  bottom: 5%;
  border-radius: 10px;
}

.ql-html-textContainer {
  position: relative;
  height: calc(100% - 40px);
  padding: 20px;
}

.ql-html-textArea {
  background: #fff;
  position: absolute;
  left: 15px;
  width: calc(100% - 30px);
  height: calc(100% - 60px) !important;
}

.ql-html-textArea .ql-syntax {
  word-break: break-all;
  white-space: pre-wrap;
}

.ql-html-buttonCancel {
  margin-right: 20px;
}

.ql-html-popupTitle {
  margin: 0;
  display: block;
  font-style: italic;
}

.ql-html-buttonGroup {
  position: absolute;
  bottom: 20px;
  transform: scale(1.5);
  left: calc(50% - 60px);
}
`,""])},765:a=>{a.exports=function(c){var h=[];return h.toString=function(){return this.map(function(f){var p=function(y,w){var b=y[1]||"",v=y[3];if(!v)return b;if(w&&typeof btoa=="function"){var E=(A=v,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(A))))+" */"),S=v.sources.map(function(L){return"/*# sourceURL="+v.sourceRoot+L+" */"});return[b].concat(S).concat([E]).join(`
`)}var A;return[b].join(`
`)}(f,c);return f[2]?"@media "+f[2]+"{"+p+"}":p}).join("")},h.i=function(f,p){typeof f=="string"&&(f=[[null,f,""]]);for(var y={},w=0;w<this.length;w++){var b=this[w][0];typeof b=="number"&&(y[b]=!0)}for(w=0;w<f.length;w++){var v=f[w];typeof v[0]=="number"&&y[v[0]]||(p&&!v[2]?v[2]=p:p&&(v[2]="("+v[2]+") and ("+p+")"),h.push(v))}},h}},228:a=>{var c=Object.prototype.hasOwnProperty,h="~";function f(){}function p(v,E,S){this.fn=v,this.context=E,this.once=S||!1}function y(v,E,S,A,L){if(typeof S!="function")throw new TypeError("The listener must be a function");var T=new p(S,A||v,L),O=h?h+E:E;return v._events[O]?v._events[O].fn?v._events[O]=[v._events[O],T]:v._events[O].push(T):(v._events[O]=T,v._eventsCount++),v}function w(v,E){--v._eventsCount==0?v._events=new f:delete v._events[E]}function b(){this._events=new f,this._eventsCount=0}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(h=!1)),b.prototype.eventNames=function(){var v,E,S=[];if(this._eventsCount===0)return S;for(E in v=this._events)c.call(v,E)&&S.push(h?E.slice(1):E);return Object.getOwnPropertySymbols?S.concat(Object.getOwnPropertySymbols(v)):S},b.prototype.listeners=function(v){var E=h?h+v:v,S=this._events[E];if(!S)return[];if(S.fn)return[S.fn];for(var A=0,L=S.length,T=new Array(L);A<L;A++)T[A]=S[A].fn;return T},b.prototype.listenerCount=function(v){var E=h?h+v:v,S=this._events[E];return S?S.fn?1:S.length:0},b.prototype.emit=function(v,E,S,A,L,T){var O=h?h+v:v;if(!this._events[O])return!1;var I,B,F=this._events[O],Y=arguments.length;if(F.fn){switch(F.once&&this.removeListener(v,F.fn,void 0,!0),Y){case 1:return F.fn.call(F.context),!0;case 2:return F.fn.call(F.context,E),!0;case 3:return F.fn.call(F.context,E,S),!0;case 4:return F.fn.call(F.context,E,S,A),!0;case 5:return F.fn.call(F.context,E,S,A,L),!0;case 6:return F.fn.call(F.context,E,S,A,L,T),!0}for(B=1,I=new Array(Y-1);B<Y;B++)I[B-1]=arguments[B];F.fn.apply(F.context,I)}else{var ut,it=F.length;for(B=0;B<it;B++)switch(F[B].once&&this.removeListener(v,F[B].fn,void 0,!0),Y){case 1:F[B].fn.call(F[B].context);break;case 2:F[B].fn.call(F[B].context,E);break;case 3:F[B].fn.call(F[B].context,E,S);break;case 4:F[B].fn.call(F[B].context,E,S,A);break;default:if(!I)for(ut=1,I=new Array(Y-1);ut<Y;ut++)I[ut-1]=arguments[ut];F[B].fn.apply(F[B].context,I)}}return!0},b.prototype.on=function(v,E,S){return y(this,v,E,S,!1)},b.prototype.once=function(v,E,S){return y(this,v,E,S,!0)},b.prototype.removeListener=function(v,E,S,A){var L=h?h+v:v;if(!this._events[L])return this;if(!E)return w(this,L),this;var T=this._events[L];if(T.fn)T.fn!==E||A&&!T.once||S&&T.context!==S||w(this,L);else{for(var O=0,I=[],B=T.length;O<B;O++)(T[O].fn!==E||A&&!T[O].once||S&&T[O].context!==S)&&I.push(T[O]);I.length?this._events[L]=I.length===1?I[0]:I:w(this,L)}return this},b.prototype.removeAllListeners=function(v){var E;return v?(E=h?h+v:v,this._events[E]&&w(this,E)):(this._events=new f,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=h,b.EventEmitter=b,a.exports=b},606:a=>{var c=-1,h=1,f=0;function p(j,lt,bt,M,G){if(j===lt)return j?[[f,j]]:[];if(bt!=null){var ct=function(H,Dt,jt){var $t=typeof jt=="number"?{index:jt,length:0}:jt.oldRange,se=typeof jt=="number"?null:jt.newRange,ht=H.length,he=Dt.length;if($t.length===0&&(se===null||se.length===0)){var Yt=$t.index,ee=H.slice(0,Yt),fe=H.slice(Yt),Ae=se?se.index:null,qe=Yt+he-ht;if((Ae===null||Ae===qe)&&!(qe<0||qe>he)){var Ue=Dt.slice(0,qe);if((pe=Dt.slice(qe))===fe){var de=Math.min(Yt,qe);if((Qt=ee.slice(0,de))===(Vt=Ue.slice(0,de)))return ut(Qt,ee.slice(de),Ue.slice(de),fe)}}if(Ae===null||Ae===Yt){var Wt=Yt,pe=(Ue=Dt.slice(0,Wt),Dt.slice(Wt));if(Ue===ee){var qt=Math.min(ht-Wt,he-Wt);if((zt=fe.slice(fe.length-qt))===(ye=pe.slice(pe.length-qt)))return ut(ee,fe.slice(0,fe.length-qt),pe.slice(0,pe.length-qt),zt)}}}if($t.length>0&&se&&se.length===0){var Qt=H.slice(0,$t.index),zt=H.slice($t.index+$t.length);if(!(he<(de=Qt.length)+(qt=zt.length))){var Vt=Dt.slice(0,de),ye=Dt.slice(he-qt);if(Qt===Vt&&zt===ye)return ut(Qt,H.slice(de,ht-qt),Dt.slice(de,he-qt),zt)}}return null}(j,lt,bt);if(ct)return ct}var rt=w(j,lt),dt=j.substring(0,rt);rt=v(j=j.substring(rt),lt=lt.substring(rt));var Tt=j.substring(j.length-rt),Kt=function(H,Dt){var jt;if(!H)return[[h,Dt]];if(!Dt)return[[c,H]];var $t=H.length>Dt.length?H:Dt,se=H.length>Dt.length?Dt:H,ht=$t.indexOf(se);if(ht!==-1)return jt=[[h,$t.substring(0,ht)],[f,se],[h,$t.substring(ht+se.length)]],H.length>Dt.length&&(jt[0][0]=jt[2][0]=c),jt;if(se.length===1)return[[c,H],[h,Dt]];var he=function(Wt,pe){var qt=Wt.length>pe.length?Wt:pe,Qt=Wt.length>pe.length?pe:Wt;if(qt.length<4||2*Qt.length<qt.length)return null;function zt(Se,Te,We){for(var te,ze,Ve,Xe,k=Se.substring(We,We+Math.floor(Se.length/4)),D=-1,V="";(D=Te.indexOf(k,D+1))!==-1;){var W=w(Se.substring(We),Te.substring(D)),Z=v(Se.substring(0,We),Te.substring(0,D));V.length<Z+W&&(V=Te.substring(D-Z,D)+Te.substring(D,D+W),te=Se.substring(0,We-Z),ze=Se.substring(We+W),Ve=Te.substring(0,D-Z),Xe=Te.substring(D+W))}return 2*V.length>=Se.length?[te,ze,Ve,Xe,V]:null}var Vt,ye,le,je,ke,_e=zt(qt,Qt,Math.ceil(qt.length/4)),Ke=zt(qt,Qt,Math.ceil(qt.length/2));if(!_e&&!Ke)return null;Vt=Ke?_e&&_e[4].length>Ke[4].length?_e:Ke:_e,Wt.length>pe.length?(ye=Vt[0],le=Vt[1],je=Vt[2],ke=Vt[3]):(je=Vt[0],ke=Vt[1],ye=Vt[2],le=Vt[3]);var He=Vt[4];return[ye,le,je,ke,He]}(H,Dt);if(he){var Yt=he[0],ee=he[1],fe=he[2],Ae=he[3],qe=he[4],Ue=p(Yt,fe),de=p(ee,Ae);return Ue.concat([[f,qe]],de)}return function(Wt,pe){for(var qt=Wt.length,Qt=pe.length,zt=Math.ceil((qt+Qt)/2),Vt=zt,ye=2*zt,le=new Array(ye),je=new Array(ye),ke=0;ke<ye;ke++)le[ke]=-1,je[ke]=-1;le[Vt+1]=0,je[Vt+1]=0;for(var _e=qt-Qt,Ke=_e%2!=0,He=0,Se=0,Te=0,We=0,te=0;te<zt;te++){for(var ze=-te+He;ze<=te-Se;ze+=2){for(var Ve=Vt+ze,Xe=(Z=ze===-te||ze!==te&&le[Ve-1]<le[Ve+1]?le[Ve+1]:le[Ve-1]+1)-ze;Z<qt&&Xe<Qt&&Wt.charAt(Z)===pe.charAt(Xe);)Z++,Xe++;if(le[Ve]=Z,Z>qt)Se+=2;else if(Xe>Qt)He+=2;else if(Ke&&(V=Vt+_e-ze)>=0&&V<ye&&je[V]!==-1&&Z>=(D=qt-je[V]))return y(Wt,pe,Z,Xe)}for(var k=-te+Te;k<=te-We;k+=2){for(var D,V=Vt+k,W=(D=k===-te||k!==te&&je[V-1]<je[V+1]?je[V+1]:je[V-1]+1)-k;D<qt&&W<Qt&&Wt.charAt(qt-D-1)===pe.charAt(Qt-W-1);)D++,W++;if(je[V]=D,D>qt)We+=2;else if(W>Qt)Te+=2;else if(!Ke&&(Ve=Vt+_e-k)>=0&&Ve<ye&&le[Ve]!==-1){var Z;if(Xe=Vt+(Z=le[Ve])-Ve,Z>=(D=qt-D))return y(Wt,pe,Z,Xe)}}}return[[c,Wt],[h,pe]]}(H,Dt)}(j=j.substring(0,j.length-rt),lt=lt.substring(0,lt.length-rt));return dt&&Kt.unshift([f,dt]),Tt&&Kt.push([f,Tt]),O(Kt,G),M&&function(H){for(var Dt=!1,jt=[],$t=0,se=null,ht=0,he=0,Yt=0,ee=0,fe=0;ht<H.length;)H[ht][0]==f?(jt[$t++]=ht,he=ee,Yt=fe,ee=0,fe=0,se=H[ht][1]):(H[ht][0]==h?ee+=H[ht][1].length:fe+=H[ht][1].length,se&&se.length<=Math.max(he,Yt)&&se.length<=Math.max(ee,fe)&&(H.splice(jt[$t-1],0,[c,se]),H[jt[$t-1]+1][0]=h,$t--,ht=--$t>0?jt[$t-1]:-1,he=0,Yt=0,ee=0,fe=0,se=null,Dt=!0)),ht++;for(Dt&&O(H),function(Wt){function pe(Se,Te){if(!Se||!Te)return 6;var We=Se.charAt(Se.length-1),te=Te.charAt(0),ze=We.match(E),Ve=te.match(E),Xe=ze&&We.match(S),k=Ve&&te.match(S),D=Xe&&We.match(A),V=k&&te.match(A),W=D&&Se.match(L),Z=V&&Te.match(T);return W||Z?5:D||V?4:ze&&!Xe&&k?3:Xe||k?2:ze||Ve?1:0}for(var qt=1;qt<Wt.length-1;){if(Wt[qt-1][0]==f&&Wt[qt+1][0]==f){var Qt=Wt[qt-1][1],zt=Wt[qt][1],Vt=Wt[qt+1][1],ye=v(Qt,zt);if(ye){var le=zt.substring(zt.length-ye);Qt=Qt.substring(0,Qt.length-ye),zt=le+zt.substring(0,zt.length-ye),Vt=le+Vt}for(var je=Qt,ke=zt,_e=Vt,Ke=pe(Qt,zt)+pe(zt,Vt);zt.charAt(0)===Vt.charAt(0);){Qt+=zt.charAt(0),zt=zt.substring(1)+Vt.charAt(0),Vt=Vt.substring(1);var He=pe(Qt,zt)+pe(zt,Vt);He>=Ke&&(Ke=He,je=Qt,ke=zt,_e=Vt)}Wt[qt-1][1]!=je&&(je?Wt[qt-1][1]=je:(Wt.splice(qt-1,1),qt--),Wt[qt][1]=ke,_e?Wt[qt+1][1]=_e:(Wt.splice(qt+1,1),qt--))}qt++}}(H),ht=1;ht<H.length;){if(H[ht-1][0]==c&&H[ht][0]==h){var Ae=H[ht-1][1],qe=H[ht][1],Ue=b(Ae,qe),de=b(qe,Ae);Ue>=de?(Ue>=Ae.length/2||Ue>=qe.length/2)&&(H.splice(ht,0,[f,qe.substring(0,Ue)]),H[ht-1][1]=Ae.substring(0,Ae.length-Ue),H[ht+1][1]=qe.substring(Ue),ht++):(de>=Ae.length/2||de>=qe.length/2)&&(H.splice(ht,0,[f,Ae.substring(0,de)]),H[ht-1][0]=h,H[ht-1][1]=qe.substring(0,qe.length-de),H[ht+1][0]=c,H[ht+1][1]=Ae.substring(de),ht++),ht++}ht++}}(Kt),Kt}function y(j,lt,bt,M){var G=j.substring(0,bt),ct=lt.substring(0,M),rt=j.substring(bt),dt=lt.substring(M),Tt=p(G,ct),Kt=p(rt,dt);return Tt.concat(Kt)}function w(j,lt){if(!j||!lt||j.charAt(0)!==lt.charAt(0))return 0;for(var bt=0,M=Math.min(j.length,lt.length),G=M,ct=0;bt<G;)j.substring(ct,G)==lt.substring(ct,G)?ct=bt=G:M=G,G=Math.floor((M-bt)/2+bt);return I(j.charCodeAt(G-1))&&G--,G}function b(j,lt){var bt=j.length,M=lt.length;if(bt==0||M==0)return 0;bt>M?j=j.substring(bt-M):bt<M&&(lt=lt.substring(0,bt));var G=Math.min(bt,M);if(j==lt)return G;for(var ct=0,rt=1;;){var dt=j.substring(G-rt),Tt=lt.indexOf(dt);if(Tt==-1)return ct;rt+=Tt,Tt!=0&&j.substring(G-rt)!=lt.substring(0,rt)||(ct=rt,rt++)}}function v(j,lt){if(!j||!lt||j.slice(-1)!==lt.slice(-1))return 0;for(var bt=0,M=Math.min(j.length,lt.length),G=M,ct=0;bt<G;)j.substring(j.length-G,j.length-ct)==lt.substring(lt.length-G,lt.length-ct)?ct=bt=G:M=G,G=Math.floor((M-bt)/2+bt);return B(j.charCodeAt(j.length-G))&&G--,G}var E=/[^a-zA-Z0-9]/,S=/\s/,A=/[\r\n]/,L=/\n\r?\n$/,T=/^\r?\n\r?\n/;function O(j,lt){j.push([f,""]);for(var bt,M=0,G=0,ct=0,rt="",dt="";M<j.length;)if(M<j.length-1&&!j[M][1])j.splice(M,1);else switch(j[M][0]){case h:ct++,dt+=j[M][1],M++;break;case c:G++,rt+=j[M][1],M++;break;case f:var Tt=M-ct-G-1;if(lt){if(Tt>=0&&Y(j[Tt][1])){var Kt=j[Tt][1].slice(-1);if(j[Tt][1]=j[Tt][1].slice(0,-1),rt=Kt+rt,dt=Kt+dt,!j[Tt][1]){j.splice(Tt,1),M--;var H=Tt-1;j[H]&&j[H][0]===h&&(ct++,dt=j[H][1]+dt,H--),j[H]&&j[H][0]===c&&(G++,rt=j[H][1]+rt,H--),Tt=H}}F(j[M][1])&&(Kt=j[M][1].charAt(0),j[M][1]=j[M][1].slice(1),rt+=Kt,dt+=Kt)}if(M<j.length-1&&!j[M][1]){j.splice(M,1);break}if(rt.length>0||dt.length>0){rt.length>0&&dt.length>0&&((bt=w(dt,rt))!==0&&(Tt>=0?j[Tt][1]+=dt.substring(0,bt):(j.splice(0,0,[f,dt.substring(0,bt)]),M++),dt=dt.substring(bt),rt=rt.substring(bt)),(bt=v(dt,rt))!==0&&(j[M][1]=dt.substring(dt.length-bt)+j[M][1],dt=dt.substring(0,dt.length-bt),rt=rt.substring(0,rt.length-bt)));var Dt=ct+G;rt.length===0&&dt.length===0?(j.splice(M-Dt,Dt),M-=Dt):rt.length===0?(j.splice(M-Dt,Dt,[h,dt]),M=M-Dt+1):dt.length===0?(j.splice(M-Dt,Dt,[c,rt]),M=M-Dt+1):(j.splice(M-Dt,Dt,[c,rt],[h,dt]),M=M-Dt+2)}M!==0&&j[M-1][0]===f?(j[M-1][1]+=j[M][1],j.splice(M,1)):M++,ct=0,G=0,rt="",dt=""}j[j.length-1][1]===""&&j.pop();var jt=!1;for(M=1;M<j.length-1;)j[M-1][0]===f&&j[M+1][0]===f&&(j[M][1].substring(j[M][1].length-j[M-1][1].length)===j[M-1][1]?(j[M][1]=j[M-1][1]+j[M][1].substring(0,j[M][1].length-j[M-1][1].length),j[M+1][1]=j[M-1][1]+j[M+1][1],j.splice(M-1,1),jt=!0):j[M][1].substring(0,j[M+1][1].length)==j[M+1][1]&&(j[M-1][1]+=j[M+1][1],j[M][1]=j[M][1].substring(j[M+1][1].length)+j[M+1][1],j.splice(M+1,1),jt=!0)),M++;jt&&O(j,lt)}function I(j){return j>=55296&&j<=56319}function B(j){return j>=56320&&j<=57343}function F(j){return B(j.charCodeAt(0))}function Y(j){return I(j.charCodeAt(j.length-1))}function ut(j,lt,bt,M){return Y(j)||F(M)?null:function(G){for(var ct=[],rt=0;rt<G.length;rt++)G[rt][1].length>0&&ct.push(G[rt]);return ct}([[f,j],[c,lt],[h,bt],[f,M]])}function it(j,lt,bt,M){return p(j,lt,bt,M,!0)}it.INSERT=h,it.DELETE=c,it.EQUAL=f,a.exports=it},193:(a,c,h)=>{a=h.nmd(a);var f="__lodash_hash_undefined__",p=9007199254740991,y="[object Arguments]",w="[object Boolean]",b="[object Date]",v="[object Function]",E="[object GeneratorFunction]",S="[object Map]",A="[object Number]",L="[object Object]",T="[object Promise]",O="[object RegExp]",I="[object Set]",B="[object String]",F="[object Symbol]",Y="[object WeakMap]",ut="[object ArrayBuffer]",it="[object DataView]",j="[object Float32Array]",lt="[object Float64Array]",bt="[object Int8Array]",M="[object Int16Array]",G="[object Int32Array]",ct="[object Uint8Array]",rt="[object Uint8ClampedArray]",dt="[object Uint16Array]",Tt="[object Uint32Array]",Kt=/\w*$/,H=/^\[object .+?Constructor\]$/,Dt=/^(?:0|[1-9]\d*)$/,jt={};jt[y]=jt["[object Array]"]=jt[ut]=jt[it]=jt[w]=jt[b]=jt[j]=jt[lt]=jt[bt]=jt[M]=jt[G]=jt[S]=jt[A]=jt[L]=jt[O]=jt[I]=jt[B]=jt[F]=jt[ct]=jt[rt]=jt[dt]=jt[Tt]=!0,jt["[object Error]"]=jt[v]=jt[Y]=!1;var $t=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g,se=typeof self=="object"&&self&&self.Object===Object&&self,ht=$t||se||Function("return this")(),he=c&&!c.nodeType&&c,Yt=he&&a&&!a.nodeType&&a,ee=Yt&&Yt.exports===he;function fe(P,tt){return P.set(tt[0],tt[1]),P}function Ae(P,tt){return P.add(tt),P}function qe(P,tt,gt,C){var $=-1,at=P?P.length:0;for(C&&at&&(gt=P[++$]);++$<at;)gt=tt(gt,P[$],$,P);return gt}function Ue(P){var tt=!1;if(P!=null&&typeof P.toString!="function")try{tt=!!(P+"")}catch{}return tt}function de(P){var tt=-1,gt=Array(P.size);return P.forEach(function(C,$){gt[++tt]=[$,C]}),gt}function Wt(P,tt){return function(gt){return P(tt(gt))}}function pe(P){var tt=-1,gt=Array(P.size);return P.forEach(function(C){gt[++tt]=C}),gt}var qt,Qt=Array.prototype,zt=Function.prototype,Vt=Object.prototype,ye=ht["__core-js_shared__"],le=(qt=/[^.]+$/.exec(ye&&ye.keys&&ye.keys.IE_PROTO||""))?"Symbol(src)_1."+qt:"",je=zt.toString,ke=Vt.hasOwnProperty,_e=Vt.toString,Ke=RegExp("^"+je.call(ke).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=ee?ht.Buffer:void 0,Se=ht.Symbol,Te=ht.Uint8Array,We=Wt(Object.getPrototypeOf,Object),te=Object.create,ze=Vt.propertyIsEnumerable,Ve=Qt.splice,Xe=Object.getOwnPropertySymbols,k=He?He.isBuffer:void 0,D=Wt(Object.keys,Object),V=Ge(ht,"DataView"),W=Ge(ht,"Map"),Z=Ge(ht,"Promise"),J=Ge(ht,"Set"),ot=Ge(ht,"WeakMap"),Q=Ge(Object,"create"),ft=Be(V),It=Be(W),kt=Be(Z),pt=Be(J),_t=Be(ot),wt=Se?Se.prototype:void 0,xt=wt?wt.valueOf:void 0;function Bt(P){var tt=-1,gt=P?P.length:0;for(this.clear();++tt<gt;){var C=P[tt];this.set(C[0],C[1])}}function Ot(P){var tt=-1,gt=P?P.length:0;for(this.clear();++tt<gt;){var C=P[tt];this.set(C[0],C[1])}}function Gt(P){var tt=-1,gt=P?P.length:0;for(this.clear();++tt<gt;){var C=P[tt];this.set(C[0],C[1])}}function re(P){this.__data__=new Ot(P)}function ge(P,tt){var gt=nn(P)||function(mt){return function(At){return function(Zt){return!!Zt&&typeof Zt=="object"}(At)&&Wn(At)}(mt)&&ke.call(mt,"callee")&&(!ze.call(mt,"callee")||_e.call(mt)==y)}(P)?function(mt,At){for(var Zt=-1,ue=Array(mt);++Zt<mt;)ue[Zt]=At(Zt);return ue}(P.length,String):[],C=gt.length,$=!!C;for(var at in P)!tt&&!ke.call(P,at)||$&&(at=="length"||Ze(at,C))||gt.push(at);return gt}function ae(P,tt,gt){var C=P[tt];ke.call(P,tt)&&ln(C,gt)&&(gt!==void 0||tt in P)||(P[tt]=gt)}function me(P,tt){for(var gt=P.length;gt--;)if(ln(P[gt][0],tt))return gt;return-1}function Ht(P,tt,gt,C,$,at,mt){var At;if(C&&(At=at?C(P,$,at,mt):C(P)),At!==void 0)return At;if(!zn(P))return P;var Zt=nn(P);if(Zt){if(At=function(vt){var Xt=vt.length,xe=vt.constructor(Xt);return Xt&&typeof vt[0]=="string"&&ke.call(vt,"index")&&(xe.index=vt.index,xe.input=vt.input),xe}(P),!tt)return function(vt,Xt){var xe=-1,Le=vt.length;for(Xt||(Xt=Array(Le));++xe<Le;)Xt[xe]=vt[xe];return Xt}(P,At)}else{var ue=on(P),Me=ue==v||ue==E;if(gr(P))return function(vt,Xt){if(Xt)return vt.slice();var xe=new vt.constructor(vt.length);return vt.copy(xe),xe}(P,tt);if(ue==L||ue==y||Me&&!at){if(Ue(P))return at?P:{};if(At=function(vt){return typeof vt.constructor!="function"||xn(vt)?{}:(Xt=We(vt),zn(Xt)?te(Xt):{});var Xt}(Me?{}:P),!tt)return function(vt,Xt){return Pe(vt,ce(vt),Xt)}(P,function(vt,Xt){return vt&&Pe(Xt,Gn(Xt),vt)}(At,P))}else{if(!jt[ue])return at?P:{};At=function(vt,Xt,xe,Le){var un=vt.constructor;switch(Xt){case ut:return ve(vt);case w:case b:return new un(+vt);case it:return function(ie,Je){var hn=Je?ve(ie.buffer):ie.buffer;return new ie.constructor(hn,ie.byteOffset,ie.byteLength)}(vt,Le);case j:case lt:case bt:case M:case G:case ct:case rt:case dt:case Tt:return function(ie,Je){var hn=Je?ve(ie.buffer):ie.buffer;return new ie.constructor(hn,ie.byteOffset,ie.length)}(vt,Le);case S:return function(ie,Je,hn){var bn=Je?hn(de(ie),!0):de(ie);return qe(bn,fe,new ie.constructor)}(vt,Le,xe);case A:case B:return new un(vt);case O:return function(ie){var Je=new ie.constructor(ie.source,Kt.exec(ie));return Je.lastIndex=ie.lastIndex,Je}(vt);case I:return function(ie,Je,hn){var bn=Je?hn(pe(ie),!0):pe(ie);return qe(bn,Ae,new ie.constructor)}(vt,Le,xe);case F:return dn=vt,xt?Object(xt.call(dn)):{}}var dn}(P,ue,Ht,tt)}}mt||(mt=new re);var Ye=mt.get(P);if(Ye)return Ye;if(mt.set(P,At),!Zt)var Ie=gt?function(vt){return function(Xt,xe,Le){var un=xe(Xt);return nn(Xt)?un:function(dn,ie){for(var Je=-1,hn=ie.length,bn=dn.length;++Je<hn;)dn[bn+Je]=ie[Je];return dn}(un,Le(Xt))}(vt,Gn,ce)}(P):Gn(P);return function(vt,Xt){for(var xe=-1,Le=vt?vt.length:0;++xe<Le&&Xt(vt[xe],xe,vt)!==!1;);}(Ie||P,function(vt,Xt){Ie&&(vt=P[Xt=vt]),ae(At,Xt,Ht(vt,tt,gt,C,Xt,P,mt))}),At}function Oe(P){return!(!zn(P)||(tt=P,le&&le in tt))&&(er(P)||Ue(P)?Ke:H).test(Be(P));var tt}function ve(P){var tt=new P.constructor(P.byteLength);return new Te(tt).set(new Te(P)),tt}function Pe(P,tt,gt,C){gt||(gt={});for(var $=-1,at=tt.length;++$<at;){var mt=tt[$],At=C?C(gt[mt],P[mt],mt,gt,P):void 0;ae(gt,mt,At===void 0?P[mt]:At)}return gt}function Re(P,tt){var gt,C,$=P.__data__;return((C=typeof(gt=tt))=="string"||C=="number"||C=="symbol"||C=="boolean"?gt!=="__proto__":gt===null)?$[typeof tt=="string"?"string":"hash"]:$.map}function Ge(P,tt){var gt=function(C,$){return C==null?void 0:C[$]}(P,tt);return Oe(gt)?gt:void 0}Bt.prototype.clear=function(){this.__data__=Q?Q(null):{}},Bt.prototype.delete=function(P){return this.has(P)&&delete this.__data__[P]},Bt.prototype.get=function(P){var tt=this.__data__;if(Q){var gt=tt[P];return gt===f?void 0:gt}return ke.call(tt,P)?tt[P]:void 0},Bt.prototype.has=function(P){var tt=this.__data__;return Q?tt[P]!==void 0:ke.call(tt,P)},Bt.prototype.set=function(P,tt){return this.__data__[P]=Q&&tt===void 0?f:tt,this},Ot.prototype.clear=function(){this.__data__=[]},Ot.prototype.delete=function(P){var tt=this.__data__,gt=me(tt,P);return!(gt<0)&&(gt==tt.length-1?tt.pop():Ve.call(tt,gt,1),!0)},Ot.prototype.get=function(P){var tt=this.__data__,gt=me(tt,P);return gt<0?void 0:tt[gt][1]},Ot.prototype.has=function(P){return me(this.__data__,P)>-1},Ot.prototype.set=function(P,tt){var gt=this.__data__,C=me(gt,P);return C<0?gt.push([P,tt]):gt[C][1]=tt,this},Gt.prototype.clear=function(){this.__data__={hash:new Bt,map:new(W||Ot),string:new Bt}},Gt.prototype.delete=function(P){return Re(this,P).delete(P)},Gt.prototype.get=function(P){return Re(this,P).get(P)},Gt.prototype.has=function(P){return Re(this,P).has(P)},Gt.prototype.set=function(P,tt){return Re(this,P).set(P,tt),this},re.prototype.clear=function(){this.__data__=new Ot},re.prototype.delete=function(P){return this.__data__.delete(P)},re.prototype.get=function(P){return this.__data__.get(P)},re.prototype.has=function(P){return this.__data__.has(P)},re.prototype.set=function(P,tt){var gt=this.__data__;if(gt instanceof Ot){var C=gt.__data__;if(!W||C.length<199)return C.push([P,tt]),this;gt=this.__data__=new Gt(C)}return gt.set(P,tt),this};var ce=Xe?Wt(Xe,Object):function(){return[]},on=function(P){return _e.call(P)};function Ze(P,tt){return!!(tt=tt??p)&&(typeof P=="number"||Dt.test(P))&&P>-1&&P%1==0&&P<tt}function xn(P){var tt=P&&P.constructor;return P===(typeof tt=="function"&&tt.prototype||Vt)}function Be(P){if(P!=null){try{return je.call(P)}catch{}try{return P+""}catch{}}return""}function ln(P,tt){return P===tt||P!=P&&tt!=tt}(V&&on(new V(new ArrayBuffer(1)))!=it||W&&on(new W)!=S||Z&&on(Z.resolve())!=T||J&&on(new J)!=I||ot&&on(new ot)!=Y)&&(on=function(P){var tt=_e.call(P),gt=tt==L?P.constructor:void 0,C=gt?Be(gt):void 0;if(C)switch(C){case ft:return it;case It:return S;case kt:return T;case pt:return I;case _t:return Y}return tt});var nn=Array.isArray;function Wn(P){return P!=null&&function(tt){return typeof tt=="number"&&tt>-1&&tt%1==0&&tt<=p}(P.length)&&!er(P)}var gr=k||function(){return!1};function er(P){var tt=zn(P)?_e.call(P):"";return tt==v||tt==E}function zn(P){var tt=typeof P;return!!P&&(tt=="object"||tt=="function")}function Gn(P){return Wn(P)?ge(P):function(tt){if(!xn(tt))return D(tt);var gt=[];for(var C in Object(tt))ke.call(tt,C)&&C!="constructor"&&gt.push(C);return gt}(P)}a.exports=function(P){return Ht(P,!0,!0)}},142:(a,c,h)=>{a=h.nmd(a);var f="__lodash_hash_undefined__",p=1,y=2,w=9007199254740991,b="[object Arguments]",v="[object Array]",E="[object AsyncFunction]",S="[object Boolean]",A="[object Date]",L="[object Error]",T="[object Function]",O="[object GeneratorFunction]",I="[object Map]",B="[object Number]",F="[object Null]",Y="[object Object]",ut="[object Promise]",it="[object Proxy]",j="[object RegExp]",lt="[object Set]",bt="[object String]",M="[object Symbol]",G="[object Undefined]",ct="[object WeakMap]",rt="[object ArrayBuffer]",dt="[object DataView]",Tt=/^\[object .+?Constructor\]$/,Kt=/^(?:0|[1-9]\d*)$/,H={};H["[object Float32Array]"]=H["[object Float64Array]"]=H["[object Int8Array]"]=H["[object Int16Array]"]=H["[object Int32Array]"]=H["[object Uint8Array]"]=H["[object Uint8ClampedArray]"]=H["[object Uint16Array]"]=H["[object Uint32Array]"]=!0,H[b]=H[v]=H[rt]=H[S]=H[dt]=H[A]=H[L]=H[T]=H[I]=H[B]=H[Y]=H[j]=H[lt]=H[bt]=H[ct]=!1;var Dt=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g,jt=typeof self=="object"&&self&&self.Object===Object&&self,$t=Dt||jt||Function("return this")(),se=c&&!c.nodeType&&c,ht=se&&a&&!a.nodeType&&a,he=ht&&ht.exports===se,Yt=he&&Dt.process,ee=function(){try{return Yt&&Yt.binding&&Yt.binding("util")}catch{}}(),fe=ee&&ee.isTypedArray;function Ae(C,$){for(var at=-1,mt=C==null?0:C.length;++at<mt;)if($(C[at],at,C))return!0;return!1}function qe(C){var $=-1,at=Array(C.size);return C.forEach(function(mt,At){at[++$]=[At,mt]}),at}function Ue(C){var $=-1,at=Array(C.size);return C.forEach(function(mt){at[++$]=mt}),at}var de,Wt,pe,qt=Array.prototype,Qt=Function.prototype,zt=Object.prototype,Vt=$t["__core-js_shared__"],ye=Qt.toString,le=zt.hasOwnProperty,je=(de=/[^.]+$/.exec(Vt&&Vt.keys&&Vt.keys.IE_PROTO||""))?"Symbol(src)_1."+de:"",ke=zt.toString,_e=RegExp("^"+ye.call(le).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ke=he?$t.Buffer:void 0,He=$t.Symbol,Se=$t.Uint8Array,Te=zt.propertyIsEnumerable,We=qt.splice,te=He?He.toStringTag:void 0,ze=Object.getOwnPropertySymbols,Ve=Ke?Ke.isBuffer:void 0,Xe=(Wt=Object.keys,pe=Object,function(C){return Wt(pe(C))}),k=ce($t,"DataView"),D=ce($t,"Map"),V=ce($t,"Promise"),W=ce($t,"Set"),Z=ce($t,"WeakMap"),J=ce(Object,"create"),ot=Be(k),Q=Be(D),ft=Be(V),It=Be(W),kt=Be(Z),pt=He?He.prototype:void 0,_t=pt?pt.valueOf:void 0;function wt(C){var $=-1,at=C==null?0:C.length;for(this.clear();++$<at;){var mt=C[$];this.set(mt[0],mt[1])}}function xt(C){var $=-1,at=C==null?0:C.length;for(this.clear();++$<at;){var mt=C[$];this.set(mt[0],mt[1])}}function Bt(C){var $=-1,at=C==null?0:C.length;for(this.clear();++$<at;){var mt=C[$];this.set(mt[0],mt[1])}}function Ot(C){var $=-1,at=C==null?0:C.length;for(this.__data__=new Bt;++$<at;)this.add(C[$])}function Gt(C){var $=this.__data__=new xt(C);this.size=$.size}function re(C,$){var at=Wn(C),mt=!at&&nn(C),At=!at&&!mt&&gr(C),Zt=!at&&!mt&&!At&&tt(C),ue=at||mt||At||Zt,Me=ue?function(vt,Xt){for(var xe=-1,Le=Array(vt);++xe<vt;)Le[xe]=Xt(xe);return Le}(C.length,String):[],Ye=Me.length;for(var Ie in C)!$&&!le.call(C,Ie)||ue&&(Ie=="length"||At&&(Ie=="offset"||Ie=="parent")||Zt&&(Ie=="buffer"||Ie=="byteLength"||Ie=="byteOffset")||xn(Ie,Ye))||Me.push(Ie);return Me}function ge(C,$){for(var at=C.length;at--;)if(ln(C[at][0],$))return at;return-1}function ae(C){return C==null?C===void 0?G:F:te&&te in Object(C)?function($){var at=le.call($,te),mt=$[te];try{$[te]=void 0;var At=!0}catch{}var Zt=ke.call($);return At&&(at?$[te]=mt:delete $[te]),Zt}(C):function($){return ke.call($)}(C)}function me(C){return P(C)&&ae(C)==b}function Ht(C,$,at,mt,At){return C===$||(C==null||$==null||!P(C)&&!P($)?C!=C&&$!=$:function(Zt,ue,Me,Ye,Ie,vt){var Xt=Wn(Zt),xe=Wn(ue),Le=Xt?v:Ze(Zt),un=xe?v:Ze(ue),dn=(Le=Le==b?Y:Le)==Y,ie=(un=un==b?Y:un)==Y,Je=Le==un;if(Je&&gr(Zt)){if(!gr(ue))return!1;Xt=!0,dn=!1}if(Je&&!dn)return vt||(vt=new Gt),Xt||tt(Zt)?Pe(Zt,ue,Me,Ye,Ie,vt):function(be,Ce,Sn,En,Wr,An,Bn){switch(Sn){case dt:if(be.byteLength!=Ce.byteLength||be.byteOffset!=Ce.byteOffset)return!1;be=be.buffer,Ce=Ce.buffer;case rt:return!(be.byteLength!=Ce.byteLength||!An(new Se(be),new Se(Ce)));case S:case A:case B:return ln(+be,+Ce);case L:return be.name==Ce.name&&be.message==Ce.message;case j:case bt:return be==Ce+"";case I:var qn=qe;case lt:var an=En&p;if(qn||(qn=Ue),be.size!=Ce.size&&!an)return!1;var nr=Bn.get(be);if(nr)return nr==Ce;En|=y,Bn.set(be,Ce);var Ir=Pe(qn(be),qn(Ce),En,Wr,An,Bn);return Bn.delete(be),Ir;case M:if(_t)return _t.call(be)==_t.call(Ce)}return!1}(Zt,ue,Le,Me,Ye,Ie,vt);if(!(Me&p)){var hn=dn&&le.call(Zt,"__wrapped__"),bn=ie&&le.call(ue,"__wrapped__");if(hn||bn){var jn=hn?Zt.value():Zt,Vn=bn?ue.value():ue;return vt||(vt=new Gt),Ie(jn,Vn,Me,Ye,vt)}}return Je?(vt||(vt=new Gt),function(be,Ce,Sn,En,Wr,An){var Bn=Sn&p,qn=Re(be),an=qn.length,nr=Re(Ce),Ir=nr.length;if(an!=Ir&&!Bn)return!1;for(var Zn=an;Zn--;){var Mn=qn[Zn];if(!(Bn?Mn in Ce:le.call(Ce,Mn)))return!1}var mr=An.get(be);if(mr&&An.get(Ce))return mr==Ce;var jr=!0;An.set(be,Ce),An.set(Ce,be);for(var Br=Bn;++Zn<an;){var rr=be[Mn=qn[Zn]],_n=Ce[Mn];if(En)var Nt=Bn?En(_n,rr,Mn,Ce,be,An):En(rr,_n,Mn,be,Ce,An);if(!(Nt===void 0?rr===_n||Wr(rr,_n,Sn,En,An):Nt)){jr=!1;break}Br||(Br=Mn=="constructor")}if(jr&&!Br){var pn=be.constructor,Tn=Ce.constructor;pn==Tn||!("constructor"in be)||!("constructor"in Ce)||typeof pn=="function"&&pn instanceof pn&&typeof Tn=="function"&&Tn instanceof Tn||(jr=!1)}return An.delete(be),An.delete(Ce),jr}(Zt,ue,Me,Ye,Ie,vt)):!1}(C,$,at,mt,Ht,At))}function Oe(C){return!(!Gn(C)||function($){return!!je&&je in $}(C))&&(er(C)?_e:Tt).test(Be(C))}function ve(C){if(at=($=C)&&$.constructor,mt=typeof at=="function"&&at.prototype||zt,$!==mt)return Xe(C);var $,at,mt,At=[];for(var Zt in Object(C))le.call(C,Zt)&&Zt!="constructor"&&At.push(Zt);return At}function Pe(C,$,at,mt,At,Zt){var ue=at&p,Me=C.length,Ye=$.length;if(Me!=Ye&&!(ue&&Ye>Me))return!1;var Ie=Zt.get(C);if(Ie&&Zt.get($))return Ie==$;var vt=-1,Xt=!0,xe=at&y?new Ot:void 0;for(Zt.set(C,$),Zt.set($,C);++vt<Me;){var Le=C[vt],un=$[vt];if(mt)var dn=ue?mt(un,Le,vt,$,C,Zt):mt(Le,un,vt,C,$,Zt);if(dn!==void 0){if(dn)continue;Xt=!1;break}if(xe){if(!Ae($,function(ie,Je){if(hn=Je,!xe.has(hn)&&(Le===ie||At(Le,ie,at,mt,Zt)))return xe.push(Je);var hn})){Xt=!1;break}}else if(Le!==un&&!At(Le,un,at,mt,Zt)){Xt=!1;break}}return Zt.delete(C),Zt.delete($),Xt}function Re(C){return function($,at,mt){var At=at($);return Wn($)?At:function(Zt,ue){for(var Me=-1,Ye=ue.length,Ie=Zt.length;++Me<Ye;)Zt[Ie+Me]=ue[Me];return Zt}(At,mt($))}(C,gt,on)}function Ge(C,$){var at,mt,At=C.__data__;return((mt=typeof(at=$))=="string"||mt=="number"||mt=="symbol"||mt=="boolean"?at!=="__proto__":at===null)?At[typeof $=="string"?"string":"hash"]:At.map}function ce(C,$){var at=function(mt,At){return mt==null?void 0:mt[At]}(C,$);return Oe(at)?at:void 0}wt.prototype.clear=function(){this.__data__=J?J(null):{},this.size=0},wt.prototype.delete=function(C){var $=this.has(C)&&delete this.__data__[C];return this.size-=$?1:0,$},wt.prototype.get=function(C){var $=this.__data__;if(J){var at=$[C];return at===f?void 0:at}return le.call($,C)?$[C]:void 0},wt.prototype.has=function(C){var $=this.__data__;return J?$[C]!==void 0:le.call($,C)},wt.prototype.set=function(C,$){var at=this.__data__;return this.size+=this.has(C)?0:1,at[C]=J&&$===void 0?f:$,this},xt.prototype.clear=function(){this.__data__=[],this.size=0},xt.prototype.delete=function(C){var $=this.__data__,at=ge($,C);return!(at<0)&&(at==$.length-1?$.pop():We.call($,at,1),--this.size,!0)},xt.prototype.get=function(C){var $=this.__data__,at=ge($,C);return at<0?void 0:$[at][1]},xt.prototype.has=function(C){return ge(this.__data__,C)>-1},xt.prototype.set=function(C,$){var at=this.__data__,mt=ge(at,C);return mt<0?(++this.size,at.push([C,$])):at[mt][1]=$,this},Bt.prototype.clear=function(){this.size=0,this.__data__={hash:new wt,map:new(D||xt),string:new wt}},Bt.prototype.delete=function(C){var $=Ge(this,C).delete(C);return this.size-=$?1:0,$},Bt.prototype.get=function(C){return Ge(this,C).get(C)},Bt.prototype.has=function(C){return Ge(this,C).has(C)},Bt.prototype.set=function(C,$){var at=Ge(this,C),mt=at.size;return at.set(C,$),this.size+=at.size==mt?0:1,this},Ot.prototype.add=Ot.prototype.push=function(C){return this.__data__.set(C,f),this},Ot.prototype.has=function(C){return this.__data__.has(C)},Gt.prototype.clear=function(){this.__data__=new xt,this.size=0},Gt.prototype.delete=function(C){var $=this.__data__,at=$.delete(C);return this.size=$.size,at},Gt.prototype.get=function(C){return this.__data__.get(C)},Gt.prototype.has=function(C){return this.__data__.has(C)},Gt.prototype.set=function(C,$){var at=this.__data__;if(at instanceof xt){var mt=at.__data__;if(!D||mt.length<199)return mt.push([C,$]),this.size=++at.size,this;at=this.__data__=new Bt(mt)}return at.set(C,$),this.size=at.size,this};var on=ze?function(C){return C==null?[]:(C=Object(C),function($,at){for(var mt=-1,At=$==null?0:$.length,Zt=0,ue=[];++mt<At;){var Me=$[mt];at(Me,mt,$)&&(ue[Zt++]=Me)}return ue}(ze(C),function($){return Te.call(C,$)}))}:function(){return[]},Ze=ae;function xn(C,$){return!!($=$??w)&&(typeof C=="number"||Kt.test(C))&&C>-1&&C%1==0&&C<$}function Be(C){if(C!=null){try{return ye.call(C)}catch{}try{return C+""}catch{}}return""}function ln(C,$){return C===$||C!=C&&$!=$}(k&&Ze(new k(new ArrayBuffer(1)))!=dt||D&&Ze(new D)!=I||V&&Ze(V.resolve())!=ut||W&&Ze(new W)!=lt||Z&&Ze(new Z)!=ct)&&(Ze=function(C){var $=ae(C),at=$==Y?C.constructor:void 0,mt=at?Be(at):"";if(mt)switch(mt){case ot:return dt;case Q:return I;case ft:return ut;case It:return lt;case kt:return ct}return $});var nn=me(function(){return arguments}())?me:function(C){return P(C)&&le.call(C,"callee")&&!Te.call(C,"callee")},Wn=Array.isArray,gr=Ve||function(){return!1};function er(C){if(!Gn(C))return!1;var $=ae(C);return $==T||$==O||$==E||$==it}function zn(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=w}function Gn(C){var $=typeof C;return C!=null&&($=="object"||$=="function")}function P(C){return C!=null&&typeof C=="object"}var tt=fe?function(C){return function($){return C($)}}(fe):function(C){return P(C)&&zn(C.length)&&!!H[ae(C)]};function gt(C){return($=C)!=null&&zn($.length)&&!er($)?re(C):ve(C);var $}a.exports=function(C,$){return Ht(C,$)}},106:(a,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0});const f=h(193),p=h(142);var y;(function(w){w.compose=function(b={},v={},E=!1){typeof b!="object"&&(b={}),typeof v!="object"&&(v={});let S=f(v);E||(S=Object.keys(S).reduce((A,L)=>(S[L]!=null&&(A[L]=S[L]),A),{}));for(const A in b)b[A]!==void 0&&v[A]===void 0&&(S[A]=b[A]);return Object.keys(S).length>0?S:void 0},w.diff=function(b={},v={}){typeof b!="object"&&(b={}),typeof v!="object"&&(v={});const E=Object.keys(b).concat(Object.keys(v)).reduce((S,A)=>(p(b[A],v[A])||(S[A]=v[A]===void 0?null:v[A]),S),{});return Object.keys(E).length>0?E:void 0},w.invert=function(b={},v={}){b=b||{};const E=Object.keys(v).reduce((S,A)=>(v[A]!==b[A]&&b[A]!==void 0&&(S[A]=v[A]),S),{});return Object.keys(b).reduce((S,A)=>(b[A]!==v[A]&&v[A]===void 0&&(S[A]=null),S),E)},w.transform=function(b,v,E=!1){if(typeof b!="object")return v;if(typeof v!="object")return;if(!E)return v;const S=Object.keys(v).reduce((A,L)=>(b[L]===void 0&&(A[L]=v[L]),A),{});return Object.keys(S).length>0?S:void 0}})(y||(y={})),c.default=y},660:(a,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AttributeMap=c.OpIterator=c.Op=void 0;const f=h(606),p=h(193),y=h(142),w=h(106);c.AttributeMap=w.default;const b=h(759);c.Op=b.default;const v=h(317);c.OpIterator=v.default;const E=String.fromCharCode(0),S=(L,T)=>{if(typeof L!="object"||L===null)throw new Error("cannot retain a "+typeof L);if(typeof T!="object"||T===null)throw new Error("cannot retain a "+typeof T);const O=Object.keys(L)[0];if(!O||O!==Object.keys(T)[0])throw new Error(`embed types not matched: ${O} != ${Object.keys(T)[0]}`);return[O,L[O],T[O]]};class A{constructor(T){Array.isArray(T)?this.ops=T:T!=null&&Array.isArray(T.ops)?this.ops=T.ops:this.ops=[]}static registerEmbed(T,O){this.handlers[T]=O}static unregisterEmbed(T){delete this.handlers[T]}static getHandler(T){const O=this.handlers[T];if(!O)throw new Error(`no handlers for embed type "${T}"`);return O}insert(T,O){const I={};return typeof T=="string"&&T.length===0?this:(I.insert=T,O!=null&&typeof O=="object"&&Object.keys(O).length>0&&(I.attributes=O),this.push(I))}delete(T){return T<=0?this:this.push({delete:T})}retain(T,O){if(typeof T=="number"&&T<=0)return this;const I={retain:T};return O!=null&&typeof O=="object"&&Object.keys(O).length>0&&(I.attributes=O),this.push(I)}push(T){let O=this.ops.length,I=this.ops[O-1];if(T=p(T),typeof I=="object"){if(typeof T.delete=="number"&&typeof I.delete=="number")return this.ops[O-1]={delete:I.delete+T.delete},this;if(typeof I.delete=="number"&&T.insert!=null&&(O-=1,I=this.ops[O-1],typeof I!="object"))return this.ops.unshift(T),this;if(y(T.attributes,I.attributes)){if(typeof T.insert=="string"&&typeof I.insert=="string")return this.ops[O-1]={insert:I.insert+T.insert},typeof T.attributes=="object"&&(this.ops[O-1].attributes=T.attributes),this;if(typeof T.retain=="number"&&typeof I.retain=="number")return this.ops[O-1]={retain:I.retain+T.retain},typeof T.attributes=="object"&&(this.ops[O-1].attributes=T.attributes),this}}return O===this.ops.length?this.ops.push(T):this.ops.splice(O,0,T),this}chop(){const T=this.ops[this.ops.length-1];return T&&typeof T.retain=="number"&&!T.attributes&&this.ops.pop(),this}filter(T){return this.ops.filter(T)}forEach(T){this.ops.forEach(T)}map(T){return this.ops.map(T)}partition(T){const O=[],I=[];return this.forEach(B=>{(T(B)?O:I).push(B)}),[O,I]}reduce(T,O){return this.ops.reduce(T,O)}changeLength(){return this.reduce((T,O)=>O.insert?T+b.default.length(O):O.delete?T-O.delete:T,0)}length(){return this.reduce((T,O)=>T+b.default.length(O),0)}slice(T=0,O=1/0){const I=[],B=new v.default(this.ops);let F=0;for(;F<O&&B.hasNext();){let Y;F<T?Y=B.next(T-F):(Y=B.next(O-F),I.push(Y)),F+=b.default.length(Y)}return new A(I)}compose(T){const O=new v.default(this.ops),I=new v.default(T.ops),B=[],F=I.peek();if(F!=null&&typeof F.retain=="number"&&F.attributes==null){let ut=F.retain;for(;O.peekType()==="insert"&&O.peekLength()<=ut;)ut-=O.peekLength(),B.push(O.next());F.retain-ut>0&&I.next(F.retain-ut)}const Y=new A(B);for(;O.hasNext()||I.hasNext();)if(I.peekType()==="insert")Y.push(I.next());else if(O.peekType()==="delete")Y.push(O.next());else{const ut=Math.min(O.peekLength(),I.peekLength()),it=O.next(ut),j=I.next(ut);if(j.retain){const lt={};if(typeof it.retain=="number")lt.retain=typeof j.retain=="number"?ut:j.retain;else if(typeof j.retain=="number")it.retain==null?lt.insert=it.insert:lt.retain=it.retain;else{const M=it.retain==null?"insert":"retain",[G,ct,rt]=S(it[M],j.retain),dt=A.getHandler(G);lt[M]={[G]:dt.compose(ct,rt,M==="retain")}}const bt=w.default.compose(it.attributes,j.attributes,typeof it.retain=="number");if(bt&&(lt.attributes=bt),Y.push(lt),!I.hasNext()&&y(Y.ops[Y.ops.length-1],lt)){const M=new A(O.rest());return Y.concat(M).chop()}}else typeof j.delete=="number"&&(typeof it.retain=="number"||typeof it.retain=="object"&&it.retain!==null)&&Y.push(j)}return Y.chop()}concat(T){const O=new A(this.ops.slice());return T.ops.length>0&&(O.push(T.ops[0]),O.ops=O.ops.concat(T.ops.slice(1))),O}diff(T,O){if(this.ops===T.ops)return new A;const I=[this,T].map(it=>it.map(j=>{if(j.insert!=null)return typeof j.insert=="string"?j.insert:E;throw new Error("diff() called "+(it===T?"on":"with")+" non-document")}).join("")),B=new A,F=f(I[0],I[1],O,!0),Y=new v.default(this.ops),ut=new v.default(T.ops);return F.forEach(it=>{let j=it[1].length;for(;j>0;){let lt=0;switch(it[0]){case f.INSERT:lt=Math.min(ut.peekLength(),j),B.push(ut.next(lt));break;case f.DELETE:lt=Math.min(j,Y.peekLength()),Y.next(lt),B.delete(lt);break;case f.EQUAL:lt=Math.min(Y.peekLength(),ut.peekLength(),j);const bt=Y.next(lt),M=ut.next(lt);y(bt.insert,M.insert)?B.retain(lt,w.default.diff(bt.attributes,M.attributes)):B.push(M).delete(lt)}j-=lt}}),B.chop()}eachLine(T,O=`
`){const I=new v.default(this.ops);let B=new A,F=0;for(;I.hasNext();){if(I.peekType()!=="insert")return;const Y=I.peek(),ut=b.default.length(Y)-I.peekLength(),it=typeof Y.insert=="string"?Y.insert.indexOf(O,ut)-ut:-1;if(it<0)B.push(I.next());else if(it>0)B.push(I.next(it));else{if(T(B,I.next(1).attributes||{},F)===!1)return;F+=1,B=new A}}B.length()>0&&T(B,{},F)}invert(T){const O=new A;return this.reduce((I,B)=>{if(B.insert)O.delete(b.default.length(B));else{if(typeof B.retain=="number"&&B.attributes==null)return O.retain(B.retain),I+B.retain;if(B.delete||typeof B.retain=="number"){const F=B.delete||B.retain;return T.slice(I,I+F).forEach(Y=>{B.delete?O.push(Y):B.retain&&B.attributes&&O.retain(b.default.length(Y),w.default.invert(B.attributes,Y.attributes))}),I+F}if(typeof B.retain=="object"&&B.retain!==null){const F=T.slice(I,I+1),Y=new v.default(F.ops).next(),[ut,it,j]=S(B.retain,Y.insert),lt=A.getHandler(ut);return O.retain({[ut]:lt.invert(it,j)},w.default.invert(B.attributes,Y.attributes)),I+1}}return I},0),O.chop()}transform(T,O=!1){if(O=!!O,typeof T=="number")return this.transformPosition(T,O);const I=T,B=new v.default(this.ops),F=new v.default(I.ops),Y=new A;for(;B.hasNext()||F.hasNext();)if(B.peekType()!=="insert"||!O&&F.peekType()==="insert")if(F.peekType()==="insert")Y.push(F.next());else{const ut=Math.min(B.peekLength(),F.peekLength()),it=B.next(ut),j=F.next(ut);if(it.delete)continue;if(j.delete)Y.push(j);else{const lt=it.retain,bt=j.retain;let M=typeof bt=="object"&&bt!==null?bt:ut;if(typeof lt=="object"&&lt!==null&&typeof bt=="object"&&bt!==null){const G=Object.keys(lt)[0];if(G===Object.keys(bt)[0]){const ct=A.getHandler(G);ct&&(M={[G]:ct.transform(lt[G],bt[G],O)})}}Y.retain(M,w.default.transform(it.attributes,j.attributes,O))}}else Y.retain(b.default.length(B.next()));return Y.chop()}transformPosition(T,O=!1){O=!!O;const I=new v.default(this.ops);let B=0;for(;I.hasNext()&&B<=T;){const F=I.peekLength(),Y=I.peekType();I.next(),Y!=="delete"?(Y==="insert"&&(B<T||!O)&&(T+=F),B+=F):T-=Math.min(F,T-B)}return T}}A.Op=b.default,A.OpIterator=v.default,A.AttributeMap=w.default,A.handlers={},c.default=A,a.exports=A,a.exports.default=A},759:(a,c)=>{var h;Object.defineProperty(c,"__esModule",{value:!0}),function(f){f.length=function(p){return typeof p.delete=="number"?p.delete:typeof p.retain=="number"?p.retain:typeof p.retain=="object"&&p.retain!==null?1:typeof p.insert=="string"?p.insert.length:1}}(h||(h={})),c.default=h},317:(a,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0});const f=h(759);c.default=class{constructor(p){this.ops=p,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(p){p||(p=1/0);const y=this.ops[this.index];if(y){const w=this.offset,b=f.default.length(y);if(p>=b-w?(p=b-w,this.index+=1,this.offset=0):this.offset+=p,typeof y.delete=="number")return{delete:p};{const v={};return y.attributes&&(v.attributes=y.attributes),typeof y.retain=="number"?v.retain=p:typeof y.retain=="object"&&y.retain!==null?v.retain=y.retain:typeof y.insert=="string"?v.insert=y.insert.substr(w,p):v.insert=y.insert,v}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?f.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const p=this.ops[this.index];return p?typeof p.delete=="number"?"delete":typeof p.retain=="number"||typeof p.retain=="object"&&p.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const p=this.offset,y=this.index,w=this.next(),b=this.ops.slice(this.index);return this.offset=p,this.index=y,[w].concat(b)}}return[]}}},968:(a,c,h)=>{var f=h(64);typeof f=="string"&&(f=[[a.id,f,""]]);var p={hmr:!0,transform:void 0};h(27)(f,p),f.locals&&(a.exports=f.locals)},27:(a,c,h)=>{var f,p,y={},w=(f=function(){return window&&document&&document.all&&!window.atob},function(){return p===void 0&&(p=f.apply(this,arguments)),p}),b=function(M){var G={};return function(ct){if(G[ct]===void 0){var rt=M.call(this,ct);if(rt instanceof window.HTMLIFrameElement)try{rt=rt.contentDocument.head}catch{rt=null}G[ct]=rt}return G[ct]}}(function(M){return document.querySelector(M)}),v=null,E=0,S=[],A=h(874);function L(M,G){for(var ct=0;ct<M.length;ct++){var rt=M[ct],dt=y[rt.id];if(dt){dt.refs++;for(var Tt=0;Tt<dt.parts.length;Tt++)dt.parts[Tt](rt.parts[Tt]);for(;Tt<rt.parts.length;Tt++)dt.parts.push(Y(rt.parts[Tt],G))}else{var Kt=[];for(Tt=0;Tt<rt.parts.length;Tt++)Kt.push(Y(rt.parts[Tt],G));y[rt.id]={id:rt.id,refs:1,parts:Kt}}}}function T(M,G){for(var ct=[],rt={},dt=0;dt<M.length;dt++){var Tt=M[dt],Kt=G.base?Tt[0]+G.base:Tt[0],H={css:Tt[1],media:Tt[2],sourceMap:Tt[3]};rt[Kt]?rt[Kt].parts.push(H):ct.push(rt[Kt]={id:Kt,parts:[H]})}return ct}function O(M,G){var ct=b(M.insertInto);if(!ct)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var rt=S[S.length-1];if(M.insertAt==="top")rt?rt.nextSibling?ct.insertBefore(G,rt.nextSibling):ct.appendChild(G):ct.insertBefore(G,ct.firstChild),S.push(G);else if(M.insertAt==="bottom")ct.appendChild(G);else{if(typeof M.insertAt!="object"||!M.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var dt=b(M.insertInto+" "+M.insertAt.before);ct.insertBefore(G,dt)}}function I(M){if(M.parentNode===null)return!1;M.parentNode.removeChild(M);var G=S.indexOf(M);G>=0&&S.splice(G,1)}function B(M){var G=document.createElement("style");return M.attrs.type="text/css",F(G,M.attrs),O(M,G),G}function F(M,G){Object.keys(G).forEach(function(ct){M.setAttribute(ct,G[ct])})}function Y(M,G){var ct,rt,dt,Tt;if(G.transform&&M.css){if(!(Tt=G.transform(M.css)))return function(){};M.css=Tt}if(G.singleton){var Kt=E++;ct=v||(v=B(G)),rt=j.bind(null,ct,Kt,!1),dt=j.bind(null,ct,Kt,!0)}else M.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(ct=function(H){var Dt=document.createElement("link");return H.attrs.type="text/css",H.attrs.rel="stylesheet",F(Dt,H.attrs),O(H,Dt),Dt}(G),rt=bt.bind(null,ct,G),dt=function(){I(ct),ct.href&&URL.revokeObjectURL(ct.href)}):(ct=B(G),rt=lt.bind(null,ct),dt=function(){I(ct)});return rt(M),function(H){if(H){if(H.css===M.css&&H.media===M.media&&H.sourceMap===M.sourceMap)return;rt(M=H)}else dt()}}a.exports=function(M,G){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(G=G||{}).attrs=typeof G.attrs=="object"?G.attrs:{},G.singleton||typeof G.singleton=="boolean"||(G.singleton=w()),G.insertInto||(G.insertInto="head"),G.insertAt||(G.insertAt="bottom");var ct=T(M,G);return L(ct,G),function(rt){for(var dt=[],Tt=0;Tt<ct.length;Tt++){var Kt=ct[Tt];(H=y[Kt.id]).refs--,dt.push(H)}for(rt&&L(T(rt,G),G),Tt=0;Tt<dt.length;Tt++){var H;if((H=dt[Tt]).refs===0){for(var Dt=0;Dt<H.parts.length;Dt++)H.parts[Dt]();delete y[H.id]}}}};var ut,it=(ut=[],function(M,G){return ut[M]=G,ut.filter(Boolean).join(`
`)});function j(M,G,ct,rt){var dt=ct?"":rt.css;if(M.styleSheet)M.styleSheet.cssText=it(G,dt);else{var Tt=document.createTextNode(dt),Kt=M.childNodes;Kt[G]&&M.removeChild(Kt[G]),Kt.length?M.insertBefore(Tt,Kt[G]):M.appendChild(Tt)}}function lt(M,G){var ct=G.css,rt=G.media;if(rt&&M.setAttribute("media",rt),M.styleSheet)M.styleSheet.cssText=ct;else{for(;M.firstChild;)M.removeChild(M.firstChild);M.appendChild(document.createTextNode(ct))}}function bt(M,G,ct){var rt=ct.css,dt=ct.sourceMap,Tt=G.convertToAbsoluteUrls===void 0&&dt;(G.convertToAbsoluteUrls||Tt)&&(rt=A(rt)),dt&&(rt+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(dt))))+" */");var Kt=new Blob([rt],{type:"text/css"}),H=M.href;M.href=URL.createObjectURL(Kt),H&&URL.revokeObjectURL(H)}},874:a=>{a.exports=function(c){var h=typeof window<"u"&&window.location;if(!h)throw new Error("fixUrls requires window.location");if(!c||typeof c!="string")return c;var f=h.protocol+"//"+h.host,p=f+h.pathname.replace(/\/[^\/]*$/,"/");return c.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(y,w){var b,v=w.trim().replace(/^"(.*)"$/,function(E,S){return S}).replace(/^'(.*)'$/,function(E,S){return S});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(v)?y:(b=v.indexOf("//")===0?v:v.indexOf("/")===0?f+v:p+v.replace(/^\.\//,""),"url("+JSON.stringify(b)+")")})}},676:(a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FormatHTMLStringIndentation=function(h,f){for(var p=" ".repeat(2),y=0,w=`
`,b=null,v=null,E=null,S="",A=0;A<=h.length;A++){b=v,v=h.substr(A,1),E=h.substr(A+1,1);var L=h.substr(A,4)==="<br>",T=v==="<"&&E!=="/"&&!L,O=v==="<"&&E==="/"&&!L,I=b===">"&&v!=="<"&&y>0,B=!L&&!T&&!O&&I&&h.substr(A,h.substr(A).indexOf("<")).trim()==="";L&&(S+=w,y--,A+=4),T?(S+=w+p.repeat(y),y++):O?(--y<0&&(y=0),S+=w+p.repeat(y)):(v===" "&&E===" "||v===w&&h.substr(A,h.substr(A).indexOf("<")).trim()==="")&&(v=""),I&&!B&&(S+=w+p.repeat(y)),S+=v}return f.log("formatHTML",{before:h,after:S}),S}},795:(a,c)=>{function h(v){return v.replace(/\s+/g," ").trim()}function f(v){return v.replace(/<br([\s]*[\/]?>)/g,"<p> </p>")}function p(v){return v.replace(/<p><\/p>/g,"<p> </p>")}function y(v){return v.replace(/(<(?!\/)[\w=\."'\s]*>) /g,"$1")}function w(v){return v.replace(/ (<\/[\w]+>)/g,"$1")}function b(v,E){return v.reduce(function(S,A){return A(S)},E)}Object.defineProperty(c,"__esModule",{value:!0}),c.OutputHTMLParser=function(v){return b([h,y,w,f,p],v)},c.ConvertMultipleSpacesToSingle=h,c.PreserveNewlinesBr=f,c.PreserveNewlinesPTags=p,c.FixTagSpaceOpenTag=y,c.FixTagSpaceCloseTag=w,c.Compose=b},614:(a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.QuillHtmlLogger=void 0;var h=function(){function f(){this.debug=!1}return f.prototype.setDebug=function(p){this.debug=p},f.prototype.prefixString=function(){return"</> quill-html-edit-button: "},Object.defineProperty(f.prototype,"log",{get:function(){return this.debug?console.log.bind(console,this.prefixString()):function(){for(var p=[],y=0;y<arguments.length;y++)p[y]=arguments[y]}},enumerable:!1,configurable:!0}),f}();c.QuillHtmlLogger=h},190:function(a,c,h){var f=this&&this.__assign||function(){return f=Object.assign||function(T){for(var O,I=1,B=arguments.length;I<B;I++)for(var F in O=arguments[I])Object.prototype.hasOwnProperty.call(O,F)&&(T[F]=O[F]);return T},f.apply(this,arguments)},p=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(c,"__esModule",{value:!0}),c.htmlEditButton=void 0;var y=h(614);h(968);var w=p(h(429)),b=h(795),v=h(676);function E(T){return document.createElement(T)}function S(T,O,I){return T.setAttribute(O,I)}var A=new y.QuillHtmlLogger,L=function(T,O){var I=O||{},B=!(!I||!I.debug);A.setDebug(B),A.log("logging enabled");var F=T.getModule("toolbar");if(!F)throw new Error('quill.htmlEditButton requires the "toolbar" module to be included too');var Y=F.container,ut=E("span");S(ut,"class","ql-formats");var it=E("button");it.innerHTML=I.buttonHTML||"&lt;&gt;",it.title=I.buttonTitle||"Show HTML source",it.type="button";var j=function(lt){T.clipboard.dangerouslyPasteHTML(lt)};it.onclick=function(lt){lt.preventDefault(),function(bt,M,G){var ct=bt.container.querySelector(".ql-editor").innerHTML,rt=E("div"),dt=E("div"),Tt=M.msg||`Edit HTML here, when you click "OK" the quill editor's contents will be replaced`,Kt=M.cancelText||"Cancel",H=M.okText||"Ok",Dt=M.closeOnClickOverlay!==!1;S(dt,"class","ql-html-overlayContainer"),S(rt,"class","ql-html-popupContainer");var jt=E("span");S(jt,"class","ql-html-popupTitle"),jt.innerText=Tt;var $t=E("div");$t.appendChild(jt),S($t,"class","ql-html-textContainer");var se=E("pre");S(se,"data-language","xml"),se.innerText=(0,v.FormatHTMLStringIndentation)(ct,A);var ht=E("div");S(ht,"class","ql-html-textArea");var he=E("button");he.innerHTML=Kt,S(he,"class","ql-html-buttonCancel");var Yt=E("button");Yt.innerHTML=H,S(Yt,"class","ql-html-buttonOk");var ee=E("div");S(ee,"class","ql-html-buttonGroup");var fe=document.querySelector(M.prependSelector);ee.appendChild(he),ee.appendChild(Yt),ht.appendChild(se),$t.appendChild(ht),$t.appendChild(ee),rt.appendChild($t),dt.appendChild(rt),fe?fe.prepend(dt):document.body.appendChild(dt);var Ae=M&&M.editorModules,qe=Ae&&Object.keys(Ae).length?Ae:{},Ue=new w.default(ht,{modules:f({syntax:M.syntax},qe)});he.onclick=function(){fe?fe.removeChild(dt):document.body.removeChild(dt)},Dt&&(dt.onclick=he.onclick),rt.onclick=function(de){de.preventDefault(),de.stopPropagation()},Yt.onclick=function(){var de=Ue.container.querySelector(".ql-editor").innerText,Wt=(0,b.OutputHTMLParser)(de);A.log("OutputHTMLParser",{htmlInputFromPopup:de,htmlOutputFormatted:Wt}),G(Wt),fe?fe.removeChild(dt):document.body.removeChild(dt)}}(T,I,j)},ut.appendChild(it),Y==null||Y.appendChild(ut)};c.htmlEditButton=L,window.htmlEditButton=L,c.default=L},429:(a,c,h)=>{var Bo,ja,Cs,Ba,Ma,Mo,Po,Do,$o,Uo,Fo,Ho,Mi,zo,Pi;h.r(c),h.d(c,{Module:()=>vr,Parchment:()=>f,Range:()=>os,default:()=>R0});var f={};h.r(f),h.d(f,{Attributor:()=>pn,AttributorStore:()=>Jt,BlockBlot:()=>Dn,ClassAttributor:()=>_,ContainerBlot:()=>_s,EmbedBlot:()=>Nn,InlineBlot:()=>fn,LeafBlot:()=>Ee,ParentBlot:()=>Fe,Registry:()=>Mr,Scope:()=>Nt,ScrollBlot:()=>Zl,StyleAttributor:()=>K,TextBlot:()=>Ao});const p=function(){this.__data__=[],this.size=0},y=function(i,s){return i===s||i!=i&&s!=s},w=function(i,s){for(var o=i.length;o--;)if(y(i[o][0],s))return o;return-1};var b=Array.prototype.splice;const v=function(i){var s=this.__data__,o=w(s,i);return!(o<0)&&(o==s.length-1?s.pop():b.call(s,o,1),--this.size,!0)},E=function(i){var s=this.__data__,o=w(s,i);return o<0?void 0:s[o][1]},S=function(i){return w(this.__data__,i)>-1},A=function(i,s){var o=this.__data__,u=w(o,i);return u<0?(++this.size,o.push([i,s])):o[u][1]=s,this};function L(i){var s=-1,o=i==null?0:i.length;for(this.clear();++s<o;){var u=i[s];this.set(u[0],u[1])}}L.prototype.clear=p,L.prototype.delete=v,L.prototype.get=E,L.prototype.has=S,L.prototype.set=A;const T=L,O=function(){this.__data__=new T,this.size=0},I=function(i){var s=this.__data__,o=s.delete(i);return this.size=s.size,o},B=function(i){return this.__data__.get(i)},F=function(i){return this.__data__.has(i)},Y=typeof dr=="object"&&dr&&dr.Object===Object&&dr;var ut=typeof self=="object"&&self&&self.Object===Object&&self;const it=Y||ut||Function("return this")(),j=it.Symbol;var lt=Object.prototype,bt=lt.hasOwnProperty,M=lt.toString,G=j?j.toStringTag:void 0;const ct=function(i){var s=bt.call(i,G),o=i[G];try{i[G]=void 0;var u=!0}catch{}var d=M.call(i);return u&&(s?i[G]=o:delete i[G]),d};var rt=Object.prototype.toString;const dt=function(i){return rt.call(i)};var Tt=j?j.toStringTag:void 0;const Kt=function(i){return i==null?i===void 0?"[object Undefined]":"[object Null]":Tt&&Tt in Object(i)?ct(i):dt(i)},H=function(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")},Dt=function(i){if(!H(i))return!1;var s=Kt(i);return s=="[object Function]"||s=="[object GeneratorFunction]"||s=="[object AsyncFunction]"||s=="[object Proxy]"},jt=it["__core-js_shared__"];var $t,se=($t=/[^.]+$/.exec(jt&&jt.keys&&jt.keys.IE_PROTO||""))?"Symbol(src)_1."+$t:"";const ht=function(i){return!!se&&se in i};var he=Function.prototype.toString;const Yt=function(i){if(i!=null){try{return he.call(i)}catch{}try{return i+""}catch{}}return""};var ee=/^\[object .+?Constructor\]$/,fe=Function.prototype,Ae=Object.prototype,qe=fe.toString,Ue=Ae.hasOwnProperty,de=RegExp("^"+qe.call(Ue).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Wt=function(i){return!(!H(i)||ht(i))&&(Dt(i)?de:ee).test(Yt(i))},pe=function(i,s){return i==null?void 0:i[s]},qt=function(i,s){var o=pe(i,s);return Wt(o)?o:void 0},Qt=qt(it,"Map"),zt=qt(Object,"create"),Vt=function(){this.__data__=zt?zt(null):{},this.size=0},ye=function(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s};var le=Object.prototype.hasOwnProperty;const je=function(i){var s=this.__data__;if(zt){var o=s[i];return o==="__lodash_hash_undefined__"?void 0:o}return le.call(s,i)?s[i]:void 0};var ke=Object.prototype.hasOwnProperty;const _e=function(i){var s=this.__data__;return zt?s[i]!==void 0:ke.call(s,i)},Ke=function(i,s){var o=this.__data__;return this.size+=this.has(i)?0:1,o[i]=zt&&s===void 0?"__lodash_hash_undefined__":s,this};function He(i){var s=-1,o=i==null?0:i.length;for(this.clear();++s<o;){var u=i[s];this.set(u[0],u[1])}}He.prototype.clear=Vt,He.prototype.delete=ye,He.prototype.get=je,He.prototype.has=_e,He.prototype.set=Ke;const Se=He,Te=function(){this.size=0,this.__data__={hash:new Se,map:new(Qt||T),string:new Se}},We=function(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null},te=function(i,s){var o=i.__data__;return We(s)?o[typeof s=="string"?"string":"hash"]:o.map},ze=function(i){var s=te(this,i).delete(i);return this.size-=s?1:0,s},Ve=function(i){return te(this,i).get(i)},Xe=function(i){return te(this,i).has(i)},k=function(i,s){var o=te(this,i),u=o.size;return o.set(i,s),this.size+=o.size==u?0:1,this};function D(i){var s=-1,o=i==null?0:i.length;for(this.clear();++s<o;){var u=i[s];this.set(u[0],u[1])}}D.prototype.clear=Te,D.prototype.delete=ze,D.prototype.get=Ve,D.prototype.has=Xe,D.prototype.set=k;const V=D,W=function(i,s){var o=this.__data__;if(o instanceof T){var u=o.__data__;if(!Qt||u.length<199)return u.push([i,s]),this.size=++o.size,this;o=this.__data__=new V(u)}return o.set(i,s),this.size=o.size,this};function Z(i){var s=this.__data__=new T(i);this.size=s.size}Z.prototype.clear=O,Z.prototype.delete=I,Z.prototype.get=B,Z.prototype.has=F,Z.prototype.set=W;const J=Z,ot=function(){try{var i=qt(Object,"defineProperty");return i({},"",{}),i}catch{}}(),Q=function(i,s,o){s=="__proto__"&&ot?ot(i,s,{configurable:!0,enumerable:!0,value:o,writable:!0}):i[s]=o},ft=function(i,s,o){(o!==void 0&&!y(i[s],o)||o===void 0&&!(s in i))&&Q(i,s,o)},It=function(i){return function(s,o,u){for(var d=-1,m=Object(s),x=u(s),N=x.length;N--;){var q=x[i?N:++d];if(o(m[q],q,m)===!1)break}return s}}();var kt=t&&!t.nodeType&&t,pt=kt&&!0&&e&&!e.nodeType&&e,_t=pt&&pt.exports===kt?it.Buffer:void 0,wt=_t?_t.allocUnsafe:void 0;const xt=function(i,s){if(s)return i.slice();var o=i.length,u=wt?wt(o):new i.constructor(o);return i.copy(u),u},Bt=it.Uint8Array,Ot=function(i){var s=new i.constructor(i.byteLength);return new Bt(s).set(new Bt(i)),s},Gt=function(i,s){var o=s?Ot(i.buffer):i.buffer;return new i.constructor(o,i.byteOffset,i.length)},re=function(i,s){var o=-1,u=i.length;for(s||(s=Array(u));++o<u;)s[o]=i[o];return s};var ge=Object.create;const ae=function(){function i(){}return function(s){if(!H(s))return{};if(ge)return ge(s);i.prototype=s;var o=new i;return i.prototype=void 0,o}}(),me=function(i,s){return function(o){return i(s(o))}},Ht=me(Object.getPrototypeOf,Object);var Oe=Object.prototype;const ve=function(i){var s=i&&i.constructor;return i===(typeof s=="function"&&s.prototype||Oe)},Pe=function(i){return typeof i.constructor!="function"||ve(i)?{}:ae(Ht(i))},Re=function(i){return i!=null&&typeof i=="object"},Ge=function(i){return Re(i)&&Kt(i)=="[object Arguments]"};var ce=Object.prototype,on=ce.hasOwnProperty,Ze=ce.propertyIsEnumerable;const xn=Ge(function(){return arguments}())?Ge:function(i){return Re(i)&&on.call(i,"callee")&&!Ze.call(i,"callee")},Be=Array.isArray,ln=function(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=9007199254740991},nn=function(i){return i!=null&&ln(i.length)&&!Dt(i)},Wn=function(i){return Re(i)&&nn(i)},gr=function(){return!1};var er=t&&!t.nodeType&&t,zn=er&&!0&&e&&!e.nodeType&&e,Gn=zn&&zn.exports===er?it.Buffer:void 0;const P=(Gn?Gn.isBuffer:void 0)||gr;var tt=Function.prototype,gt=Object.prototype,C=tt.toString,$=gt.hasOwnProperty,at=C.call(Object);const mt=function(i){if(!Re(i)||Kt(i)!="[object Object]")return!1;var s=Ht(i);if(s===null)return!0;var o=$.call(s,"constructor")&&s.constructor;return typeof o=="function"&&o instanceof o&&C.call(o)==at};var At={};At["[object Float32Array]"]=At["[object Float64Array]"]=At["[object Int8Array]"]=At["[object Int16Array]"]=At["[object Int32Array]"]=At["[object Uint8Array]"]=At["[object Uint8ClampedArray]"]=At["[object Uint16Array]"]=At["[object Uint32Array]"]=!0,At["[object Arguments]"]=At["[object Array]"]=At["[object ArrayBuffer]"]=At["[object Boolean]"]=At["[object DataView]"]=At["[object Date]"]=At["[object Error]"]=At["[object Function]"]=At["[object Map]"]=At["[object Number]"]=At["[object Object]"]=At["[object RegExp]"]=At["[object Set]"]=At["[object String]"]=At["[object WeakMap]"]=!1;const Zt=function(i){return Re(i)&&ln(i.length)&&!!At[Kt(i)]},ue=function(i){return function(s){return i(s)}};var Me=t&&!t.nodeType&&t,Ye=Me&&!0&&e&&!e.nodeType&&e,Ie=Ye&&Ye.exports===Me&&Y.process;const vt=function(){try{var i=Ye&&Ye.require&&Ye.require("util").types;return i||Ie&&Ie.binding&&Ie.binding("util")}catch{}}();var Xt=vt&&vt.isTypedArray;const xe=Xt?ue(Xt):Zt,Le=function(i,s){if((s!=="constructor"||typeof i[s]!="function")&&s!="__proto__")return i[s]};var un=Object.prototype.hasOwnProperty;const dn=function(i,s,o){var u=i[s];un.call(i,s)&&y(u,o)&&(o!==void 0||s in i)||Q(i,s,o)},ie=function(i,s,o,u){var d=!o;o||(o={});for(var m=-1,x=s.length;++m<x;){var N=s[m],q=u?u(o[N],i[N],N,o,i):void 0;q===void 0&&(q=i[N]),d?Q(o,N,q):dn(o,N,q)}return o},Je=function(i,s){for(var o=-1,u=Array(i);++o<i;)u[o]=s(o);return u};var hn=/^(?:0|[1-9]\d*)$/;const bn=function(i,s){var o=typeof i;return!!(s=s??9007199254740991)&&(o=="number"||o!="symbol"&&hn.test(i))&&i>-1&&i%1==0&&i<s};var jn=Object.prototype.hasOwnProperty;const Vn=function(i,s){var o=Be(i),u=!o&&xn(i),d=!o&&!u&&P(i),m=!o&&!u&&!d&&xe(i),x=o||u||d||m,N=x?Je(i.length,String):[],q=N.length;for(var U in i)!s&&!jn.call(i,U)||x&&(U=="length"||d&&(U=="offset"||U=="parent")||m&&(U=="buffer"||U=="byteLength"||U=="byteOffset")||bn(U,q))||N.push(U);return N},be=function(i){var s=[];if(i!=null)for(var o in Object(i))s.push(o);return s};var Ce=Object.prototype.hasOwnProperty;const Sn=function(i){if(!H(i))return be(i);var s=ve(i),o=[];for(var u in i)(u!="constructor"||!s&&Ce.call(i,u))&&o.push(u);return o},En=function(i){return nn(i)?Vn(i,!0):Sn(i)},Wr=function(i){return ie(i,En(i))},An=function(i,s,o,u,d,m,x){var N=Le(i,o),q=Le(s,o),U=x.get(q);if(U)ft(i,o,U);else{var nt=m?m(N,q,o+"",i,s,x):void 0,yt=nt===void 0;if(yt){var Et=Be(q),Lt=!Et&&P(q),Ct=!Et&&!Lt&&xe(q);nt=q,Et||Lt||Ct?Be(N)?nt=N:Wn(N)?nt=re(N):Lt?(yt=!1,nt=xt(q,!0)):Ct?(yt=!1,nt=Gt(q,!0)):nt=[]:mt(q)||xn(q)?(nt=N,xn(N)?nt=Wr(N):H(N)&&!Dt(N)||(nt=Pe(q))):yt=!1}yt&&(x.set(q,nt),d(nt,q,u,m,x),x.delete(q)),ft(i,o,nt)}},Bn=function i(s,o,u,d,m){s!==o&&It(o,function(x,N){if(m||(m=new J),H(x))An(s,o,N,u,i,d,m);else{var q=d?d(Le(s,N),x,N+"",s,o,m):void 0;q===void 0&&(q=x),ft(s,N,q)}},En)},qn=function(i){return i},an=function(i,s,o){switch(o.length){case 0:return i.call(s);case 1:return i.call(s,o[0]);case 2:return i.call(s,o[0],o[1]);case 3:return i.call(s,o[0],o[1],o[2])}return i.apply(s,o)};var nr=Math.max;const Ir=function(i,s,o){return s=nr(s===void 0?i.length-1:s,0),function(){for(var u=arguments,d=-1,m=nr(u.length-s,0),x=Array(m);++d<m;)x[d]=u[s+d];d=-1;for(var N=Array(s+1);++d<s;)N[d]=u[d];return N[s]=o(x),an(i,this,N)}},Zn=function(i){return function(){return i}},Mn=ot?function(i,s){return ot(i,"toString",{configurable:!0,enumerable:!1,value:Zn(s),writable:!0})}:qn;var mr=Date.now;const jr=function(i){var s=0,o=0;return function(){var u=mr(),d=16-(u-o);if(o=u,d>0){if(++s>=800)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}(Mn),Br=function(i,s){return jr(Ir(i,s,qn),i+"")},rr=function(i,s,o){if(!H(o))return!1;var u=typeof s;return!!(u=="number"?nn(o)&&bn(s,o.length):u=="string"&&s in o)&&y(o[s],i)},_n=function(i){return Br(function(s,o){var u=-1,d=o.length,m=d>1?o[d-1]:void 0,x=d>2?o[2]:void 0;for(m=i.length>3&&typeof m=="function"?(d--,m):void 0,x&&rr(o[0],o[1],x)&&(m=d<3?void 0:m,d=1),s=Object(s);++u<d;){var N=o[u];N&&i(s,N,u,m)}return s})}(function(i,s,o){Bn(i,s,o)});var Nt=(i=>(i[i.TYPE=3]="TYPE",i[i.LEVEL=12]="LEVEL",i[i.ATTRIBUTE=13]="ATTRIBUTE",i[i.BLOT=14]="BLOT",i[i.INLINE=7]="INLINE",i[i.BLOCK=11]="BLOCK",i[i.BLOCK_BLOT=10]="BLOCK_BLOT",i[i.INLINE_BLOT=6]="INLINE_BLOT",i[i.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",i[i.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",i[i.ANY=15]="ANY",i))(Nt||{});class pn{constructor(s,o,u={}){this.attrName=s,this.keyName=o;const d=Nt.TYPE&Nt.ATTRIBUTE;this.scope=u.scope!=null?u.scope&Nt.LEVEL|d:Nt.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}static keys(s){return Array.from(s.attributes).map(o=>o.name)}add(s,o){return!!this.canAdd(s,o)&&(s.setAttribute(this.keyName,o),!0)}canAdd(s,o){return this.whitelist==null||(typeof o=="string"?this.whitelist.indexOf(o.replace(/["']/g,""))>-1:this.whitelist.indexOf(o)>-1)}remove(s){s.removeAttribute(this.keyName)}value(s){const o=s.getAttribute(this.keyName);return this.canAdd(s,o)&&o?o:""}}class Tn extends Error{constructor(s){super(s="[Parchment] "+s),this.message=s,this.name=this.constructor.name}}const Xs=class qc{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(s,o=!1){if(s==null)return null;if(this.blots.has(s))return this.blots.get(s)||null;if(o){let u=null;try{u=s.parentNode}catch{return null}return this.find(u,o)}return null}create(s,o,u){const d=this.query(o);if(d==null)throw new Tn(`Unable to create ${o} blot`);const m=d,x=o instanceof Node||o.nodeType===Node.TEXT_NODE?o:m.create(u),N=new m(s,x,u);return qc.blots.set(N.domNode,N),N}find(s,o=!1){return qc.find(s,o)}query(s,o=Nt.ANY){let u;return typeof s=="string"?u=this.types[s]||this.attributes[s]:s instanceof Text||s.nodeType===Node.TEXT_NODE?u=this.types.text:typeof s=="number"?s&Nt.LEVEL&Nt.BLOCK?u=this.types.block:s&Nt.LEVEL&Nt.INLINE&&(u=this.types.inline):s instanceof Element&&((s.getAttribute("class")||"").split(/\s+/).some(d=>(u=this.classes[d],!!u)),u=u||this.tags[s.tagName]),u==null?null:"scope"in u&&o&Nt.LEVEL&u.scope&&o&Nt.TYPE&u.scope?u:null}register(...s){return s.map(o=>{const u="blotName"in o,d="attrName"in o;if(!u&&!d)throw new Tn("Invalid definition");if(u&&o.blotName==="abstract")throw new Tn("Cannot register abstract class");const m=u?o.blotName:d?o.attrName:void 0;return this.types[m]=o,d?typeof o.keyName=="string"&&(this.attributes[o.keyName]=o):u&&(o.className&&(this.classes[o.className]=o),o.tagName&&(Array.isArray(o.tagName)?o.tagName=o.tagName.map(x=>x.toUpperCase()):o.tagName=o.tagName.toUpperCase(),(Array.isArray(o.tagName)?o.tagName:[o.tagName]).forEach(x=>{(this.tags[x]==null||o.className==null)&&(this.tags[x]=o)}))),o})}};Xs.blots=new WeakMap;let Mr=Xs;function g(i,s){return(i.getAttribute("class")||"").split(/\s+/).filter(o=>o.indexOf(`${s}-`)===0)}const _=class extends pn{static keys(i){return(i.getAttribute("class")||"").split(/\s+/).map(s=>s.split("-").slice(0,-1).join("-"))}add(i,s){return!!this.canAdd(i,s)&&(this.remove(i),i.classList.add(`${this.keyName}-${s}`),!0)}remove(i){g(i,this.keyName).forEach(s=>{i.classList.remove(s)}),i.classList.length===0&&i.removeAttribute("class")}value(i){const s=(g(i,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(i,s)?s:""}};function R(i){const s=i.split("-"),o=s.slice(1).map(u=>u[0].toUpperCase()+u.slice(1)).join("");return s[0]+o}const K=class extends pn{static keys(i){return(i.getAttribute("style")||"").split(";").map(s=>s.split(":")[0].trim())}add(i,s){return!!this.canAdd(i,s)&&(i.style[R(this.keyName)]=s,!0)}remove(i){i.style[R(this.keyName)]="",i.getAttribute("style")||i.removeAttribute("style")}value(i){const s=i.style[R(this.keyName)];return this.canAdd(i,s)?s:""}},Jt=class{constructor(i){this.attributes={},this.domNode=i,this.build()}attribute(i,s){s?i.add(this.domNode,s)&&(i.value(this.domNode)!=null?this.attributes[i.attrName]=i:delete this.attributes[i.attrName]):(i.remove(this.domNode),delete this.attributes[i.attrName])}build(){this.attributes={};const i=Mr.find(this.domNode);if(i==null)return;const s=pn.keys(this.domNode),o=_.keys(this.domNode),u=K.keys(this.domNode);s.concat(o).concat(u).forEach(d=>{const m=i.scroll.query(d,Nt.ATTRIBUTE);m instanceof pn&&(this.attributes[m.attrName]=m)})}copy(i){Object.keys(this.attributes).forEach(s=>{const o=this.attributes[s].value(this.domNode);i.format(s,o)})}move(i){this.copy(i),Object.keys(this.attributes).forEach(s=>{this.attributes[s].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((i,s)=>(i[s]=this.attributes[s].value(this.domNode),i),{})}},Ut=class{constructor(i,s){this.scroll=i,this.domNode=s,Mr.blots.set(s,this),this.prev=null,this.next=null}static create(i){if(this.tagName==null)throw new Tn("Blot definition missing tagName");let s,o;return Array.isArray(this.tagName)?(typeof i=="string"?(o=i.toUpperCase(),parseInt(o,10).toString()===o&&(o=parseInt(o,10))):typeof i=="number"&&(o=i),s=typeof o=="number"?document.createElement(this.tagName[o-1]):o&&this.tagName.indexOf(o)>-1?document.createElement(o):document.createElement(this.tagName[0])):s=document.createElement(this.tagName),this.className&&s.classList.add(this.className),s}get statics(){return this.constructor}attach(){}clone(){const i=this.domNode.cloneNode(!1);return this.scroll.create(i)}detach(){this.parent!=null&&this.parent.removeChild(this),Mr.blots.delete(this.domNode)}deleteAt(i,s){this.isolate(i,s).remove()}formatAt(i,s,o,u){const d=this.isolate(i,s);if(this.scroll.query(o,Nt.BLOT)!=null&&u)d.wrap(o,u);else if(this.scroll.query(o,Nt.ATTRIBUTE)!=null){const m=this.scroll.create(this.statics.scope);d.wrap(m),m.format(o,u)}}insertAt(i,s,o){const u=o==null?this.scroll.create("text",s):this.scroll.create(s,o),d=this.split(i);this.parent.insertBefore(u,d||void 0)}isolate(i,s){const o=this.split(i);if(o==null)throw new Error("Attempt to isolate at end");return o.split(s),o}length(){return 1}offset(i=this.parent){return this.parent==null||this===i?0:this.parent.children.offset(this)+this.parent.offset(i)}optimize(i){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(i,s){const o=typeof i=="string"?this.scroll.create(i,s):i;return this.parent!=null&&(this.parent.insertBefore(o,this.next||void 0),this.remove()),o}split(i,s){return i===0?this:this.next}update(i,s){}wrap(i,s){const o=typeof i=="string"?this.scroll.create(i,s):i;if(this.parent!=null&&this.parent.insertBefore(o,this.next||void 0),typeof o.appendChild!="function")throw new Tn(`Cannot wrap ${i}`);return o.appendChild(this),o}};Ut.blotName="abstract";let we=Ut;const Ne=class extends we{static value(i){return!0}index(i,s){return this.domNode===i||this.domNode.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(s,1):-1}position(i,s){let o=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return i>0&&(o+=1),[this.parent.domNode,o]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Ne.scope=Nt.INLINE_BLOT;const Ee=Ne;class De{constructor(){this.head=null,this.tail=null,this.length=0}append(...s){if(this.insertBefore(s[0],null),s.length>1){const o=s.slice(1);this.append(...o)}}at(s){const o=this.iterator();let u=o();for(;u&&s>0;)s-=1,u=o();return u}contains(s){const o=this.iterator();let u=o();for(;u;){if(u===s)return!0;u=o()}return!1}indexOf(s){const o=this.iterator();let u=o(),d=0;for(;u;){if(u===s)return d;d+=1,u=o()}return-1}insertBefore(s,o){s!=null&&(this.remove(s),s.next=o,o!=null?(s.prev=o.prev,o.prev!=null&&(o.prev.next=s),o.prev=s,o===this.head&&(this.head=s)):this.tail!=null?(this.tail.next=s,s.prev=this.tail,this.tail=s):(s.prev=null,this.head=this.tail=s),this.length+=1)}offset(s){let o=0,u=this.head;for(;u!=null;){if(u===s)return o;o+=u.length(),u=u.next}return-1}remove(s){this.contains(s)&&(s.prev!=null&&(s.prev.next=s.next),s.next!=null&&(s.next.prev=s.prev),s===this.head&&(this.head=s.next),s===this.tail&&(this.tail=s.prev),this.length-=1)}iterator(s=this.head){return()=>{const o=s;return s!=null&&(s=s.next),o}}find(s,o=!1){const u=this.iterator();let d=u();for(;d;){const m=d.length();if(s<m||o&&s===m&&(d.next==null||d.next.length()!==0))return[d,s];s-=m,d=u()}return[null,0]}forEach(s){const o=this.iterator();let u=o();for(;u;)s(u),u=o()}forEachAt(s,o,u){if(o<=0)return;const[d,m]=this.find(s);let x=s-m;const N=this.iterator(d);let q=N();for(;q&&x<s+o;){const U=q.length();s>x?u(q,s-x,Math.min(o,x+U-s)):u(q,0,Math.min(U,s+o-x)),x+=U,q=N()}}map(s){return this.reduce((o,u)=>(o.push(s(u)),o),[])}reduce(s,o){const u=this.iterator();let d=u();for(;d;)o=s(o,d),d=u();return o}}function yn(i,s){const o=s.find(i);if(o)return o;try{return s.create(i)}catch{const u=s.create(Nt.INLINE);return Array.from(i.childNodes).forEach(d=>{u.domNode.appendChild(d)}),i.parentNode&&i.parentNode.replaceChild(u.domNode,i),u.attach(),u}}const On=class fs extends we{constructor(s,o){super(s,o),this.uiNode=null,this.build()}appendChild(s){this.insertBefore(s)}attach(){super.attach(),this.children.forEach(s=>{s.attach()})}attachUI(s){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=s,fs.uiClass&&this.uiNode.classList.add(fs.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new De,Array.from(this.domNode.childNodes).filter(s=>s!==this.uiNode).reverse().forEach(s=>{try{const o=yn(s,this.scroll);this.insertBefore(o,this.children.head||void 0)}catch(o){if(o instanceof Tn)return;throw o}})}deleteAt(s,o){if(s===0&&o===this.length())return this.remove();this.children.forEachAt(s,o,(u,d,m)=>{u.deleteAt(d,m)})}descendant(s,o=0){const[u,d]=this.children.find(o);return s.blotName==null&&s(u)||s.blotName!=null&&u instanceof s?[u,d]:u instanceof fs?u.descendant(s,d):[null,-1]}descendants(s,o=0,u=Number.MAX_VALUE){let d=[],m=u;return this.children.forEachAt(o,u,(x,N,q)=>{(s.blotName==null&&s(x)||s.blotName!=null&&x instanceof s)&&d.push(x),x instanceof fs&&(d=d.concat(x.descendants(s,N,m))),m-=q}),d}detach(){this.children.forEach(s=>{s.detach()}),super.detach()}enforceAllowedChildren(){let s=!1;this.children.forEach(o=>{s||this.statics.allowedChildren.some(u=>o instanceof u)||(o.statics.scope===Nt.BLOCK_BLOT?(o.next!=null&&this.splitAfter(o),o.prev!=null&&this.splitAfter(o.prev),o.parent.unwrap(),s=!0):o instanceof fs?o.unwrap():o.remove())})}formatAt(s,o,u,d){this.children.forEachAt(s,o,(m,x,N)=>{m.formatAt(x,N,u,d)})}insertAt(s,o,u){const[d,m]=this.children.find(s);if(d)d.insertAt(m,o,u);else{const x=u==null?this.scroll.create("text",o):this.scroll.create(o,u);this.appendChild(x)}}insertBefore(s,o){s.parent!=null&&s.parent.children.remove(s);let u=null;this.children.insertBefore(s,o||null),s.parent=this,o!=null&&(u=o.domNode),(this.domNode.parentNode!==s.domNode||this.domNode.nextSibling!==u)&&this.domNode.insertBefore(s.domNode,u),s.attach()}length(){return this.children.reduce((s,o)=>s+o.length(),0)}moveChildren(s,o){this.children.forEach(u=>{s.insertBefore(u,o)})}optimize(s){if(super.optimize(s),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const o=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(o)}else this.remove()}path(s,o=!1){const[u,d]=this.children.find(s,o),m=[[this,s]];return u instanceof fs?m.concat(u.path(d,o)):(u!=null&&m.push([u,d]),m)}removeChild(s){this.children.remove(s)}replaceWith(s,o){const u=typeof s=="string"?this.scroll.create(s,o):s;return u instanceof fs&&this.moveChildren(u),super.replaceWith(u)}split(s,o=!1){if(!o){if(s===0)return this;if(s===this.length())return this.next}const u=this.clone();return this.parent&&this.parent.insertBefore(u,this.next||void 0),this.children.forEachAt(s,this.length(),(d,m,x)=>{const N=d.split(m,o);N!=null&&u.appendChild(N)}),u}splitAfter(s){const o=this.clone();for(;s.next!=null;)o.appendChild(s.next);return this.parent&&this.parent.insertBefore(o,this.next||void 0),o}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(s,o){const u=[],d=[];s.forEach(m=>{m.target===this.domNode&&m.type==="childList"&&(u.push(...m.addedNodes),d.push(...m.removedNodes))}),d.forEach(m=>{if(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const x=this.scroll.find(m);x!=null&&(x.domNode.parentNode==null||x.domNode.parentNode===this.domNode)&&x.detach()}),u.filter(m=>m.parentNode===this.domNode&&m!==this.uiNode).sort((m,x)=>m===x?0:m.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(m=>{let x=null;m.nextSibling!=null&&(x=this.scroll.find(m.nextSibling));const N=yn(m,this.scroll);(N.next!==x||N.next==null)&&(N.parent!=null&&N.parent.removeChild(this),this.insertBefore(N,x||void 0))}),this.enforceAllowedChildren()}};On.uiClass="";const Fe=On,cn=class ri extends Fe{static create(s){return super.create(s)}static formats(s,o){const u=o.query(ri.blotName);if(u==null||s.tagName!==u.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return s.tagName.toLowerCase()}}constructor(s,o){super(s,o),this.attributes=new Jt(this.domNode)}format(s,o){if(s!==this.statics.blotName||o){const u=this.scroll.query(s,Nt.INLINE);if(u==null)return;u instanceof pn?this.attributes.attribute(u,o):o&&(s!==this.statics.blotName||this.formats()[s]!==o)&&this.replaceWith(s,o)}else this.children.forEach(u=>{u instanceof ri||(u=u.wrap(ri.blotName,!0)),this.attributes.copy(u)}),this.unwrap()}formats(){const s=this.attributes.values(),o=this.statics.formats(this.domNode,this.scroll);return o!=null&&(s[this.statics.blotName]=o),s}formatAt(s,o,u,d){this.formats()[u]!=null||this.scroll.query(u,Nt.ATTRIBUTE)?this.isolate(s,o).format(u,d):super.formatAt(s,o,u,d)}optimize(s){super.optimize(s);const o=this.formats();if(Object.keys(o).length===0)return this.unwrap();const u=this.next;u instanceof ri&&u.prev===this&&function(d,m){if(Object.keys(d).length!==Object.keys(m).length)return!1;for(const x in d)if(d[x]!==m[x])return!1;return!0}(o,u.formats())&&(u.moveChildren(this),u.remove())}replaceWith(s,o){const u=super.replaceWith(s,o);return this.attributes.copy(u),u}update(s,o){super.update(s,o),s.some(u=>u.target===this.domNode&&u.type==="attributes")&&this.attributes.build()}wrap(s,o){const u=super.wrap(s,o);return u instanceof ri&&this.attributes.move(u),u}};cn.allowedChildren=[cn,Ee],cn.blotName="inline",cn.scope=Nt.INLINE_BLOT,cn.tagName="SPAN";const fn=cn,Pn=class kc extends Fe{static create(s){return super.create(s)}static formats(s,o){const u=o.query(kc.blotName);if(u==null||s.tagName!==u.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return s.tagName.toLowerCase()}}constructor(s,o){super(s,o),this.attributes=new Jt(this.domNode)}format(s,o){const u=this.scroll.query(s,Nt.BLOCK);u!=null&&(u instanceof pn?this.attributes.attribute(u,o):s!==this.statics.blotName||o?o&&(s!==this.statics.blotName||this.formats()[s]!==o)&&this.replaceWith(s,o):this.replaceWith(kc.blotName))}formats(){const s=this.attributes.values(),o=this.statics.formats(this.domNode,this.scroll);return o!=null&&(s[this.statics.blotName]=o),s}formatAt(s,o,u,d){this.scroll.query(u,Nt.BLOCK)!=null?this.format(u,d):super.formatAt(s,o,u,d)}insertAt(s,o,u){if(u==null||this.scroll.query(o,Nt.INLINE)!=null)super.insertAt(s,o,u);else{const d=this.split(s);if(d==null)throw new Error("Attempt to insertAt after block boundaries");{const m=this.scroll.create(o,u);d.parent.insertBefore(m,d)}}}replaceWith(s,o){const u=super.replaceWith(s,o);return this.attributes.copy(u),u}update(s,o){super.update(s,o),s.some(u=>u.target===this.domNode&&u.type==="attributes")&&this.attributes.build()}};Pn.blotName="block",Pn.scope=Nt.BLOCK_BLOT,Pn.tagName="P",Pn.allowedChildren=[fn,Pn,Ee];const Dn=Pn,br=class extends Fe{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(i,s){super.deleteAt(i,s),this.enforceAllowedChildren()}formatAt(i,s,o,u){super.formatAt(i,s,o,u),this.enforceAllowedChildren()}insertAt(i,s,o){super.insertAt(i,s,o),this.enforceAllowedChildren()}optimize(i){super.optimize(i),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};br.blotName="container",br.scope=Nt.BLOCK_BLOT;const _s=br,Nn=class extends Ee{static formats(i,s){}format(i,s){super.formatAt(0,this.length(),i,s)}formatAt(i,s,o,u){i===0&&s===this.length()?this.format(o,u):super.formatAt(i,s,o,u)}formats(){return this.statics.formats(this.domNode,this.scroll)}},Js={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Ys=class extends Fe{constructor(i,s){super(null,s),this.registry=i,this.scroll=this,this.build(),this.observer=new MutationObserver(o=>{this.update(o)}),this.observer.observe(this.domNode,Js),this.attach()}create(i,s){return this.registry.create(this,i,s)}find(i,s=!1){const o=this.registry.find(i,s);return o?o.scroll===this?o:s?this.find(o.scroll.domNode.parentNode,!0):null:null}query(i,s=Nt.ANY){return this.registry.query(i,s)}register(...i){return this.registry.register(...i)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(i,s){this.update(),i===0&&s===this.length()?this.children.forEach(o=>{o.remove()}):super.deleteAt(i,s)}formatAt(i,s,o,u){this.update(),super.formatAt(i,s,o,u)}insertAt(i,s,o){this.update(),super.insertAt(i,s,o)}optimize(i=[],s={}){super.optimize(s);const o=s.mutationsMap||new WeakMap;let u=Array.from(this.observer.takeRecords());for(;u.length>0;)i.push(u.pop());const d=(N,q=!0)=>{N==null||N===this||N.domNode.parentNode!=null&&(o.has(N.domNode)||o.set(N.domNode,[]),q&&d(N.parent))},m=N=>{o.has(N.domNode)&&(N instanceof Fe&&N.children.forEach(m),o.delete(N.domNode),N.optimize(s))};let x=i;for(let N=0;x.length>0;N+=1){if(N>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(x.forEach(q=>{const U=this.find(q.target,!0);U!=null&&(U.domNode===q.target&&(q.type==="childList"?(d(this.find(q.previousSibling,!1)),Array.from(q.addedNodes).forEach(nt=>{const yt=this.find(nt,!1);d(yt,!1),yt instanceof Fe&&yt.children.forEach(Et=>{d(Et,!1)})})):q.type==="attributes"&&d(U.prev)),d(U))}),this.children.forEach(m),x=Array.from(this.observer.takeRecords()),u=x.slice();u.length>0;)i.push(u.pop())}}update(i,s={}){i=i||this.observer.takeRecords();const o=new WeakMap;i.map(u=>{const d=this.find(u.target,!0);return d==null?null:o.has(d.domNode)?(o.get(d.domNode).push(u),null):(o.set(d.domNode,[u]),d)}).forEach(u=>{u!=null&&u!==this&&o.has(u.domNode)&&u.update(o.get(u.domNode)||[],s)}),s.mutationsMap=o,o.has(this.domNode)&&super.update(o.get(this.domNode),s),this.optimize(i,s)}};Ys.blotName="scroll",Ys.defaultChild=Dn,Ys.allowedChildren=[Dn,_s],Ys.scope=Nt.BLOCK_BLOT,Ys.tagName="DIV";const Zl=Ys,Xl=class Rg extends Ee{static create(s){return document.createTextNode(s)}static value(s){return s.data}constructor(s,o){super(s,o),this.text=this.statics.value(this.domNode)}deleteAt(s,o){this.domNode.data=this.text=this.text.slice(0,s)+this.text.slice(s+o)}index(s,o){return this.domNode===s?o:-1}insertAt(s,o,u){u==null?(this.text=this.text.slice(0,s)+o+this.text.slice(s),this.domNode.data=this.text):super.insertAt(s,o,u)}length(){return this.text.length}optimize(s){super.optimize(s),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Rg&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(s,o=!1){return[this.domNode,s]}split(s,o=!1){if(!o){if(s===0)return this;if(s===this.length())return this.next}const u=this.scroll.create(this.domNode.splitText(s));return this.parent.insertBefore(u,this.next||void 0),this.text=this.statics.value(this.domNode),u}update(s,o){s.some(u=>u.type==="characterData"&&u.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Xl.blotName="text",Xl.scope=Nt.INLINE_BLOT;const Ao=Xl;var St=h(660);const Gm=function(i,s){for(var o=-1,u=i==null?0:i.length;++o<u&&s(i[o],o,i)!==!1;);return i},Zm=me(Object.keys,Object);var Xm=Object.prototype.hasOwnProperty;const Jm=function(i){if(!ve(i))return Zm(i);var s=[];for(var o in Object(i))Xm.call(i,o)&&o!="constructor"&&s.push(o);return s},Jl=function(i){return nn(i)?Vn(i):Jm(i)},Ym=function(i,s){return i&&ie(s,Jl(s),i)},Qm=function(i,s){return i&&ie(s,En(s),i)},t1=function(i,s){for(var o=-1,u=i==null?0:i.length,d=0,m=[];++o<u;){var x=i[o];s(x,o,i)&&(m[d++]=x)}return m},sh=function(){return[]};var e1=Object.prototype.propertyIsEnumerable,ih=Object.getOwnPropertySymbols;const Yl=ih?function(i){return i==null?[]:(i=Object(i),t1(ih(i),function(s){return e1.call(i,s)}))}:sh,n1=function(i,s){return ie(i,Yl(i),s)},oh=function(i,s){for(var o=-1,u=s.length,d=i.length;++o<u;)i[d+o]=s[o];return i},lh=Object.getOwnPropertySymbols?function(i){for(var s=[];i;)oh(s,Yl(i)),i=Ht(i);return s}:sh,r1=function(i,s){return ie(i,lh(i),s)},ah=function(i,s,o){var u=s(i);return Be(i)?u:oh(u,o(i))},Ql=function(i){return ah(i,Jl,Yl)},s1=function(i){return ah(i,En,lh)},ta=qt(it,"DataView"),ea=qt(it,"Promise"),na=qt(it,"Set"),ra=qt(it,"WeakMap");var ch="[object Map]",uh="[object Promise]",hh="[object Set]",fh="[object WeakMap]",dh="[object DataView]",i1=Yt(ta),o1=Yt(Qt),l1=Yt(ea),a1=Yt(na),c1=Yt(ra),Ns=Kt;(ta&&Ns(new ta(new ArrayBuffer(1)))!=dh||Qt&&Ns(new Qt)!=ch||ea&&Ns(ea.resolve())!=uh||na&&Ns(new na)!=hh||ra&&Ns(new ra)!=fh)&&(Ns=function(i){var s=Kt(i),o=s=="[object Object]"?i.constructor:void 0,u=o?Yt(o):"";if(u)switch(u){case i1:return dh;case o1:return ch;case l1:return uh;case a1:return hh;case c1:return fh}return s});const Si=Ns;var u1=Object.prototype.hasOwnProperty;const h1=function(i){var s=i.length,o=new i.constructor(s);return s&&typeof i[0]=="string"&&u1.call(i,"index")&&(o.index=i.index,o.input=i.input),o},f1=function(i,s){var o=s?Ot(i.buffer):i.buffer;return new i.constructor(o,i.byteOffset,i.byteLength)};var d1=/\w*$/;const p1=function(i){var s=new i.constructor(i.source,d1.exec(i));return s.lastIndex=i.lastIndex,s};var ph=j?j.prototype:void 0,gh=ph?ph.valueOf:void 0;const g1=function(i){return gh?Object(gh.call(i)):{}},m1=function(i,s,o){var u=i.constructor;switch(s){case"[object ArrayBuffer]":return Ot(i);case"[object Boolean]":case"[object Date]":return new u(+i);case"[object DataView]":return f1(i,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Gt(i,o);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(i);case"[object RegExp]":return p1(i);case"[object Symbol]":return g1(i)}},b1=function(i){return Re(i)&&Si(i)=="[object Map]"};var mh=vt&&vt.isMap;const y1=mh?ue(mh):b1,v1=function(i){return Re(i)&&Si(i)=="[object Set]"};var bh=vt&&vt.isSet;const w1=bh?ue(bh):v1;var yh="[object Arguments]",vh="[object Function]",wh="[object Object]",Qe={};Qe[yh]=Qe["[object Array]"]=Qe["[object ArrayBuffer]"]=Qe["[object DataView]"]=Qe["[object Boolean]"]=Qe["[object Date]"]=Qe["[object Float32Array]"]=Qe["[object Float64Array]"]=Qe["[object Int8Array]"]=Qe["[object Int16Array]"]=Qe["[object Int32Array]"]=Qe["[object Map]"]=Qe["[object Number]"]=Qe[wh]=Qe["[object RegExp]"]=Qe["[object Set]"]=Qe["[object String]"]=Qe["[object Symbol]"]=Qe["[object Uint8Array]"]=Qe["[object Uint8ClampedArray]"]=Qe["[object Uint16Array]"]=Qe["[object Uint32Array]"]=!0,Qe["[object Error]"]=Qe[vh]=Qe["[object WeakMap]"]=!1;const x1=function i(s,o,u,d,m,x){var N,q=1&o,U=2&o,nt=4&o;if(u&&(N=m?u(s,d,m,x):u(s)),N!==void 0)return N;if(!H(s))return s;var yt=Be(s);if(yt){if(N=h1(s),!q)return re(s,N)}else{var Et=Si(s),Lt=Et==vh||Et=="[object GeneratorFunction]";if(P(s))return xt(s,q);if(Et==wh||Et==yh||Lt&&!m){if(N=U||Lt?{}:Pe(s),!q)return U?r1(s,Qm(N,s)):n1(s,Ym(N,s))}else{if(!Qe[Et])return m?s:{};N=m1(s,Et,q)}}x||(x=new J);var Ct=x.get(s);if(Ct)return Ct;x.set(s,N),w1(s)?s.forEach(function($e){N.add(i($e,o,u,$e,s,x))}):y1(s)&&s.forEach(function($e,tn){N.set(tn,i($e,o,u,tn,s,x))});var ne=yt?void 0:(nt?U?s1:Ql:U?En:Jl)(s);return Gm(ne||s,function($e,tn){ne&&($e=s[tn=$e]),dn(N,tn,i($e,o,u,tn,s,x))}),N},Qs=function(i){return x1(i,5)},E1=function(i){return this.__data__.set(i,"__lodash_hash_undefined__"),this},A1=function(i){return this.__data__.has(i)};function _o(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new V;++s<o;)this.add(i[s])}_o.prototype.add=_o.prototype.push=E1,_o.prototype.has=A1;const _1=_o,N1=function(i,s){for(var o=-1,u=i==null?0:i.length;++o<u;)if(s(i[o],o,i))return!0;return!1},S1=function(i,s){return i.has(s)},xh=function(i,s,o,u,d,m){var x=1&o,N=i.length,q=s.length;if(N!=q&&!(x&&q>N))return!1;var U=m.get(i),nt=m.get(s);if(U&&nt)return U==s&&nt==i;var yt=-1,Et=!0,Lt=2&o?new _1:void 0;for(m.set(i,s),m.set(s,i);++yt<N;){var Ct=i[yt],ne=s[yt];if(u)var $e=x?u(ne,Ct,yt,s,i,m):u(Ct,ne,yt,i,s,m);if($e!==void 0){if($e)continue;Et=!1;break}if(Lt){if(!N1(s,function(tn,Un){if(!S1(Lt,Un)&&(Ct===tn||d(Ct,tn,o,u,m)))return Lt.push(Un)})){Et=!1;break}}else if(Ct!==ne&&!d(Ct,ne,o,u,m)){Et=!1;break}}return m.delete(i),m.delete(s),Et},T1=function(i){var s=-1,o=Array(i.size);return i.forEach(function(u,d){o[++s]=[d,u]}),o},O1=function(i){var s=-1,o=Array(i.size);return i.forEach(function(u){o[++s]=u}),o};var Eh=j?j.prototype:void 0,sa=Eh?Eh.valueOf:void 0;const L1=function(i,s,o,u,d,m,x){switch(o){case"[object DataView]":if(i.byteLength!=s.byteLength||i.byteOffset!=s.byteOffset)return!1;i=i.buffer,s=s.buffer;case"[object ArrayBuffer]":return!(i.byteLength!=s.byteLength||!m(new Bt(i),new Bt(s)));case"[object Boolean]":case"[object Date]":case"[object Number]":return y(+i,+s);case"[object Error]":return i.name==s.name&&i.message==s.message;case"[object RegExp]":case"[object String]":return i==s+"";case"[object Map]":var N=T1;case"[object Set]":var q=1&u;if(N||(N=O1),i.size!=s.size&&!q)return!1;var U=x.get(i);if(U)return U==s;u|=2,x.set(i,s);var nt=xh(N(i),N(s),u,d,m,x);return x.delete(i),nt;case"[object Symbol]":if(sa)return sa.call(i)==sa.call(s)}return!1};var C1=Object.prototype.hasOwnProperty;const q1=function(i,s,o,u,d,m){var x=1&o,N=Ql(i),q=N.length;if(q!=Ql(s).length&&!x)return!1;for(var U=q;U--;){var nt=N[U];if(!(x?nt in s:C1.call(s,nt)))return!1}var yt=m.get(i),Et=m.get(s);if(yt&&Et)return yt==s&&Et==i;var Lt=!0;m.set(i,s),m.set(s,i);for(var Ct=x;++U<q;){var ne=i[nt=N[U]],$e=s[nt];if(u)var tn=x?u($e,ne,nt,s,i,m):u(ne,$e,nt,i,s,m);if(!(tn===void 0?ne===$e||d(ne,$e,o,u,m):tn)){Lt=!1;break}Ct||(Ct=nt=="constructor")}if(Lt&&!Ct){var Un=i.constructor,cs=s.constructor;Un==cs||!("constructor"in i)||!("constructor"in s)||typeof Un=="function"&&Un instanceof Un&&typeof cs=="function"&&cs instanceof cs||(Lt=!1)}return m.delete(i),m.delete(s),Lt};var Ah="[object Arguments]",_h="[object Array]",No="[object Object]",Nh=Object.prototype.hasOwnProperty;const k1=function(i,s,o,u,d,m){var x=Be(i),N=Be(s),q=x?_h:Si(i),U=N?_h:Si(s),nt=(q=q==Ah?No:q)==No,yt=(U=U==Ah?No:U)==No,Et=q==U;if(Et&&P(i)){if(!P(s))return!1;x=!0,nt=!1}if(Et&&!nt)return m||(m=new J),x||xe(i)?xh(i,s,o,u,d,m):L1(i,s,q,o,u,d,m);if(!(1&o)){var Lt=nt&&Nh.call(i,"__wrapped__"),Ct=yt&&Nh.call(s,"__wrapped__");if(Lt||Ct){var ne=Lt?i.value():i,$e=Ct?s.value():s;return m||(m=new J),d(ne,$e,o,u,m)}}return!!Et&&(m||(m=new J),q1(i,s,o,u,d,m))},R1=function i(s,o,u,d,m){return s===o||(s==null||o==null||!Re(s)&&!Re(o)?s!=s&&o!=o:k1(s,o,u,d,i,m))},ia=function(i,s){return R1(i,s)};class oa extends Nn{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}oa.blotName="break",oa.tagName="BR";const Gr=oa;class yr extends Ao{}function So(i){return i.replace(/[&<>"']/g,s=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[s])}const Dr=class Dr extends fn{static compare(s,o){const u=Dr.order.indexOf(s),d=Dr.order.indexOf(o);return u>=0||d>=0?u-d:s===o?0:s<o?-1:1}formatAt(s,o,u,d){if(Dr.compare(this.statics.blotName,u)<0&&this.scroll.query(u,Nt.BLOT)){const m=this.isolate(s,o);d&&m.wrap(u,d)}else super.formatAt(s,o,u,d)}optimize(s){if(super.optimize(s),this.parent instanceof Dr&&Dr.compare(this.statics.blotName,this.parent.statics.blotName)>0){const o=this.parent.isolate(this.offset(),this.length());this.moveChildren(o),o.wrap(this)}}};z(Dr,"allowedChildren",[Dr,Gr,Nn,yr]),z(Dr,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let la=Dr;const is=la;class Ln extends Dn{constructor(){super(...arguments);z(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=Sh(this)),this.cache.delta}deleteAt(o,u){super.deleteAt(o,u),this.cache={}}formatAt(o,u,d,m){u<=0||(this.scroll.query(d,Nt.BLOCK)?o+u===this.length()&&this.format(d,m):super.formatAt(o,Math.min(u,this.length()-o-1),d,m),this.cache={})}insertAt(o,u,d){if(d!=null)return super.insertAt(o,u,d),void(this.cache={});if(u.length===0)return;const m=u.split(`
`),x=m.shift();x.length>0&&(o<this.length()-1||this.children.tail==null?super.insertAt(Math.min(o,this.length()-1),x):this.children.tail.insertAt(this.children.tail.length(),x),this.cache={});let N=this;m.reduce((q,U)=>(N=N.split(q,!0),N.insertAt(0,U),U.length),o+x.length)}insertBefore(o,u){const{head:d}=this.children;super.insertBefore(o,u),d instanceof Gr&&d.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(o,u){super.moveChildren(o,u),this.cache={}}optimize(o){super.optimize(o),this.cache={}}path(o){return super.path(o,!0)}removeChild(o){super.removeChild(o),this.cache={}}split(o){let u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(u&&(o===0||o>=this.length()-1)){const m=this.clone();return o===0?(this.parent.insertBefore(m,this),this):(this.parent.insertBefore(m,this.next),m)}const d=super.split(o,u);return this.cache={},d}}Ln.blotName="block",Ln.tagName="P",Ln.defaultChild=Gr,Ln.allowedChildren=[Gr,is,Nn,yr];class sr extends Nn{attach(){super.attach(),this.attributes=new Jt(this.domNode)}delta(){return new St().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(s,o){const u=this.scroll.query(s,Nt.BLOCK_ATTRIBUTE);u!=null&&this.attributes.attribute(u,o)}formatAt(s,o,u,d){this.format(u,d)}insertAt(s,o,u){if(u!=null)return void super.insertAt(s,o,u);const d=o.split(`
`),m=d.pop(),x=d.map(q=>{const U=this.scroll.create(Ln.blotName);return U.insertAt(0,q),U}),N=this.split(s);x.forEach(q=>{this.parent.insertBefore(q,N)}),m&&this.parent.insertBefore(this.scroll.create("text",m),N)}}function Sh(i){let s=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return i.descendants(Ee).reduce((o,u)=>u.length()===0?o:o.insert(u.value(),ir(u,{},s)),new St).insert(`
`,ir(i))}function ir(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return i==null?s:("formats"in i&&typeof i.formats=="function"&&(s={...s,...i.formats()},o&&delete s["code-token"]),i.parent==null||i.parent.statics.blotName==="scroll"||i.parent.statics.scope!==i.statics.scope?s:ir(i.parent,s,o))}sr.scope=Nt.BLOCK_BLOT;const lr=class lr extends Nn{static value(){}constructor(s,o,u){super(s,o),this.selection=u,this.textNode=document.createTextNode(lr.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(s,o){if(this.savedLength!==0)return void super.format(s,o);let u=this,d=0;for(;u!=null&&u.statics.scope!==Nt.BLOCK_BLOT;)d+=u.offset(u.parent),u=u.parent;u!=null&&(this.savedLength=lr.CONTENTS.length,u.optimize(),u.formatAt(d,lr.CONTENTS.length,s,o),this.savedLength=0)}index(s,o){return s===this.textNode?0:super.index(s,o)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const s=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const o=this.prev instanceof yr?this.prev:null,u=o?o.length():0,d=this.next instanceof yr?this.next:null,m=d?d.text:"",{textNode:x}=this,N=x.data.split(lr.CONTENTS).join("");let q;if(x.data=lr.CONTENTS,o)q=o,(N||d)&&(o.insertAt(o.length(),N+m),d&&d.remove());else if(d)q=d,d.insertAt(0,N);else{const U=document.createTextNode(N);q=this.scroll.create(U),this.parent.insertBefore(q,this)}if(this.remove(),s){const U=(Et,Lt)=>o&&Et===o.domNode?Lt:Et===x?u+Lt-1:d&&Et===d.domNode?u+N.length+Lt:null,nt=U(s.start.node,s.start.offset),yt=U(s.end.node,s.end.offset);if(nt!==null&&yt!==null)return{startNode:q.domNode,startOffset:nt,endNode:q.domNode,endOffset:yt}}return null}update(s,o){if(s.some(u=>u.type==="characterData"&&u.target===this.textNode)){const u=this.restore();u&&(o.range=u)}}optimize(s){super.optimize(s);let{parent:o}=this;for(;o;){if(o.domNode.tagName==="A"){this.savedLength=lr.CONTENTS.length,o.isolate(this.offset(o),this.length()).unwrap(),this.savedLength=0;break}o=o.parent}}value(){return""}};z(lr,"blotName","cursor"),z(lr,"className","ql-cursor"),z(lr,"tagName","span"),z(lr,"CONTENTS","\uFEFF");let aa=lr;const To=aa;var I1=h(228);const ca=new WeakMap,ua=["error","warn","log","info"];let ha="warn";function Th(i){if(ha&&ua.indexOf(i)<=ua.indexOf(ha)){for(var s=arguments.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=arguments[u];console[i](...o)}}function fa(i){return ua.reduce((s,o)=>(s[o]=Th.bind(console,o,i),s),{})}fa.level=i=>{ha=i},Th.level=fa.level;const Ss=fa,da=Ss("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(i=>{document.addEventListener(i,function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];Array.from(document.querySelectorAll(".ql-container")).forEach(d=>{const m=ca.get(d);m&&m.emitter&&m.emitter.handleDOM(...o)})})});const Mt=(Bo=class extends I1{constructor(){super(),this.domListeners={},this.on("error",da.error)}emit(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return da.log.call(da,...s),super.emit(...s)}handleDOM(i){for(var s=arguments.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=arguments[u];(this.domListeners[i.type]||[]).forEach(d=>{let{node:m,handler:x}=d;(i.target===m||m.contains(i.target))&&x(i,...o)})}listenDOM(i,s,o){this.domListeners[i]||(this.domListeners[i]=[]),this.domListeners[i].push({node:s,handler:o})}},z(Bo,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),z(Bo,"sources",{API:"api",SILENT:"silent",USER:"user"}),Bo),pa=Ss("quill:selection");class os{constructor(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=s,this.length=o}}function ga(i,s){try{s.parentNode}catch{return!1}return i.contains(s)}const j1=class{constructor(i,s){this.emitter=s,this.scroll=i,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new os(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,Mt.sources.USER),1)}),this.emitter.on(Mt.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const o=this.getNativeRange();o!=null&&o.start.node!==this.cursor.textNode&&this.emitter.once(Mt.events.SCROLL_UPDATE,(u,d)=>{try{this.root.contains(o.start.node)&&this.root.contains(o.end.node)&&this.setNativeRange(o.start.node,o.start.offset,o.end.node,o.end.offset);const m=d.some(x=>x.type==="characterData"||x.type==="childList"||x.type==="attributes"&&x.target===this.root);this.update(m?Mt.sources.SILENT:u)}catch{}})}),this.emitter.on(Mt.events.SCROLL_OPTIMIZE,(o,u)=>{if(u.range){const{startNode:d,startOffset:m,endNode:x,endOffset:N}=u.range;this.setNativeRange(d,m,x,N),this.update(Mt.sources.SILENT)}}),this.update(Mt.sources.SILENT)}handleComposition(){this.emitter.on(Mt.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Mt.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const i=this.cursor.restore();if(!i)return;setTimeout(()=>{this.setNativeRange(i.startNode,i.startOffset,i.endNode,i.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Mt.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(i,s){this.scroll.update();const o=this.getNativeRange();if(o!=null&&o.native.collapsed&&!this.scroll.query(i,Nt.BLOCK)){if(o.start.node!==this.cursor.textNode){const u=this.scroll.find(o.start.node,!1);if(u==null)return;if(u instanceof Ee){const d=u.split(o.start.offset);u.parent.insertBefore(this.cursor,d)}else u.insertBefore(this.cursor,o.start.node);this.cursor.attach()}this.cursor.format(i,s),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const o=this.scroll.length();let u;i=Math.min(i,o-1),s=Math.min(i+s,o-1)-i;let[d,m]=this.scroll.leaf(i);if(d==null)return null;if(s>0&&m===d.length()){const[U]=this.scroll.leaf(i+1);if(U){const[nt]=this.scroll.line(i),[yt]=this.scroll.line(i+1);nt===yt&&(d=U,m=0)}}[u,m]=d.position(m,!0);const x=document.createRange();if(s>0)return x.setStart(u,m),[d,m]=this.scroll.leaf(i+s),d==null?null:([u,m]=d.position(m,!0),x.setEnd(u,m),x.getBoundingClientRect());let N,q="left";if(u instanceof Text){if(!u.data.length)return null;m<u.data.length?(x.setStart(u,m),x.setEnd(u,m+1)):(x.setStart(u,m-1),x.setEnd(u,m),q="right"),N=x.getBoundingClientRect()}else{if(!(d.domNode instanceof Element))return null;N=d.domNode.getBoundingClientRect(),m>0&&(q="right")}return{bottom:N.top+N.height,height:N.height,left:N[q],right:N[q],top:N.top,width:0}}getNativeRange(){const i=document.getSelection();if(i==null||i.rangeCount<=0)return null;const s=i.getRangeAt(0);if(s==null)return null;const o=this.normalizeNative(s);return pa.info("getNativeRange",o),o}getRange(){const i=this.scroll.domNode;if("isConnected"in i&&!i.isConnected)return[null,null];const s=this.getNativeRange();return s==null?[null,null]:[this.normalizedToRange(s),s]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&ga(this.root,document.activeElement)}normalizedToRange(i){const s=[[i.start.node,i.start.offset]];i.native.collapsed||s.push([i.end.node,i.end.offset]);const o=s.map(m=>{const[x,N]=m,q=this.scroll.find(x,!0),U=q.offset(this.scroll);return N===0?U:q instanceof Ee?U+q.index(x,N):U+q.length()}),u=Math.min(Math.max(...o),this.scroll.length()-1),d=Math.min(u,...o);return new os(d,u-d)}normalizeNative(i){if(!ga(this.root,i.startContainer)||!i.collapsed&&!ga(this.root,i.endContainer))return null;const s={start:{node:i.startContainer,offset:i.startOffset},end:{node:i.endContainer,offset:i.endOffset},native:i};return[s.start,s.end].forEach(o=>{let{node:u,offset:d}=o;for(;!(u instanceof Text)&&u.childNodes.length>0;)if(u.childNodes.length>d)u=u.childNodes[d],d=0;else{if(u.childNodes.length!==d)break;u=u.lastChild,d=u instanceof Text?u.data.length:u.childNodes.length>0?u.childNodes.length:u.childNodes.length+1}o.node=u,o.offset=d}),s}rangeToNative(i){const s=this.scroll.length(),o=(u,d)=>{u=Math.min(s-1,u);const[m,x]=this.scroll.leaf(u);return m?m.position(x,d):[null,-1]};return[...o(i.index,!1),...o(i.index+i.length,!0)]}setNativeRange(i,s){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:s,d=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(pa.info("setNativeRange",i,s,o,u),i!=null&&(this.root.parentNode==null||i.parentNode==null||o.parentNode==null))return;const m=document.getSelection();if(m!=null)if(i!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:x}=this.getNativeRange()||{};if(x==null||d||i!==x.startContainer||s!==x.startOffset||o!==x.endContainer||u!==x.endOffset){i instanceof Element&&i.tagName==="BR"&&(s=Array.from(i.parentNode.childNodes).indexOf(i),i=i.parentNode),o instanceof Element&&o.tagName==="BR"&&(u=Array.from(o.parentNode.childNodes).indexOf(o),o=o.parentNode);const N=document.createRange();N.setStart(i,s),N.setEnd(o,u),m.removeAllRanges(),m.addRange(N)}}else m.removeAllRanges(),this.root.blur()}setRange(i){let s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mt.sources.API;if(typeof s=="string"&&(o=s,s=!1),pa.info("setRange",i),i!=null){const u=this.rangeToNative(i);this.setNativeRange(...u,s)}else this.setNativeRange(null);this.update(o)}update(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mt.sources.USER;const s=this.lastRange,[o,u]=this.getRange();if(this.lastRange=o,this.lastNative=u,this.lastRange!=null&&(this.savedRange=this.lastRange),!ia(s,this.lastRange)){if(!this.composing&&u!=null&&u.native.collapsed&&u.start.node!==this.cursor.textNode){const m=this.cursor.restore();m&&this.setNativeRange(m.startNode,m.startOffset,m.endNode,m.endOffset)}const d=[Mt.events.SELECTION_CHANGE,Qs(this.lastRange),Qs(s),i];this.emitter.emit(Mt.events.EDITOR_CHANGE,...d),i!==Mt.sources.SILENT&&this.emitter.emit(...d)}}},B1=/^[ -~]*$/;function ti(i,s,o){if(i.length===0){const[Lt]=ma(o.pop());return s<=0?`</li></${Lt}>`:`</li></${Lt}>${ti([],s-1,o)}`}const[{child:u,offset:d,length:m,indent:x,type:N},...q]=i,[U,nt]=ma(N);if(x>s)return o.push(N),x===s+1?`<${U}><li${nt}>${Ti(u,d,m)}${ti(q,x,o)}`:`<${U}><li>${ti(i,s+1,o)}`;const yt=o[o.length-1];if(x===s&&N===yt)return`</li><li${nt}>${Ti(u,d,m)}${ti(q,x,o)}`;const[Et]=ma(o.pop());return`</li></${Et}>${ti(i,s-1,o)}`}function Ti(i,s,o){let u=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if("html"in i&&typeof i.html=="function")return i.html(s,o);if(i instanceof yr)return So(i.value().slice(s,s+o));if(i instanceof Fe){if(i.statics.blotName==="list-container"){const U=[];return i.children.forEachAt(s,o,(nt,yt,Et)=>{const Lt="formats"in nt&&typeof nt.formats=="function"?nt.formats():{};U.push({child:nt,offset:yt,length:Et,indent:Lt.indent||0,type:Lt.list})}),ti(U,-1,[])}const d=[];if(i.children.forEachAt(s,o,(U,nt,yt)=>{d.push(Ti(U,nt,yt))}),u||i.statics.blotName==="list")return d.join("");const{outerHTML:m,innerHTML:x}=i.domNode,[N,q]=m.split(`>${x}<`);return N==="<table"?`<table style="border: 1px solid #000;">${d.join("")}<${q}`:`${N}>${d.join("")}<${q}`}return i.domNode instanceof Element?i.domNode.outerHTML:""}function M1(i,s){return Object.keys(s).reduce((o,u)=>{if(i[u]==null)return o;const d=s[u];return d===i[u]?o[u]=d:Array.isArray(d)?d.indexOf(i[u])<0?o[u]=d.concat([i[u]]):o[u]=d:o[u]=[d,i[u]],o},{})}function ma(i){const s=i==="ordered"?"ol":"ul";switch(i){case"checked":return[s,' data-list="checked"'];case"unchecked":return[s,' data-list="unchecked"'];default:return[s,""]}}function Oh(i){return i.reduce((s,o)=>{if(typeof o.insert=="string"){const u=o.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return s.insert(u,o.attributes)}return s.push(o)},new St)}function Lh(i,s){let{index:o,length:u}=i;return new os(o+s,u)}const P1=class{constructor(i){this.scroll=i,this.delta=this.getDelta()}applyDelta(i){this.scroll.update();let s=this.scroll.length();this.scroll.batchStart();const o=Oh(i),u=new St;return function(d){const m=[];return d.forEach(x=>{typeof x.insert=="string"?x.insert.split(`
`).forEach((N,q)=>{q&&m.push({insert:`
`,attributes:x.attributes}),N&&m.push({insert:N,attributes:x.attributes})}):m.push(x)}),m}(o.ops.slice()).reduce((d,m)=>{const x=St.Op.length(m);let N=m.attributes||{},q=!1,U=!1;if(m.insert!=null){if(u.retain(x),typeof m.insert=="string"){const Et=m.insert;U=!Et.endsWith(`
`)&&(s<=d||!!this.scroll.descendant(sr,d)[0]),this.scroll.insertAt(d,Et);const[Lt,Ct]=this.scroll.line(d);let ne=_n({},ir(Lt));if(Lt instanceof Ln){const[$e]=Lt.descendant(Ee,Ct);$e&&(ne=_n(ne,ir($e)))}N=St.AttributeMap.diff(ne,N)||{}}else if(typeof m.insert=="object"){const Et=Object.keys(m.insert)[0];if(Et==null)return d;const Lt=this.scroll.query(Et,Nt.INLINE)!=null;if(Lt)(s<=d||this.scroll.descendant(sr,d)[0])&&(U=!0);else if(d>0){const[Ct,ne]=this.scroll.descendant(Ee,d-1);Ct instanceof yr?Ct.value()[ne]!==`
`&&(q=!0):Ct instanceof Nn&&Ct.statics.scope===Nt.INLINE_BLOT&&(q=!0)}if(this.scroll.insertAt(d,Et,m.insert[Et]),Lt){const[Ct]=this.scroll.descendant(Ee,d);if(Ct){const ne=_n({},ir(Ct));N=St.AttributeMap.diff(ne,N)||{}}}}s+=x}else if(u.push(m),m.retain!==null&&typeof m.retain=="object"){const Et=Object.keys(m.retain)[0];if(Et==null)return d;this.scroll.updateEmbedAt(d,Et,m.retain[Et])}Object.keys(N).forEach(Et=>{this.scroll.formatAt(d,x,Et,N[Et])});const nt=q?1:0,yt=U?1:0;return s+=nt+yt,u.retain(nt),u.delete(yt),d+x+nt+yt},0),u.reduce((d,m)=>typeof m.delete=="number"?(this.scroll.deleteAt(d,m.delete),d):d+St.Op.length(m),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(o)}deleteText(i,s){return this.scroll.deleteAt(i,s),this.update(new St().retain(i).delete(s))}formatLine(i,s){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(o).forEach(d=>{this.scroll.lines(i,Math.max(s,1)).forEach(m=>{m.format(d,o[d])})}),this.scroll.optimize();const u=new St().retain(i).retain(s,Qs(o));return this.update(u)}formatText(i,s){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(o).forEach(d=>{this.scroll.formatAt(i,s,d,o[d])});const u=new St().retain(i).retain(s,Qs(o));return this.update(u)}getContents(i,s){return this.delta.slice(i,i+s)}getDelta(){return this.scroll.lines().reduce((i,s)=>i.concat(s.delta()),new St)}getFormat(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=[],u=[];s===0?this.scroll.path(i).forEach(x=>{const[N]=x;N instanceof Ln?o.push(N):N instanceof Ee&&u.push(N)}):(o=this.scroll.lines(i,s),u=this.scroll.descendants(Ee,i,s));const[d,m]=[o,u].map(x=>{const N=x.shift();if(N==null)return{};let q=ir(N);for(;Object.keys(q).length>0;){const U=x.shift();if(U==null)return q;q=M1(ir(U),q)}return q});return{...d,...m}}getHTML(i,s){const[o,u]=this.scroll.line(i);if(o){const d=o.length();return!(o.length()>=u+s)||u===0&&s===d?Ti(this.scroll,i,s,!0):Ti(o,u,s,!0)}return""}getText(i,s){return this.getContents(i,s).filter(o=>typeof o.insert=="string").map(o=>o.insert).join("")}insertContents(i,s){const o=Oh(s),u=new St().retain(i).concat(o);return this.scroll.insertContents(i,o),this.update(u)}insertEmbed(i,s,o){return this.scroll.insertAt(i,s,o),this.update(new St().retain(i).insert({[s]:o}))}insertText(i,s){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s=s.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(i,s),Object.keys(o).forEach(u=>{this.scroll.formatAt(i,s.length,u,o[u])}),this.update(new St().retain(i).insert(s,Qs(o)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const i=this.scroll.children.head;if((i==null?void 0:i.statics.blotName)!==Ln.blotName)return!1;const s=i;return!(s.children.length>1)&&s.children.head instanceof Gr}removeFormat(i,s){const o=this.getText(i,s),[u,d]=this.scroll.line(i+s);let m=0,x=new St;u!=null&&(m=u.length()-d,x=u.delta().slice(d,d+m-1).insert(`
`));const N=this.getContents(i,s+m).diff(new St().insert(o).concat(x)),q=new St().retain(i).concat(N);return this.applyDelta(q)}update(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const u=this.delta;if(s.length===1&&s[0].type==="characterData"&&s[0].target.data.match(B1)&&this.scroll.find(s[0].target)){const d=this.scroll.find(s[0].target),m=ir(d),x=d.offset(this.scroll),N=s[0].oldValue.replace(To.CONTENTS,""),q=new St().insert(N),U=new St().insert(d.value()),nt=o&&{oldRange:Lh(o.oldRange,-x),newRange:Lh(o.newRange,-x)};i=new St().retain(x).concat(q.diff(U,nt)).reduce((yt,Et)=>Et.insert?yt.insert(Et.insert,m):yt.push(Et),new St),this.delta=u.compose(i)}else this.delta=this.getDelta(),i&&ia(u.compose(i),this.delta)||(i=u.diff(this.delta,o));return i}},vr=(ja=class{constructor(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=i,this.options=s}},z(ja,"DEFAULTS",{}),ja),Oo="\uFEFF",ba=class extends Nn{constructor(i,s){super(i,s),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(o=>{this.contentNode.appendChild(o)}),this.leftGuard=document.createTextNode(Oo),this.rightGuard=document.createTextNode(Oo),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(i,s){return i===this.leftGuard?0:i===this.rightGuard?1:super.index(i,s)}restore(i){let s,o=null;const u=i.data.split(Oo).join("");if(i===this.leftGuard)if(this.prev instanceof yr){const d=this.prev.length();this.prev.insertAt(d,u),o={startNode:this.prev.domNode,startOffset:d+u.length}}else s=document.createTextNode(u),this.parent.insertBefore(this.scroll.create(s),this),o={startNode:s,startOffset:u.length};else i===this.rightGuard&&(this.next instanceof yr?(this.next.insertAt(0,u),o={startNode:this.next.domNode,startOffset:u.length}):(s=document.createTextNode(u),this.parent.insertBefore(this.scroll.create(s),this.next),o={startNode:s,startOffset:u.length}));return i.data=Oo,o}update(i,s){i.forEach(o=>{if(o.type==="characterData"&&(o.target===this.leftGuard||o.target===this.rightGuard)){const u=this.restore(o.target);u&&(s.range=u)}})}},D1=class{constructor(i,s){z(this,"isComposing",!1);this.scroll=i,this.emitter=s,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",i=>{this.isComposing||this.handleCompositionStart(i)}),this.scroll.domNode.addEventListener("compositionend",i=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(i)})})}handleCompositionStart(i){const s=i.target instanceof Node?this.scroll.find(i.target,!0):null;!s||s instanceof ba||(this.emitter.emit(Mt.events.COMPOSITION_BEFORE_START,i),this.scroll.batchStart(),this.emitter.emit(Mt.events.COMPOSITION_START,i),this.isComposing=!0)}handleCompositionEnd(i){this.emitter.emit(Mt.events.COMPOSITION_BEFORE_END,i),this.scroll.batchEnd(),this.emitter.emit(Mt.events.COMPOSITION_END,i),this.isComposing=!1}},Bi=class Bi{constructor(s,o){z(this,"modules",{});this.quill=s,this.options=o}init(){Object.keys(this.options.modules).forEach(s=>{this.modules[s]==null&&this.addModule(s)})}addModule(s){const o=this.quill.constructor.import(`modules/${s}`);return this.modules[s]=new o(this.quill,this.options.modules[s]||{}),this.modules[s]}};z(Bi,"DEFAULTS",{modules:{}}),z(Bi,"themes",{default:Bi});let ya=Bi;const Lo=ya,$1=i=>{const s=i.getBoundingClientRect(),o="offsetWidth"in i&&Math.abs(s.width)/i.offsetWidth||1,u="offsetHeight"in i&&Math.abs(s.height)/i.offsetHeight||1;return{top:s.top,right:s.left+i.clientWidth*o,bottom:s.top+i.clientHeight*u,left:s.left}},Co=i=>{const s=parseInt(i,10);return Number.isNaN(s)?0:s},Ch=(i,s,o,u,d,m)=>i<o&&s>u?0:i<o?-(o-i+d):s>u?s-i>u-o?i+d-o:s-u+m:0,U1=(i,s)=>{var x,N,q;const o=i.ownerDocument;let u=s,d=i;for(;d;){const U=d===o.body,nt=U?{top:0,right:((x=window.visualViewport)==null?void 0:x.width)??o.documentElement.clientWidth,bottom:((N=window.visualViewport)==null?void 0:N.height)??o.documentElement.clientHeight,left:0}:$1(d),yt=getComputedStyle(d),Et=Ch(u.left,u.right,nt.left,nt.right,Co(yt.scrollPaddingLeft),Co(yt.scrollPaddingRight)),Lt=Ch(u.top,u.bottom,nt.top,nt.bottom,Co(yt.scrollPaddingTop),Co(yt.scrollPaddingBottom));if(Et||Lt)if(U)(q=o.defaultView)==null||q.scrollBy(Et,Lt);else{const{scrollLeft:Ct,scrollTop:ne}=d;Lt&&(d.scrollTop+=Lt),Et&&(d.scrollLeft+=Et);const $e=d.scrollLeft-Ct,tn=d.scrollTop-ne;u={left:u.left-$e,top:u.top-tn,right:u.right-$e,bottom:u.bottom-tn}}d=U||yt.position==="fixed"?null:(m=d).parentElement||m.getRootNode().host||null}var m},F1=["block","break","cursor","inline","scroll","text"],H1=(i,s,o)=>{const u=new Mr;return F1.forEach(d=>{const m=s.query(d);m&&u.register(m)}),i.forEach(d=>{let m=s.query(d);m||o.error(`Cannot register "${d}" specified in "formats" config. Are you sure it was registered?`);let x=0;for(;m;)if(u.register(m),m="blotName"in m?m.requiredContainer??null:null,x+=1,x>100){o.error(`Cycle detected in registering blot requiredContainer: "${d}"`);break}}),u},ei=Ss("quill"),qo=new Mr;Fe.uiClass="ql-ui";const $n=class $n{static debug(s){s===!0&&(s="log"),Ss.level(s)}static find(s){let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return ca.get(s)||qo.find(s,o)}static import(s){return this.imports[s]==null&&ei.error(`Cannot import ${s}. Are you sure it was registered?`),this.imports[s]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const s=arguments.length<=0?void 0:arguments[0],o=!!(!(arguments.length<=1)&&arguments[1]),u="attrName"in s?s.attrName:s.blotName;typeof u=="string"?this.register(`formats/${u}`,s,o):Object.keys(s).forEach(d=>{this.register(d,s[d],o)})}else{const s=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],u=!!(!(arguments.length<=2)&&arguments[2]);this.imports[s]==null||u||ei.warn(`Overwriting ${s} with`,o),this.imports[s]=o,(s.startsWith("blots/")||s.startsWith("formats/"))&&o&&typeof o!="boolean"&&o.blotName!=="abstract"&&qo.register(o),typeof o.register=="function"&&o.register(qo)}}constructor(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=function(x,N){const q=qh(x);if(!q)throw new Error("Invalid Quill container");const U=!N.theme||N.theme===$n.DEFAULTS.theme,nt=U?Lo:$n.import(`themes/${N.theme}`);if(!nt)throw new Error(`Invalid theme ${N.theme}. Did you register it?`);const{modules:yt,...Et}=$n.DEFAULTS,{modules:Lt,...Ct}=nt.DEFAULTS;let ne=va(N.modules);ne!=null&&ne.toolbar&&ne.toolbar.constructor!==Object&&(ne={...ne,toolbar:{container:ne.toolbar}});const $e=_n({},va(yt),va(Lt),ne),tn={...Et,...kh(Ct),...kh(N)};let Un=N.registry;return Un?N.formats&&ei.warn('Ignoring "formats" option because "registry" is specified'):Un=N.formats?H1(N.formats,tn.registry,ei):tn.registry,{...tn,registry:Un,container:q,theme:nt,modules:Object.entries($e).reduce((cs,I0)=>{let[Pa,vf]=I0;if(!vf)return cs;const wf=$n.import(`modules/${Pa}`);return wf==null?(ei.error(`Cannot load ${Pa} module. Are you sure you registered it?`),cs):{...cs,[Pa]:_n({},wf.DEFAULTS||{},vf)}},{}),bounds:qh(tn.bounds)}}(s,o),this.container=this.options.container,this.container==null)return void ei.error("Invalid Quill container",s);this.options.debug&&$n.debug(this.options.debug);const u=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",ca.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Mt;const d=Zl.blotName,m=this.options.registry.query(d);if(!m||!("blotName"in m))throw new Error(`Cannot initialize Quill without "${d}" blot`);if(this.scroll=new m(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new P1(this.scroll),this.selection=new j1(this.scroll,this.emitter),this.composition=new D1(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Mt.events.EDITOR_CHANGE,x=>{x===Mt.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Mt.events.SCROLL_UPDATE,(x,N)=>{const q=this.selection.lastRange,[U]=this.selection.getRange(),nt=q&&U?{oldRange:q,newRange:U}:void 0;wr.call(this,()=>this.editor.update(null,N,nt),x)}),this.emitter.on(Mt.events.SCROLL_EMBED_UPDATE,(x,N)=>{const q=this.selection.lastRange,[U]=this.selection.getRange(),nt=q&&U?{oldRange:q,newRange:U}:void 0;wr.call(this,()=>{const yt=new St().retain(x.offset(this)).retain({[x.statics.blotName]:N});return this.editor.update(yt,[],nt)},$n.sources.USER)}),u){const x=this.clipboard.convert({html:`${u}<p><br></p>`,text:`
`});this.setContents(x)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof s=="string"){const u=s;(s=document.createElement("div")).classList.add(u)}return this.container.insertBefore(s,o),s}blur(){this.selection.setRange(null)}deleteText(s,o,u){return[s,o,,u]=Zr(s,o,u),wr.call(this,()=>this.editor.deleteText(s,o),u,s,-1*o)}disable(){this.enable(!1)}editReadOnly(s){this.allowReadOnlyEdits=!0;const o=s();return this.allowReadOnlyEdits=!1,o}enable(){let s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(s),this.container.classList.toggle("ql-disabled",!s)}focus(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),s.preventScroll||this.scrollSelectionIntoView()}format(s,o){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mt.sources.API;return wr.call(this,()=>{const d=this.getSelection(!0);let m=new St;if(d==null)return m;if(this.scroll.query(s,Nt.BLOCK))m=this.editor.formatLine(d.index,d.length,{[s]:o});else{if(d.length===0)return this.selection.format(s,o),m;m=this.editor.formatText(d.index,d.length,{[s]:o})}return this.setSelection(d,Mt.sources.SILENT),m},u)}formatLine(s,o,u,d,m){let x;return[s,o,x,m]=Zr(s,o,u,d,m),wr.call(this,()=>this.editor.formatLine(s,o,x),m,s,0)}formatText(s,o,u,d,m){let x;return[s,o,x,m]=Zr(s,o,u,d,m),wr.call(this,()=>this.editor.formatText(s,o,x),m,s,0)}getBounds(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=null;if(u=typeof s=="number"?this.selection.getBounds(s,o):this.selection.getBounds(s.index,s.length),!u)return null;const d=this.container.getBoundingClientRect();return{bottom:u.bottom-d.top,height:u.height,left:u.left-d.left,right:u.right-d.left,top:u.top-d.top,width:u.width}}getContents(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-s;return[s,o]=Zr(s,o),this.editor.getContents(s,o)}getFormat(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof s=="number"?this.editor.getFormat(s,o):this.editor.getFormat(s.index,s.length)}getIndex(s){return s.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(s){return this.scroll.leaf(s)}getLine(s){return this.scroll.line(s)}getLines(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof s!="number"?this.scroll.lines(s.index,s.length):this.scroll.lines(s,o)}getModule(s){return this.theme.modules[s]}getSelection(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0;return typeof s=="number"&&(o=o??this.getLength()-s),[s,o]=Zr(s,o),this.editor.getHTML(s,o)}getText(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0;return typeof s=="number"&&(o=o??this.getLength()-s),[s,o]=Zr(s,o),this.editor.getText(s,o)}hasFocus(){return this.selection.hasFocus()}insertEmbed(s,o,u){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$n.sources.API;return wr.call(this,()=>this.editor.insertEmbed(s,o,u),d,s)}insertText(s,o,u,d,m){let x;return[s,,x,m]=Zr(s,0,u,d,m),wr.call(this,()=>this.editor.insertText(s,o,x),m,s,o.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(s,o,u){return[s,o,,u]=Zr(s,o,u),wr.call(this,()=>this.editor.removeFormat(s,o),u,s)}scrollRectIntoView(s){U1(this.root,s)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const s=this.selection.lastRange,o=s&&this.selection.getBounds(s.index,s.length);o&&this.scrollRectIntoView(o)}setContents(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mt.sources.API;return wr.call(this,()=>{s=new St(s);const u=this.getLength(),d=this.editor.deleteText(0,u),m=this.editor.insertContents(0,s),x=this.editor.deleteText(this.getLength()-1,1);return d.compose(m).compose(x)},o)}setSelection(s,o,u){s==null?this.selection.setRange(null,o||$n.sources.API):([s,o,,u]=Zr(s,o,u),this.selection.setRange(new os(Math.max(0,s),o),u),u!==Mt.sources.SILENT&&this.scrollSelectionIntoView())}setText(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mt.sources.API;const u=new St().insert(s);return this.setContents(u,o)}update(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mt.sources.USER;const o=this.scroll.update(s);return this.selection.update(s),o}updateContents(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mt.sources.API;return wr.call(this,()=>(s=new St(s),this.editor.applyDelta(s)),o,!0)}};z($n,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:qo,theme:"default"}),z($n,"events",Mt.events),z($n,"sources",Mt.sources),z($n,"version","2.0.2"),z($n,"imports",{delta:St,parchment:f,"core/module":vr,"core/theme":Lo});let st=$n;function qh(i){return typeof i=="string"?document.querySelector(i):i}function va(i){return Object.entries(i??{}).reduce((s,o)=>{let[u,d]=o;return{...s,[u]:d===!0?{}:d}},{})}function kh(i){return Object.fromEntries(Object.entries(i).filter(s=>s[1]!==void 0))}function wr(i,s,o,u){if(!this.isEnabled()&&s===Mt.sources.USER&&!this.allowReadOnlyEdits)return new St;let d=o==null?null:this.getSelection();const m=this.editor.delta,x=i();if(d!=null&&(o===!0&&(o=d.index),u==null?d=Rh(d,x,s):u!==0&&(d=Rh(d,o,u,s)),this.setSelection(d,Mt.sources.SILENT)),x.length()>0){const N=[Mt.events.TEXT_CHANGE,x,m,s];this.emitter.emit(Mt.events.EDITOR_CHANGE,...N),s!==Mt.sources.SILENT&&this.emitter.emit(...N)}return x}function Zr(i,s,o,u,d){let m={};return typeof i.index=="number"&&typeof i.length=="number"?typeof s!="number"?(d=u,u=o,o=s,s=i.length,i=i.index):(s=i.length,i=i.index):typeof s!="number"&&(d=u,u=o,o=s,s=0),typeof o=="object"?(m=o,d=u):typeof o=="string"&&(u!=null?m[o]=u:d=o),[i,s,m,d=d||Mt.sources.API]}function Rh(i,s,o,u){const d=typeof o=="number"?o:0;if(i==null)return null;let m,x;return s&&typeof s.transformPosition=="function"?[m,x]=[i.index,i.index+i.length].map(N=>s.transformPosition(N,u!==Mt.sources.USER)):[m,x]=[i.index,i.index+i.length].map(N=>N<s||N===s&&u===Mt.sources.USER?N:d>=0?N+d:Math.max(s,N+d)),new os(m,x-m)}const Ts=class extends _s{};function Ih(i){return i instanceof Ln||i instanceof sr}function jh(i){return typeof i.updateContent=="function"}function wa(i,s,o){o.reduce((u,d)=>{const m=St.Op.length(d);let x=d.attributes||{};if(d.insert!=null){if(typeof d.insert=="string"){const N=d.insert;i.insertAt(u,N);const[q]=i.descendant(Ee,u),U=ir(q);x=St.AttributeMap.diff(U,x)||{}}else if(typeof d.insert=="object"){const N=Object.keys(d.insert)[0];if(N==null)return u;if(i.insertAt(u,N,d.insert[N]),i.scroll.query(N,Nt.INLINE)!=null){const[q]=i.descendant(Ee,u),U=ir(q);x=St.AttributeMap.diff(U,x)||{}}}}return Object.keys(x).forEach(N=>{i.formatAt(u,m,N,x[N])}),u+m},s)}const z1=(Cs=class extends Zl{constructor(i,s,o){let{emitter:u}=o;super(i,s),this.emitter=u,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",d=>this.handleDragStart(d))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const i=this.batch;this.batch=!1,this.update(i)}emitMount(i){this.emitter.emit(Mt.events.SCROLL_BLOT_MOUNT,i)}emitUnmount(i){this.emitter.emit(Mt.events.SCROLL_BLOT_UNMOUNT,i)}emitEmbedUpdate(i,s){this.emitter.emit(Mt.events.SCROLL_EMBED_UPDATE,i,s)}deleteAt(i,s){const[o,u]=this.line(i),[d]=this.line(i+s);if(super.deleteAt(i,s),d!=null&&o!==d&&u>0){if(o instanceof sr||d instanceof sr)return void this.optimize();const m=d.children.head instanceof Gr?null:d.children.head;o.moveChildren(d,m),o.remove()}this.optimize()}enable(){let i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",i?"true":"false")}formatAt(i,s,o,u){super.formatAt(i,s,o,u),this.optimize()}insertAt(i,s,o){if(i>=this.length())if(o==null||this.scroll.query(s,Nt.BLOCK)==null){const u=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(u),o==null&&s.endsWith(`
`)?u.insertAt(0,s.slice(0,-1),o):u.insertAt(0,s,o)}else{const u=this.scroll.create(s,o);this.appendChild(u)}else super.insertAt(i,s,o);this.optimize()}insertBefore(i,s){if(i.statics.scope===Nt.INLINE_BLOT){const o=this.scroll.create(this.statics.defaultChild.blotName);o.appendChild(i),super.insertBefore(o,s)}else super.insertBefore(i,s)}insertContents(i,s){const o=this.deltaToRenderBlocks(s.concat(new St().insert(`
`))),u=o.pop();if(u==null)return;this.batchStart();const d=o.shift();if(d){const N=d.type==="block"&&(d.delta.length()===0||!this.descendant(sr,i)[0]&&i<this.length()),q=d.type==="block"?d.delta:new St().insert({[d.key]:d.value});wa(this,i,q);const U=d.type==="block"?1:0,nt=i+q.length()+U;N&&this.insertAt(nt-1,`
`);const yt=ir(this.line(i)[0]),Et=St.AttributeMap.diff(yt,d.attributes)||{};Object.keys(Et).forEach(Lt=>{this.formatAt(nt-1,1,Lt,Et[Lt])}),i=nt}let[m,x]=this.children.find(i);o.length&&(m&&(m=m.split(x),x=0),o.forEach(N=>{if(N.type==="block")wa(this.createBlock(N.attributes,m||void 0),0,N.delta);else{const q=this.create(N.key,N.value);this.insertBefore(q,m||void 0),Object.keys(N.attributes).forEach(U=>{q.format(U,N.attributes[U])})}})),u.type==="block"&&u.delta.length()&&wa(this,m?m.offset(m.scroll)+x:this.length(),u.delta),this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(i){const s=this.path(i).pop();if(!s)return[null,-1];const[o,u]=s;return o instanceof Ee?[o,u]:[null,-1]}line(i){return i===this.length()?this.line(i-1):this.descendant(Ih,i)}lines(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const o=(u,d,m)=>{let x=[],N=m;return u.children.forEachAt(d,m,(q,U,nt)=>{Ih(q)?x.push(q):q instanceof _s&&(x=x.concat(o(q,U,N))),N-=nt}),x};return o(this,i,s)}optimize(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(i,s),i.length>0&&this.emitter.emit(Mt.events.SCROLL_OPTIMIZE,i,s))}path(i){return super.path(i).slice(1)}remove(){}update(i){if(this.batch)return void(Array.isArray(i)&&(this.batch=this.batch.concat(i)));let s=Mt.sources.USER;typeof i=="string"&&(s=i),Array.isArray(i)||(i=this.observer.takeRecords()),(i=i.filter(o=>{let{target:u}=o;const d=this.find(u,!0);return d&&!jh(d)})).length>0&&this.emitter.emit(Mt.events.SCROLL_BEFORE_UPDATE,s,i),super.update(i.concat([])),i.length>0&&this.emitter.emit(Mt.events.SCROLL_UPDATE,s,i)}updateEmbedAt(i,s,o){const[u]=this.descendant(d=>d instanceof sr,i);u&&u.statics.blotName===s&&jh(u)&&u.updateContent(o)}handleDragStart(i){i.preventDefault()}deltaToRenderBlocks(i){const s=[];let o=new St;return i.forEach(u=>{const d=u==null?void 0:u.insert;if(d)if(typeof d=="string"){const m=d.split(`
`);m.slice(0,-1).forEach(N=>{o.insert(N,u.attributes),s.push({type:"block",delta:o,attributes:u.attributes??{}}),o=new St});const x=m[m.length-1];x&&o.insert(x,u.attributes)}else{const m=Object.keys(d)[0];if(!m)return;this.query(m,Nt.INLINE)?o.push(u):(o.length()&&s.push({type:"block",delta:o,attributes:{}}),o=new St,s.push({type:"blockEmbed",key:m,value:d[m],attributes:u.attributes??{}}))}}),o.length()&&s.push({type:"block",delta:o,attributes:{}}),s}createBlock(i,s){let o;const u={};Object.entries(i).forEach(x=>{let[N,q]=x;this.query(N,Nt.BLOCK&Nt.BLOT)!=null?o=N:u[N]=q});const d=this.create(o||this.statics.defaultChild.blotName,o?i[o]:void 0);this.insertBefore(d,s||void 0);const m=d.length();return Object.entries(u).forEach(x=>{let[N,q]=x;d.formatAt(0,m,N,q)}),d}},z(Cs,"blotName","scroll"),z(Cs,"className","ql-editor"),z(Cs,"tagName","DIV"),z(Cs,"defaultChild",Ln),z(Cs,"allowedChildren",[Ln,sr,Ts]),Cs),xa={scope:Nt.BLOCK,whitelist:["right","center","justify"]},V1=new pn("align","align",xa),Bh=new _("align","ql-align",xa),Mh=new K("align","text-align",xa);class Ph extends K{value(s){let o=super.value(s);return o.startsWith("rgb(")?(o=o.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${o.split(",").map(u=>`00${parseInt(u,10).toString(16)}`.slice(-2)).join("")}`):o}}const K1=new _("color","ql-color",{scope:Nt.INLINE}),Ea=new Ph("color","color",{scope:Nt.INLINE}),W1=new _("background","ql-bg",{scope:Nt.INLINE}),Aa=new Ph("background","background-color",{scope:Nt.INLINE});class Os extends Ts{static create(s){const o=super.create(s);return o.setAttribute("spellcheck","false"),o}code(s,o){return this.children.map(u=>u.length()<=1?"":u.domNode.innerText).join(`
`).slice(s,s+o)}html(s,o){return`<pre>
${So(this.code(s,o))}
</pre>`}}class kn extends Ln{static register(){st.register(Os)}}z(kn,"TAB","  ");class _a extends is{}_a.blotName="code",_a.tagName="CODE",kn.blotName="code-block",kn.className="ql-code-block",kn.tagName="DIV",Os.blotName="code-block-container",Os.className="ql-code-block-container",Os.tagName="DIV",Os.allowedChildren=[kn],kn.allowedChildren=[yr,Gr,To],kn.requiredContainer=Os;const Na={scope:Nt.BLOCK,whitelist:["rtl"]},Dh=new pn("direction","dir",Na),$h=new _("direction","ql-direction",Na),Uh=new K("direction","direction",Na),Fh={scope:Nt.INLINE,whitelist:["serif","monospace"]},Hh=new _("font","ql-font",Fh),zh=new class extends K{value(i){return super.value(i).replace(/["']/g,"")}}("font","font-family",Fh),Vh=new _("size","ql-size",{scope:Nt.INLINE,whitelist:["small","large","huge"]}),Kh=new K("size","font-size",{scope:Nt.INLINE,whitelist:["10px","18px","32px"]}),G1=Ss("quill:keyboard"),Z1=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class ko extends vr{static match(s,o){return!["altKey","ctrlKey","metaKey","shiftKey"].some(u=>!!o[u]!==s[u]&&o[u]!==null)&&(o.key===s.key||o.key===s.which)}constructor(s,o){super(s,o),this.bindings={},Object.keys(this.options.bindings).forEach(u=>{this.options.bindings[u]&&this.addBinding(this.options.bindings[u])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const d=function(m){if(typeof m=="string"||typeof m=="number")m={key:m};else{if(typeof m!="object")return null;m=Qs(m)}return m.shortKey&&(m[Z1]=m.shortKey,delete m.shortKey),m}(s);if(d==null)return void G1.warn("Attempted to add invalid keyboard binding",d);typeof o=="function"&&(o={handler:o}),typeof u=="function"&&(u={handler:u}),(Array.isArray(d.key)?d.key:[d.key]).forEach(m=>{const x={...d,key:m,...o,...u};this.bindings[x.key]=this.bindings[x.key]||[],this.bindings[x.key].push(x)})}listen(){this.quill.root.addEventListener("keydown",s=>{if(s.defaultPrevented||s.isComposing||s.keyCode===229&&(s.key==="Enter"||s.key==="Backspace"))return;const o=(this.bindings[s.key]||[]).concat(this.bindings[s.which]||[]).filter(Ct=>ko.match(s,Ct));if(o.length===0)return;const u=st.find(s.target,!0);if(u&&u.scroll!==this.quill.scroll)return;const d=this.quill.getSelection();if(d==null||!this.quill.hasFocus())return;const[m,x]=this.quill.getLine(d.index),[N,q]=this.quill.getLeaf(d.index),[U,nt]=d.length===0?[N,q]:this.quill.getLeaf(d.index+d.length),yt=N instanceof Ao?N.value().slice(0,q):"",Et=U instanceof Ao?U.value().slice(nt):"",Lt={collapsed:d.length===0,empty:d.length===0&&m.length()<=1,format:this.quill.getFormat(d),line:m,offset:x,prefix:yt,suffix:Et,event:s};o.some(Ct=>{if(Ct.collapsed!=null&&Ct.collapsed!==Lt.collapsed||Ct.empty!=null&&Ct.empty!==Lt.empty||Ct.offset!=null&&Ct.offset!==Lt.offset)return!1;if(Array.isArray(Ct.format)){if(Ct.format.every(ne=>Lt.format[ne]==null))return!1}else if(typeof Ct.format=="object"&&!Object.keys(Ct.format).every(ne=>Ct.format[ne]===!0?Lt.format[ne]!=null:Ct.format[ne]===!1?Lt.format[ne]==null:ia(Ct.format[ne],Lt.format[ne])))return!1;return!(Ct.prefix!=null&&!Ct.prefix.test(Lt.prefix))&&!(Ct.suffix!=null&&!Ct.suffix.test(Lt.suffix))&&Ct.handler.call(this,d,Lt,Ct)!==!0})&&s.preventDefault()})}handleBackspace(s,o){const u=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(o.prefix)?2:1;if(s.index===0||this.quill.getLength()<=1)return;let d={};const[m]=this.quill.getLine(s.index);let x=new St().retain(s.index-u).delete(u);if(o.offset===0){const[N]=this.quill.getLine(s.index-1);if(N&&!(N.statics.blotName==="block"&&N.length()<=1)){const q=m.formats(),U=this.quill.getFormat(s.index-1,1);if(d=St.AttributeMap.diff(q,U)||{},Object.keys(d).length>0){const nt=new St().retain(s.index+m.length()-2).retain(1,d);x=x.compose(nt)}}}this.quill.updateContents(x,st.sources.USER),this.quill.focus()}handleDelete(s,o){const u=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(o.suffix)?2:1;if(s.index>=this.quill.getLength()-u)return;let d={};const[m]=this.quill.getLine(s.index);let x=new St().retain(s.index).delete(u);if(o.offset>=m.length()-1){const[N]=this.quill.getLine(s.index+1);if(N){const q=m.formats(),U=this.quill.getFormat(s.index,1);d=St.AttributeMap.diff(q,U)||{},Object.keys(d).length>0&&(x=x.retain(N.length()-1).retain(1,d))}}this.quill.updateContents(x,st.sources.USER),this.quill.focus()}handleDeleteRange(s){Ta({range:s,quill:this.quill}),this.quill.focus()}handleEnter(s,o){const u=Object.keys(o.format).reduce((m,x)=>(this.quill.scroll.query(x,Nt.BLOCK)&&!Array.isArray(o.format[x])&&(m[x]=o.format[x]),m),{}),d=new St().retain(s.index).delete(s.length).insert(`
`,u);this.quill.updateContents(d,st.sources.USER),this.quill.setSelection(s.index+1,st.sources.SILENT),this.quill.focus()}}const X1={bindings:{bold:Sa("bold"),italic:Sa("italic"),underline:Sa("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(i,s){return!(!s.collapsed||s.offset===0)||(this.quill.format("indent","+1",st.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(i,s){return!(!s.collapsed||s.offset===0)||(this.quill.format("indent","-1",st.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(i,s){s.format.indent!=null?this.quill.format("indent","-1",st.sources.USER):s.format.list!=null&&this.quill.format("list",!1,st.sources.USER)}},"indent code-block":Wh(!0),"outdent code-block":Wh(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(i){this.quill.deleteText(i.index-1,1,st.sources.USER)}},tab:{key:"Tab",handler(i,s){if(s.format.table)return!0;this.quill.history.cutoff();const o=new St().retain(i.index).delete(i.length).insert("	");return this.quill.updateContents(o,st.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(i.index+1,st.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,st.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(i,s){const o={list:!1};s.format.indent&&(o.indent=!1),this.quill.formatLine(i.index,i.length,o,st.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(i){const[s,o]=this.quill.getLine(i.index),u={...s.formats(),list:"checked"},d=new St().retain(i.index).insert(`
`,u).retain(s.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(d,st.sources.USER),this.quill.setSelection(i.index+1,st.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(i,s){const[o,u]=this.quill.getLine(i.index),d=new St().retain(i.index).insert(`
`,s.format).retain(o.length()-u-1).retain(1,{header:null});this.quill.updateContents(d,st.sources.USER),this.quill.setSelection(i.index+1,st.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(i){const s=this.quill.getModule("table");if(s){const[o,u,d,m]=s.getTable(i),x=function(q,U,nt,yt){return U.prev==null&&U.next==null?nt.prev==null&&nt.next==null?yt===0?-1:1:nt.prev==null?-1:1:U.prev==null?-1:U.next==null?1:null}(0,u,d,m);if(x==null)return;let N=o.offset();if(x<0){const q=new St().retain(N).insert(`
`);this.quill.updateContents(q,st.sources.USER),this.quill.setSelection(i.index+1,i.length,st.sources.SILENT)}else if(x>0){N+=o.length();const q=new St().retain(N).insert(`
`);this.quill.updateContents(q,st.sources.USER),this.quill.setSelection(N,st.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(i,s){const{event:o,line:u}=s,d=u.offset(this.quill.scroll);o.shiftKey?this.quill.setSelection(d-1,st.sources.USER):this.quill.setSelection(d+u.length(),st.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(i,s){if(this.quill.scroll.query("list")==null)return!0;const{length:o}=s.prefix,[u,d]=this.quill.getLine(i.index);if(d>o)return!0;let m;switch(s.prefix.trim()){case"[]":case"[ ]":m="unchecked";break;case"[x]":m="checked";break;case"-":case"*":m="bullet";break;default:m="ordered"}this.quill.insertText(i.index," ",st.sources.USER),this.quill.history.cutoff();const x=new St().retain(i.index-d).delete(o+1).retain(u.length()-2-d).retain(1,{list:m});return this.quill.updateContents(x,st.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(i.index-o,st.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(i){const[s,o]=this.quill.getLine(i.index);let u=2,d=s;for(;d!=null&&d.length()<=1&&d.formats()["code-block"];)if(d=d.prev,u-=1,u<=0){const m=new St().retain(i.index+s.length()-o-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(m,st.sources.USER),this.quill.setSelection(i.index-1,st.sources.SILENT),!1}return!0}},"embed left":Ro("ArrowLeft",!1),"embed left shift":Ro("ArrowLeft",!0),"embed right":Ro("ArrowRight",!1),"embed right shift":Ro("ArrowRight",!0),"table down":Gh(!1),"table up":Gh(!0)}};function Wh(i){return{key:"Tab",shiftKey:!i,format:{"code-block":!0},handler(s,o){let{event:u}=o;const d=this.quill.scroll.query("code-block"),{TAB:m}=d;if(s.length===0&&!u.shiftKey)return this.quill.insertText(s.index,m,st.sources.USER),void this.quill.setSelection(s.index+m.length,st.sources.SILENT);const x=s.length===0?this.quill.getLines(s.index,1):this.quill.getLines(s);let{index:N,length:q}=s;x.forEach((U,nt)=>{i?(U.insertAt(0,m),nt===0?N+=m.length:q+=m.length):U.domNode.textContent.startsWith(m)&&(U.deleteAt(0,m.length),nt===0?N-=m.length:q-=m.length)}),this.quill.update(st.sources.USER),this.quill.setSelection(N,q,st.sources.SILENT)}}}function Ro(i,s){return{key:i,shiftKey:s,altKey:null,[i==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(u){let{index:d}=u;i==="ArrowRight"&&(d+=u.length+1);const[m]=this.quill.getLeaf(d);return!(m instanceof Nn)||(i==="ArrowLeft"?s?this.quill.setSelection(u.index-1,u.length+1,st.sources.USER):this.quill.setSelection(u.index-1,st.sources.USER):s?this.quill.setSelection(u.index,u.length+1,st.sources.USER):this.quill.setSelection(u.index+u.length+1,st.sources.USER),!1)}}}function Sa(i){return{key:i[0],shortKey:!0,handler(s,o){this.quill.format(i,!o.format[i],st.sources.USER)}}}function Gh(i){return{key:i?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(s,o){const u=i?"prev":"next",d=o.line,m=d.parent[u];if(m!=null){if(m.statics.blotName==="table-row"){let x=m.children.head,N=d;for(;N.prev!=null;)N=N.prev,x=x.next;const q=x.offset(this.quill.scroll)+Math.min(o.offset,x.length()-1);this.quill.setSelection(q,0,st.sources.USER)}}else{const x=d.table()[u];x!=null&&(i?this.quill.setSelection(x.offset(this.quill.scroll)+x.length()-1,0,st.sources.USER):this.quill.setSelection(x.offset(this.quill.scroll),0,st.sources.USER))}return!1}}}function Ta(i){let{quill:s,range:o}=i;const u=s.getLines(o);let d={};if(u.length>1){const m=u[0].formats(),x=u[u.length-1].formats();d=St.AttributeMap.diff(x,m)||{}}s.deleteText(o,st.sources.USER),Object.keys(d).length>0&&s.formatLine(o.index,1,d,st.sources.USER),s.setSelection(o.index,st.sources.SILENT)}ko.DEFAULTS=X1;const J1=/font-weight:\s*normal/,Y1=["P","OL","UL"],Zh=i=>i&&Y1.includes(i.tagName),Q1=/\bmso-list:[^;]*ignore/i,t0=/\bmso-list:[^;]*\bl(\d+)/i,e0=/\bmso-list:[^;]*\blevel(\d+)/i,n0=i=>{var x,N;const s=Array.from(i.querySelectorAll("[style*=mso-list]")),o=[],u=[];s.forEach(q=>{(q.getAttribute("style")||"").match(Q1)?o.push(q):u.push(q)}),o.forEach(q=>{var U;return(U=q.parentNode)==null?void 0:U.removeChild(q)});const d=i.documentElement.innerHTML,m=u.map(q=>((U,nt)=>{const yt=U.getAttribute("style"),Et=yt==null?void 0:yt.match(t0);if(!Et)return null;const Lt=Number(Et[1]),Ct=yt==null?void 0:yt.match(e0),ne=Ct?Number(Ct[1]):1,$e=new RegExp(`@list l${Lt}:level${ne}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),tn=nt.match($e);return{id:Lt,indent:ne,type:tn&&tn[1]==="bullet"?"bullet":"ordered",element:U}})(q,d)).filter(q=>q);for(;m.length;){const q=[];let U=m.shift();for(;U;)q.push(U),U=m.length&&((x=m[0])==null?void 0:x.element)===U.element.nextElementSibling&&m[0].id===U.id?m.shift():null;const nt=document.createElement("ul");q.forEach(Lt=>{const Ct=document.createElement("li");Ct.setAttribute("data-list",Lt.type),Lt.indent>1&&Ct.setAttribute("class","ql-indent-"+(Lt.indent-1)),Ct.innerHTML=Lt.element.innerHTML,nt.appendChild(Ct)});const yt=(N=q[0])==null?void 0:N.element,{parentNode:Et}=yt??{};yt&&(Et==null||Et.replaceChild(nt,yt)),q.slice(1).forEach(Lt=>{let{element:Ct}=Lt;Et==null||Et.removeChild(Ct)})}},r0=[function(i){i.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&n0(i)},function(i){i.querySelector('[id^="docs-internal-guid-"]')&&((s=>{Array.from(s.querySelectorAll('b[style*="font-weight"]')).filter(o=>{var u;return(u=o.getAttribute("style"))==null?void 0:u.match(J1)}).forEach(o=>{var d;const u=s.createDocumentFragment();u.append(...o.childNodes),(d=o.parentNode)==null||d.replaceChild(u,o)})})(i),(s=>{Array.from(s.querySelectorAll("br")).filter(o=>Zh(o.previousElementSibling)&&Zh(o.nextElementSibling)).forEach(o=>{var u;(u=o.parentNode)==null||u.removeChild(o)})})(i))}],s0=i=>{i.documentElement&&r0.forEach(s=>{s(i)})},i0=Ss("quill:clipboard"),o0=[[Node.TEXT_NODE,function(i,s,o){var d;let u=i.data;if(((d=i.parentElement)==null?void 0:d.tagName)==="O:P")return s.insert(u.trim());if(!Jh(i)){if(u.trim().length===0&&u.includes(`
`)&&!function(x,N){return x.previousElementSibling&&x.nextElementSibling&&!ls(x.previousElementSibling,N)&&!ls(x.nextElementSibling,N)}(i,o))return s;const m=(x,N)=>{const q=N.replace(/[^\u00a0]/g,"");return q.length<1&&x?" ":q};u=u.replace(/\r\n/g," ").replace(/\n/g," "),u=u.replace(/\s\s+/g,m.bind(m,!0)),(i.previousSibling==null&&i.parentElement!=null&&ls(i.parentElement,o)||i.previousSibling instanceof Element&&ls(i.previousSibling,o))&&(u=u.replace(/^\s+/,m.bind(m,!1))),(i.nextSibling==null&&i.parentElement!=null&&ls(i.parentElement,o)||i.nextSibling instanceof Element&&ls(i.nextSibling,o))&&(u=u.replace(/\s+$/,m.bind(m,!1)))}return s.insert(u)}],[Node.TEXT_NODE,Yh],["br",function(i,s){return Oi(s,`
`)||s.insert(`
`),s}],[Node.ELEMENT_NODE,Yh],[Node.ELEMENT_NODE,function(i,s,o){const u=o.query(i);if(u==null)return s;if(u.prototype instanceof Nn){const d={},m=u.value(i);if(m!=null)return d[u.blotName]=m,new St().insert(d,u.formats(i,o))}else if(u.prototype instanceof Dn&&!Oi(s,`
`)&&s.insert(`
`),"blotName"in u&&"formats"in u&&typeof u.formats=="function")return Ls(s,u.blotName,u.formats(i,o),o);return s}],[Node.ELEMENT_NODE,function(i,s,o){const u=pn.keys(i),d=_.keys(i),m=K.keys(i),x={};return u.concat(d).concat(m).forEach(N=>{let q=o.query(N,Nt.ATTRIBUTE);q!=null&&(x[q.attrName]=q.value(i),x[q.attrName])||(q=l0[N],q==null||q.attrName!==N&&q.keyName!==N||(x[q.attrName]=q.value(i)||void 0),q=Xh[N],q==null||q.attrName!==N&&q.keyName!==N||(q=Xh[N],x[q.attrName]=q.value(i)||void 0))}),Object.entries(x).reduce((N,q)=>{let[U,nt]=q;return Ls(N,U,nt,o)},s)}],[Node.ELEMENT_NODE,function(i,s,o){var m;const u={},d=i.style||{};return d.fontStyle==="italic"&&(u.italic=!0),d.textDecoration==="underline"&&(u.underline=!0),d.textDecoration==="line-through"&&(u.strike=!0),((m=d.fontWeight)!=null&&m.startsWith("bold")||parseInt(d.fontWeight,10)>=700)&&(u.bold=!0),s=Object.entries(u).reduce((x,N)=>{let[q,U]=N;return Ls(x,q,U,o)},s),parseFloat(d.textIndent||0)>0?new St().insert("	").concat(s):s}],["li",function(i,s,o){const u=o.query(i);if(u==null||u.blotName!=="list"||!Oi(s,`
`))return s;let d=-1,m=i.parentNode;for(;m!=null;)["OL","UL"].includes(m.tagName)&&(d+=1),m=m.parentNode;return d<=0?s:s.reduce((x,N)=>N.insert?N.attributes&&typeof N.attributes.indent=="number"?x.push(N):x.insert(N.insert,{indent:d,...N.attributes||{}}):x,new St)}],["ol, ul",function(i,s,o){const u=i;let d=u.tagName==="OL"?"ordered":"bullet";const m=u.getAttribute("data-checked");return m&&(d=m==="true"?"checked":"unchecked"),Ls(s,"list",d,o)}],["pre",function(i,s,o){const u=o.query("code-block"),d=!u||!("formats"in u)||typeof u.formats!="function"||u.formats(i,o);return Ls(s,"code-block",d,o)}],["tr",function(i,s,o){var d,m;const u=((d=i.parentElement)==null?void 0:d.tagName)==="TABLE"?i.parentElement:(m=i.parentElement)==null?void 0:m.parentElement;return u!=null?Ls(s,"table",Array.from(u.querySelectorAll("tr")).indexOf(i)+1,o):s}],["b",La("bold")],["i",La("italic")],["strike",La("strike")],["style",function(){return new St}]],l0=[V1,Dh].reduce((i,s)=>(i[s.keyName]=s,i),{}),Xh=[Mh,Aa,Ea,Uh,zh,Kh].reduce((i,s)=>(i[s.keyName]=s,i),{});function Ls(i,s,o,u){return u.query(s)?i.reduce((d,m)=>{if(!m.insert)return d;if(m.attributes&&m.attributes[s])return d.push(m);const x=o?{[s]:o}:{};return d.insert(m.insert,{...x,...m.attributes})},new St):i}function Oi(i,s){let o="";for(let u=i.ops.length-1;u>=0&&o.length<s.length;--u){const d=i.ops[u];if(typeof d.insert!="string")break;o=d.insert+o}return o.slice(-1*s.length)===s}function ls(i,s){if(!(i instanceof Element))return!1;const o=s.query(i);return!(o&&o.prototype instanceof Nn)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(i.tagName.toLowerCase())}const Io=new WeakMap;function Jh(i){return i!=null&&(Io.has(i)||(i.tagName==="PRE"?Io.set(i,!0):Io.set(i,Jh(i.parentNode))),Io.get(i))}function Oa(i,s,o,u,d){return s.nodeType===s.TEXT_NODE?u.reduce((m,x)=>x(s,m,i),new St):s.nodeType===s.ELEMENT_NODE?Array.from(s.childNodes||[]).reduce((m,x)=>{let N=Oa(i,x,o,u,d);return x.nodeType===s.ELEMENT_NODE&&(N=o.reduce((q,U)=>U(x,q,i),N),N=(d.get(x)||[]).reduce((q,U)=>U(x,q,i),N)),m.concat(N)},new St):new St}function La(i){return(s,o,u)=>Ls(o,i,!0,u)}function Yh(i,s,o){if(!Oi(s,`
`)){if(ls(i,o)&&(i.childNodes.length>0||i instanceof HTMLParagraphElement))return s.insert(`
`);if(s.length()>0&&i.nextSibling){let u=i.nextSibling;for(;u!=null;){if(ls(u,o))return s.insert(`
`);const d=o.query(u);if(d&&d.prototype instanceof sr)return s.insert(`
`);u=u.firstChild}}}return s}function Qh(i,s){let o=s;for(let u=i.length-1;u>=0;u-=1){const d=i[u];i[u]={delta:o.transform(d.delta,!0),range:d.range&&Ca(d.range,o)},o=d.delta.transform(o),i[u].delta.length()===0&&i.splice(u,1)}}function Ca(i,s){if(!i)return i;const o=s.transformPosition(i.index);return{index:o,length:s.transformPosition(i.index+i.length)-o}}class tf extends vr{constructor(s,o){super(s,o),s.root.addEventListener("drop",u=>{var x;u.preventDefault();let d=null;if(document.caretRangeFromPoint)d=document.caretRangeFromPoint(u.clientX,u.clientY);else if(document.caretPositionFromPoint){const N=document.caretPositionFromPoint(u.clientX,u.clientY);d=document.createRange(),d.setStart(N.offsetNode,N.offset),d.setEnd(N.offsetNode,N.offset)}const m=d&&s.selection.normalizeNative(d);if(m){const N=s.selection.normalizedToRange(m);(x=u.dataTransfer)!=null&&x.files&&this.upload(N,u.dataTransfer.files)}})}upload(s,o){const u=[];Array.from(o).forEach(d=>{var m;d&&((m=this.options.mimetypes)!=null&&m.includes(d.type))&&u.push(d)}),u.length>0&&this.options.handler.call(this,s,u)}}tf.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(i,s){if(!this.quill.scroll.query("image"))return;const o=s.map(u=>new Promise(d=>{const m=new FileReader;m.onload=()=>{d(m.result)},m.readAsDataURL(u)}));Promise.all(o).then(u=>{const d=u.reduce((m,x)=>m.insert({image:x}),new St().retain(i.index).delete(i.length));this.quill.updateContents(d,Mt.sources.USER),this.quill.setSelection(i.index+u.length,Mt.sources.SILENT)})}};const a0=tf,c0=["insertText","insertReplacementText"],u0=class extends vr{constructor(i,s){super(i,s),i.root.addEventListener("beforeinput",o=>{this.handleBeforeInput(o)}),/Android/i.test(navigator.userAgent)||i.on(st.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(i){Ta({range:i,quill:this.quill})}replaceText(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(i.length===0)return!1;if(s){const o=this.quill.getFormat(i.index,1);this.deleteRange(i),this.quill.updateContents(new St().retain(i.index).insert(s,o),st.sources.USER)}else this.deleteRange(i);return this.quill.setSelection(i.index+s.length,0,st.sources.SILENT),!0}handleBeforeInput(i){if(this.quill.composition.isComposing||i.defaultPrevented||!c0.includes(i.inputType))return;const s=i.getTargetRanges?i.getTargetRanges()[0]:null;if(!s||s.collapsed===!0)return;const o=function(m){var x;return typeof m.data=="string"?m.data:(x=m.dataTransfer)!=null&&x.types.includes("text/plain")?m.dataTransfer.getData("text/plain"):null}(i);if(o==null)return;const u=this.quill.selection.normalizeNative(s),d=u?this.quill.selection.normalizedToRange(u):null;d&&this.replaceText(d,o)&&i.preventDefault()}handleCompositionStart(){const i=this.quill.getSelection();i&&this.replaceText(i)}},h0=/Mac/i.test(navigator.platform),f0=class extends vr{constructor(s,o){super(s,o);z(this,"isListening",!1);z(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(s,o){let{line:u,event:d}=o;if(!(u instanceof Fe&&u.uiNode))return!0;const m=getComputedStyle(u.domNode).direction==="rtl";return!!(m&&d.key!=="ArrowRight"||!m&&d.key!=="ArrowLeft")||(this.quill.setSelection(s.index-1,s.length+(d.shiftKey?1:0),st.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",s=>{!s.defaultPrevented&&(o=>o.key==="ArrowLeft"||o.key==="ArrowRight"||o.key==="ArrowUp"||o.key==="ArrowDown"||o.key==="Home"||!(!h0||o.key!=="a"||o.ctrlKey!==!0))(s)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,!this.isListening&&(this.isListening=!0,document.addEventListener("selectionchange",()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()},{once:!0}))}handleSelectionChange(){const s=document.getSelection();if(!s)return;const o=s.getRangeAt(0);if(o.collapsed!==!0||o.startOffset!==0)return;const u=this.quill.scroll.find(o.startContainer);if(!(u instanceof Fe&&u.uiNode))return;const d=document.createRange();d.setStartAfter(u.uiNode),d.setEndAfter(u.uiNode),s.removeAllRanges(),s.addRange(d)}};st.register({"blots/block":Ln,"blots/block/embed":sr,"blots/break":Gr,"blots/container":Ts,"blots/cursor":To,"blots/embed":ba,"blots/inline":is,"blots/scroll":z1,"blots/text":yr,"modules/clipboard":(Ba=class extends vr{constructor(i,s){super(i,s),this.quill.root.addEventListener("copy",o=>this.onCaptureCopy(o,!1)),this.quill.root.addEventListener("cut",o=>this.onCaptureCopy(o,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],o0.concat(this.options.matchers??[]).forEach(o=>{let[u,d]=o;this.addMatcher(u,d)})}addMatcher(i,s){this.matchers.push([i,s])}convert(i){let{html:s,text:o}=i,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(u[kn.blotName])return new St().insert(o||"",{[kn.blotName]:u[kn.blotName]});if(!s)return new St().insert(o||"",u);const d=this.convertHTML(s);return Oi(d,`
`)&&(d.ops[d.ops.length-1].attributes==null||u.table)?d.compose(new St().retain(d.length()-1).delete(1)):d}normalizeHTML(i){s0(i)}convertHTML(i){const s=new DOMParser().parseFromString(i,"text/html");this.normalizeHTML(s);const o=s.body,u=new WeakMap,[d,m]=this.prepareMatching(o,u);return Oa(this.quill.scroll,o,d,m,u)}dangerouslyPasteHTML(i,s){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:st.sources.API;if(typeof i=="string"){const u=this.convert({html:i,text:""});this.quill.setContents(u,s),this.quill.setSelection(0,st.sources.SILENT)}else{const u=this.convert({html:s,text:""});this.quill.updateContents(new St().retain(i).concat(u),o),this.quill.setSelection(i+u.length(),st.sources.SILENT)}}onCaptureCopy(i){var m,x;let s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(i.defaultPrevented)return;i.preventDefault();const[o]=this.quill.selection.getRange();if(o==null)return;const{html:u,text:d}=this.onCopy(o,s);(m=i.clipboardData)==null||m.setData("text/plain",d),(x=i.clipboardData)==null||x.setData("text/html",u),s&&Ta({range:o,quill:this.quill})}normalizeURIList(i){return i.split(/\r?\n/).filter(s=>s[0]!=="#").join(`
`)}onCapturePaste(i){var m,x,N,q,U;if(i.defaultPrevented||!this.quill.isEnabled())return;i.preventDefault();const s=this.quill.getSelection(!0);if(s==null)return;const o=(m=i.clipboardData)==null?void 0:m.getData("text/html");let u=(x=i.clipboardData)==null?void 0:x.getData("text/plain");if(!o&&!u){const nt=(N=i.clipboardData)==null?void 0:N.getData("text/uri-list");nt&&(u=this.normalizeURIList(nt))}const d=Array.from(((q=i.clipboardData)==null?void 0:q.files)||[]);if(!o&&d.length>0)this.quill.uploader.upload(s,d);else{if(o&&d.length>0){const nt=new DOMParser().parseFromString(o,"text/html");if(nt.body.childElementCount===1&&((U=nt.body.firstElementChild)==null?void 0:U.tagName)==="IMG")return void this.quill.uploader.upload(s,d)}this.onPaste(s,{html:o,text:u})}}onCopy(i){const s=this.quill.getText(i);return{html:this.quill.getSemanticHTML(i),text:s}}onPaste(i,s){let{text:o,html:u}=s;const d=this.quill.getFormat(i.index),m=this.convert({text:o,html:u},d);i0.log("onPaste",m,{text:o,html:u});const x=new St().retain(i.index).delete(i.length).concat(m);this.quill.updateContents(x,st.sources.USER),this.quill.setSelection(x.length()-i.length,st.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(i,s){const o=[],u=[];return this.matchers.forEach(d=>{const[m,x]=d;switch(m){case Node.TEXT_NODE:u.push(x);break;case Node.ELEMENT_NODE:o.push(x);break;default:Array.from(i.querySelectorAll(m)).forEach(N=>{if(s.has(N)){const q=s.get(N);q==null||q.push(x)}else s.set(N,[x])})}}),[o,u]}},z(Ba,"DEFAULTS",{matchers:[]}),Ba),"modules/history":(Ma=class extends vr{constructor(s,o){super(s,o);z(this,"lastRecorded",0);z(this,"ignoreChange",!1);z(this,"stack",{undo:[],redo:[]});z(this,"currentRange",null);this.quill.on(st.events.EDITOR_CHANGE,(u,d,m,x)=>{u===st.events.SELECTION_CHANGE?d&&x!==st.sources.SILENT&&(this.currentRange=d):u===st.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&x!==st.sources.USER?this.transform(d):this.record(d,m)),this.currentRange=Ca(this.currentRange,d))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",u=>{u.inputType==="historyUndo"?(this.undo(),u.preventDefault()):u.inputType==="historyRedo"&&(this.redo(),u.preventDefault())})}change(s,o){if(this.stack[s].length===0)return;const u=this.stack[s].pop();if(!u)return;const d=this.quill.getContents(),m=u.delta.invert(d);this.stack[o].push({delta:m,range:Ca(u.range,m)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(u.delta,st.sources.USER),this.ignoreChange=!1,this.restoreSelection(u)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(s,o){if(s.ops.length===0)return;this.stack.redo=[];let u=s.invert(o),d=this.currentRange;const m=Date.now();if(this.lastRecorded+this.options.delay>m&&this.stack.undo.length>0){const x=this.stack.undo.pop();x&&(u=u.compose(x.delta),d=x.range)}else this.lastRecorded=m;u.length()!==0&&(this.stack.undo.push({delta:u,range:d}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(s){Qh(this.stack.undo,s),Qh(this.stack.redo,s)}undo(){this.change("undo","redo")}restoreSelection(s){if(s.range)this.quill.setSelection(s.range,st.sources.USER);else{const o=function(u,d){const m=d.reduce((N,q)=>N+(q.delete||0),0);let x=d.length()-m;return function(N,q){const U=q.ops[q.ops.length-1];return U==null?!1:U.insert!=null?typeof U.insert=="string"&&U.insert.endsWith(`
`):U.attributes!=null?Object.keys(U.attributes).some(nt=>N.query(nt,Nt.BLOCK)!=null):!1}(u,d)&&(x-=1),x}(this.quill.scroll,s.delta);this.quill.setSelection(o,st.sources.USER)}}},z(Ma,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1}),Ma),"modules/keyboard":ko,"modules/uploader":a0,"modules/input":u0,"modules/uiNode":f0});const qa=st,d0=new class extends _{add(i,s){let o=0;if(s==="+1"||s==="-1"){const u=this.value(i)||0;o=s==="+1"?u+1:u-1}else typeof s=="number"&&(o=s);return o===0?(this.remove(i),!0):super.add(i,o.toString())}canAdd(i,s){return super.canAdd(i,s)||super.canAdd(i,parseInt(s,10))}value(i){return parseInt(super.value(i),10)||void 0}}("indent","ql-indent",{scope:Nt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),p0=d0,g0=(Mo=class extends Ln{},z(Mo,"blotName","blockquote"),z(Mo,"tagName","blockquote"),Mo),m0=(Po=class extends Ln{static formats(i){return this.tagName.indexOf(i.tagName)+1}},z(Po,"blotName","header"),z(Po,"tagName",["H1","H2","H3","H4","H5","H6"]),Po);class Li extends Ts{}Li.blotName="list-container",Li.tagName="OL";class Ci extends Ln{static create(s){const o=super.create();return o.setAttribute("data-list",s),o}static formats(s){return s.getAttribute("data-list")||void 0}static register(){st.register(Li)}constructor(s,o){super(s,o);const u=o.ownerDocument.createElement("span"),d=m=>{if(!s.isEnabled())return;const x=this.statics.formats(o,s);x==="checked"?(this.format("list","unchecked"),m.preventDefault()):x==="unchecked"&&(this.format("list","checked"),m.preventDefault())};u.addEventListener("mousedown",d),u.addEventListener("touchstart",d),this.attachUI(u)}format(s,o){s===this.statics.blotName&&o?this.domNode.setAttribute("data-list",o):super.format(s,o)}}Ci.blotName="list",Ci.tagName="LI",Li.allowedChildren=[Ci],Ci.requiredContainer=Li;const ka=(Do=class extends is{static create(){return super.create()}static formats(){return!0}optimize(i){super.optimize(i),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}},z(Do,"blotName","bold"),z(Do,"tagName",["STRONG","B"]),Do),b0=($o=class extends ka{},z($o,"blotName","italic"),z($o,"tagName",["EM","I"]),$o);class as extends is{static create(s){const o=super.create(s);return o.setAttribute("href",this.sanitize(s)),o.setAttribute("rel","noopener noreferrer"),o.setAttribute("target","_blank"),o}static formats(s){return s.getAttribute("href")}static sanitize(s){return ef(s,this.PROTOCOL_WHITELIST)?s:this.SANITIZED_URL}format(s,o){s===this.statics.blotName&&o?this.domNode.setAttribute("href",this.constructor.sanitize(o)):super.format(s,o)}}z(as,"blotName","link"),z(as,"tagName","A"),z(as,"SANITIZED_URL","about:blank"),z(as,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function ef(i,s){const o=document.createElement("a");o.href=i;const u=o.href.slice(0,o.href.indexOf(":"));return s.indexOf(u)>-1}const y0=(Uo=class extends is{static create(i){return i==="super"?document.createElement("sup"):i==="sub"?document.createElement("sub"):super.create(i)}static formats(i){return i.tagName==="SUB"?"sub":i.tagName==="SUP"?"super":void 0}},z(Uo,"blotName","script"),z(Uo,"tagName",["SUB","SUP"]),Uo),v0=(Fo=class extends ka{},z(Fo,"blotName","strike"),z(Fo,"tagName",["S","STRIKE"]),Fo),w0=(Ho=class extends is{},z(Ho,"blotName","underline"),z(Ho,"tagName","U"),Ho),x0=(Mi=class extends ba{static create(i){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const s=super.create(i);return typeof i=="string"&&(window.katex.render(i,s,{throwOnError:!1,errorColor:"#f00"}),s.setAttribute("data-value",i)),s}static value(i){return i.getAttribute("data-value")}html(){const{formula:i}=this.value();return`<span>${i}</span>`}},z(Mi,"blotName","formula"),z(Mi,"className","ql-formula"),z(Mi,"tagName","SPAN"),Mi),nf=["alt","height","width"],E0=(zo=class extends Nn{static create(i){const s=super.create(i);return typeof i=="string"&&s.setAttribute("src",this.sanitize(i)),s}static formats(i){return nf.reduce((s,o)=>(i.hasAttribute(o)&&(s[o]=i.getAttribute(o)),s),{})}static match(i){return/\.(jpe?g|gif|png)$/.test(i)||/^data:image\/.+;base64/.test(i)}static sanitize(i){return ef(i,["http","https","data"])?i:"//:0"}static value(i){return i.getAttribute("src")}format(i,s){nf.indexOf(i)>-1?s?this.domNode.setAttribute(i,s):this.domNode.removeAttribute(i):super.format(i,s)}},z(zo,"blotName","image"),z(zo,"tagName","IMG"),zo),rf=["height","width"],A0=(Pi=class extends sr{static create(i){const s=super.create(i);return s.setAttribute("frameborder","0"),s.setAttribute("allowfullscreen","true"),s.setAttribute("src",this.sanitize(i)),s}static formats(i){return rf.reduce((s,o)=>(i.hasAttribute(o)&&(s[o]=i.getAttribute(o)),s),{})}static sanitize(i){return as.sanitize(i)}static value(i){return i.getAttribute("src")}format(i,s){rf.indexOf(i)>-1?s?this.domNode.setAttribute(i,s):this.domNode.removeAttribute(i):super.format(i,s)}html(){const{video:i}=this.value();return`<a href="${i}">${i}</a>`}},z(Pi,"blotName","video"),z(Pi,"className","ql-video"),z(Pi,"tagName","IFRAME"),Pi),qi=new _("code-token","hljs",{scope:Nt.INLINE});class Xr extends is{static formats(s,o){for(;s!=null&&s!==o.domNode;){if(s.classList&&s.classList.contains(kn.className))return super.formats(s,o);s=s.parentNode}}constructor(s,o,u){super(s,o,u),qi.add(this.domNode,u)}format(s,o){s!==Xr.blotName?super.format(s,o):o?qi.add(this.domNode,o):(qi.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),qi.value(this.domNode)||this.unwrap()}}Xr.blotName="code-token",Xr.className="ql-token";class or extends kn{static create(s){const o=super.create(s);return typeof s=="string"&&o.setAttribute("data-language",s),o}static formats(s){return s.getAttribute("data-language")||"plain"}static register(){}format(s,o){s===this.statics.blotName&&o?this.domNode.setAttribute("data-language",o):super.format(s,o)}replaceWith(s,o){return this.formatAt(0,this.length(),Xr.blotName,!1),super.replaceWith(s,o)}}class ki extends Os{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(s,o){s===or.blotName&&(this.forceNext=!0,this.children.forEach(u=>{u.format(s,o)}))}formatAt(s,o,u,d){u===or.blotName&&(this.forceNext=!0),super.formatAt(s,o,u,d)}highlight(s){let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.children.head==null)return;const u=`${Array.from(this.domNode.childNodes).filter(m=>m!==this.uiNode).map(m=>m.textContent).join(`
`)}
`,d=or.formats(this.children.head.domNode);if(o||this.forceNext||this.cachedText!==u){if(u.trim().length>0||this.cachedText==null){const m=this.children.reduce((N,q)=>N.concat(Sh(q,!1)),new St),x=s(u,d);m.diff(x).reduce((N,q)=>{let{retain:U,attributes:nt}=q;return U?(nt&&Object.keys(nt).forEach(yt=>{[or.blotName,Xr.blotName].includes(yt)&&this.formatAt(N,U,yt,nt[yt])}),N+U):N},0)}this.cachedText=u,this.forceNext=!1}}html(s,o){const[u]=this.children.find(s);return`<pre data-language="${u?or.formats(u.domNode):"plain"}">
${So(this.code(s,o))}
</pre>`}optimize(s){if(super.optimize(s),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const o=or.formats(this.children.head.domNode);o!==this.uiNode.value&&(this.uiNode.value=o)}}}ki.allowedChildren=[or],or.requiredContainer=ki,or.allowedChildren=[Xr,To,yr,Gr];class sf extends vr{static register(){st.register(Xr,!0),st.register(or,!0),st.register(ki,!0)}constructor(s,o){if(super(s,o),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((u,d)=>{let{key:m}=d;return u[m]=!0,u},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(st.events.SCROLL_BLOT_MOUNT,s=>{if(!(s instanceof ki))return;const o=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(u=>{let{key:d,label:m}=u;const x=o.ownerDocument.createElement("option");x.textContent=m,x.setAttribute("value",d),o.appendChild(x)}),o.addEventListener("change",()=>{s.format(or.blotName,o.value),this.quill.root.focus(),this.highlight(s,!0)}),s.uiNode==null&&(s.attachUI(o),s.children.head&&(o.value=or.formats(s.children.head.domNode)))})}initTimer(){let s=null;this.quill.on(st.events.SCROLL_OPTIMIZE,()=>{s&&clearTimeout(s),s=setTimeout(()=>{this.highlight(),s=null},this.options.interval)})}highlight(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(st.sources.USER);const u=this.quill.getSelection();(s==null?this.quill.scroll.descendants(ki):[s]).forEach(d=>{d.highlight(this.highlightBlot,o)}),this.quill.update(st.sources.SILENT),u!=null&&this.quill.setSelection(u,st.sources.SILENT)}highlightBlot(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(o=this.languages[o]?o:"plain",o==="plain")return So(s).split(`
`).reduce((d,m,x)=>(x!==0&&d.insert(`
`,{[kn.blotName]:o}),d.insert(m)),new St);const u=this.quill.root.ownerDocument.createElement("div");return u.classList.add(kn.className),u.innerHTML=((d,m,x)=>{if(typeof d.versionString=="string"){const N=d.versionString.split(".")[0];if(parseInt(N,10)>=11)return d.highlight(x,{language:m}).value}return d.highlight(m,x).value})(this.options.hljs,o,s),Oa(this.quill.scroll,u,[(d,m)=>{const x=qi.value(d);return x?m.compose(new St().retain(m.length(),{[Xr.blotName]:x})):m}],[(d,m)=>d.data.split(`
`).reduce((x,N,q)=>(q!==0&&x.insert(`
`,{[kn.blotName]:o}),x.insert(N)),m)],new WeakMap)}}sf.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Di=class Di extends Ln{static create(s){const o=super.create();return s?o.setAttribute("data-row",s):o.setAttribute("data-row",Ra()),o}static formats(s){if(s.hasAttribute("data-row"))return s.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(s,o){s===Di.blotName&&o?this.domNode.setAttribute("data-row",o):super.format(s,o)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};z(Di,"blotName","table"),z(Di,"tagName","TD");let xr=Di;class Jr extends Ts{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const s=this.children.head.formats(),o=this.children.tail.formats(),u=this.next.children.head.formats(),d=this.next.children.tail.formats();return s.table===o.table&&s.table===u.table&&s.table===d.table}return!1}optimize(s){super.optimize(s),this.children.forEach(o=>{if(o.next==null)return;const u=o.formats(),d=o.next.formats();if(u.table!==d.table){const m=this.splitAfter(o);m&&m.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}z(Jr,"blotName","table-row"),z(Jr,"tagName","TR");class Pr extends Ts{}z(Pr,"blotName","table-body"),z(Pr,"tagName","TBODY");class ni extends Ts{balanceCells(){const s=this.descendants(Jr),o=s.reduce((u,d)=>Math.max(d.children.length,u),0);s.forEach(u=>{new Array(o-u.children.length).fill(0).forEach(()=>{let d;u.children.head!=null&&(d=xr.formats(u.children.head.domNode));const m=this.scroll.create(xr.blotName,d);u.appendChild(m),m.optimize()})})}cells(s){return this.rows().map(o=>o.children.at(s))}deleteColumn(s){const[o]=this.descendant(Pr);o!=null&&o.children.head!=null&&o.children.forEach(u=>{const d=u.children.at(s);d!=null&&d.remove()})}insertColumn(s){const[o]=this.descendant(Pr);o!=null&&o.children.head!=null&&o.children.forEach(u=>{const d=u.children.at(s),m=xr.formats(u.children.head.domNode),x=this.scroll.create(xr.blotName,m);u.insertBefore(x,d)})}insertRow(s){const[o]=this.descendant(Pr);if(o==null||o.children.head==null)return;const u=Ra(),d=this.scroll.create(Jr.blotName);o.children.head.children.forEach(()=>{const x=this.scroll.create(xr.blotName,u);d.appendChild(x)});const m=o.children.at(s);o.insertBefore(d,m)}rows(){const s=this.children.head;return s==null?[]:s.children.map(o=>o)}}z(ni,"blotName","table-container"),z(ni,"tagName","TABLE");function Ra(){return`row-${Math.random().toString(36).slice(2,6)}`}ni.allowedChildren=[Pr],Pr.requiredContainer=ni,Pr.allowedChildren=[Jr],Jr.requiredContainer=Pr,Jr.allowedChildren=[xr],xr.requiredContainer=Jr;const _0=class extends vr{static register(){st.register(xr),st.register(Jr),st.register(Pr),st.register(ni)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(ni).forEach(i=>{i.balanceCells()})}deleteColumn(){const[i,,s]=this.getTable();s!=null&&(i.deleteColumn(s.cellOffset()),this.quill.update(st.sources.USER))}deleteRow(){const[,i]=this.getTable();i!=null&&(i.remove(),this.quill.update(st.sources.USER))}deleteTable(){const[i]=this.getTable();if(i==null)return;const s=i.offset();i.remove(),this.quill.update(st.sources.USER),this.quill.setSelection(s,st.sources.SILENT)}getTable(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(i==null)return[null,null,null,-1];const[s,o]=this.quill.getLine(i.index);if(s==null||s.statics.blotName!==xr.blotName)return[null,null,null,-1];const u=s.parent;return[u.parent.parent,u,s,o]}insertColumn(i){const s=this.quill.getSelection();if(!s)return;const[o,u,d]=this.getTable(s);if(d==null)return;const m=d.cellOffset();o.insertColumn(m+i),this.quill.update(st.sources.USER);let x=u.rowOffset();i===0&&(x+=1),this.quill.setSelection(s.index+x,s.length,st.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(i){const s=this.quill.getSelection();if(!s)return;const[o,u,d]=this.getTable(s);if(d==null)return;const m=u.rowOffset();o.insertRow(m+i),this.quill.update(st.sources.USER),i>0?this.quill.setSelection(s,st.sources.SILENT):this.quill.setSelection(s.index+u.children.length,s.length,st.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(i,s){const o=this.quill.getSelection();if(o==null)return;const u=new Array(i).fill(0).reduce(d=>{const m=new Array(s).fill(`
`).join("");return d.insert(m,{table:Ra()})},new St().retain(o.index));this.quill.updateContents(u,st.sources.USER),this.quill.setSelection(o.index,st.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(st.events.SCROLL_OPTIMIZE,i=>{i.some(s=>!!["TD","TR","TBODY","TABLE"].includes(s.target.tagName)&&(this.quill.once(st.events.TEXT_CHANGE,(o,u,d)=>{d===st.sources.USER&&this.balanceTables()}),!0))})}},of=Ss("quill:toolbar");class Ia extends vr{constructor(s,o){var u,d;if(super(s,o),Array.isArray(this.options.container)){const m=document.createElement("div");m.setAttribute("role","toolbar"),function(x,N){Array.isArray(N[0])||(N=[N]),N.forEach(q=>{const U=document.createElement("span");U.classList.add("ql-formats"),q.forEach(nt=>{if(typeof nt=="string")lf(U,nt);else{const yt=Object.keys(nt)[0],Et=nt[yt];Array.isArray(Et)?function(Lt,Ct,ne){const $e=document.createElement("select");$e.classList.add(`ql-${Ct}`),ne.forEach(tn=>{const Un=document.createElement("option");tn!==!1?Un.setAttribute("value",String(tn)):Un.setAttribute("selected","selected"),$e.appendChild(Un)}),Lt.appendChild($e)}(U,yt,Et):lf(U,yt,Et)}}),x.appendChild(U)})}(m,this.options.container),(d=(u=s.container)==null?void 0:u.parentNode)==null||d.insertBefore(m,s.container),this.container=m}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(m=>{var N;const x=(N=this.options.handlers)==null?void 0:N[m];x&&this.addHandler(m,x)}),Array.from(this.container.querySelectorAll("button, select")).forEach(m=>{this.attach(m)}),this.quill.on(st.events.EDITOR_CHANGE,()=>{const[m]=this.quill.selection.getRange();this.update(m)})):of.error("Container required for toolbar",this.options)}addHandler(s,o){this.handlers[s]=o}attach(s){let o=Array.from(s.classList).find(d=>d.indexOf("ql-")===0);if(!o)return;if(o=o.slice(3),s.tagName==="BUTTON"&&s.setAttribute("type","button"),this.handlers[o]==null&&this.quill.scroll.query(o)==null)return void of.warn("ignoring attaching to nonexistent format",o,s);const u=s.tagName==="SELECT"?"change":"click";s.addEventListener(u,d=>{let m;if(s.tagName==="SELECT"){if(s.selectedIndex<0)return;const N=s.options[s.selectedIndex];m=!N.hasAttribute("selected")&&(N.value||!1)}else m=!s.classList.contains("ql-active")&&(s.value||!s.hasAttribute("value")),d.preventDefault();this.quill.focus();const[x]=this.quill.selection.getRange();if(this.handlers[o]!=null)this.handlers[o].call(this,m);else if(this.quill.scroll.query(o).prototype instanceof Nn){if(m=prompt(`Enter ${o}`),!m)return;this.quill.updateContents(new St().retain(x.index).delete(x.length).insert({[o]:m}),st.sources.USER)}else this.quill.format(o,m,st.sources.USER);this.update(x)}),this.controls.push([o,s])}update(s){const o=s==null?{}:this.quill.getFormat(s);this.controls.forEach(u=>{const[d,m]=u;if(m.tagName==="SELECT"){let x=null;if(s==null)x=null;else if(o[d]==null)x=m.querySelector("option[selected]");else if(!Array.isArray(o[d])){let N=o[d];typeof N=="string"&&(N=N.replace(/"/g,'\\"')),x=m.querySelector(`option[value="${N}"]`)}x==null?(m.value="",m.selectedIndex=-1):x.selected=!0}else if(s==null)m.classList.remove("ql-active"),m.setAttribute("aria-pressed","false");else if(m.hasAttribute("value")){const x=o[d],N=x===m.getAttribute("value")||x!=null&&x.toString()===m.getAttribute("value")||x==null&&!m.getAttribute("value");m.classList.toggle("ql-active",N),m.setAttribute("aria-pressed",N.toString())}else{const x=o[d]!=null;m.classList.toggle("ql-active",x),m.setAttribute("aria-pressed",x.toString())}})}}function lf(i,s,o){const u=document.createElement("button");u.setAttribute("type","button"),u.classList.add(`ql-${s}`),u.setAttribute("aria-pressed","false"),o!=null?(u.value=o,u.setAttribute("aria-label",`${s}: ${o}`)):u.setAttribute("aria-label",s),i.appendChild(u)}Ia.DEFAULTS={},Ia.DEFAULTS={container:null,handlers:{clean(){const i=this.quill.getSelection();if(i!=null)if(i.length===0){const s=this.quill.getFormat();Object.keys(s).forEach(o=>{this.quill.scroll.query(o,Nt.INLINE)!=null&&this.quill.format(o,!1,st.sources.USER)})}else this.quill.removeFormat(i.index,i.length,st.sources.USER)},direction(i){const{align:s}=this.quill.getFormat();i==="rtl"&&s==null?this.quill.format("align","right",st.sources.USER):i||s!=="right"||this.quill.format("align",!1,st.sources.USER),this.quill.format("direction",i,st.sources.USER)},indent(i){const s=this.quill.getSelection(),o=this.quill.getFormat(s),u=parseInt(o.indent||0,10);if(i==="+1"||i==="-1"){let d=i==="+1"?1:-1;o.direction==="rtl"&&(d*=-1),this.quill.format("indent",u+d,st.sources.USER)}},link(i){i===!0&&(i=prompt("Enter link URL:")),this.quill.format("link",i,st.sources.USER)},list(i){const s=this.quill.getSelection(),o=this.quill.getFormat(s);i==="check"?o.list==="checked"||o.list==="unchecked"?this.quill.format("list",!1,st.sources.USER):this.quill.format("list","unchecked",st.sources.USER):this.quill.format("list",i,st.sources.USER)}}};const af='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Ri={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:af,"code-block":af,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let cf=0;function uf(i,s){i.setAttribute(s,`${i.getAttribute(s)!=="true"}`)}const jo=class{constructor(i){this.select=i,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",s=>{switch(s.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),s.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),uf(this.label,"aria-expanded"),uf(this.options,"aria-hidden")}buildItem(i){const s=document.createElement("span");s.tabIndex="0",s.setAttribute("role","button"),s.classList.add("ql-picker-item");const o=i.getAttribute("value");return o&&s.setAttribute("data-value",o),i.textContent&&s.setAttribute("data-label",i.textContent),s.addEventListener("click",()=>{this.selectItem(s,!0)}),s.addEventListener("keydown",u=>{switch(u.key){case"Enter":this.selectItem(s,!0),u.preventDefault();break;case"Escape":this.escape(),u.preventDefault()}}),s}buildLabel(){const i=document.createElement("span");return i.classList.add("ql-picker-label"),i.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',i.tabIndex="0",i.setAttribute("role","button"),i.setAttribute("aria-expanded","false"),this.container.appendChild(i),i}buildOptions(){const i=document.createElement("span");i.classList.add("ql-picker-options"),i.setAttribute("aria-hidden","true"),i.tabIndex="-1",i.id=`ql-picker-options-${cf}`,cf+=1,this.label.setAttribute("aria-controls",i.id),this.options=i,Array.from(this.select.options).forEach(s=>{const o=this.buildItem(s);i.appendChild(o),s.selected===!0&&this.selectItem(o)}),this.container.appendChild(i)}buildPicker(){Array.from(this.select.attributes).forEach(i=>{this.container.setAttribute(i.name,i.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(i){let s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const o=this.container.querySelector(".ql-selected");i!==o&&(o!=null&&o.classList.remove("ql-selected"),i!=null&&(i.classList.add("ql-selected"),this.select.selectedIndex=Array.from(i.parentNode.children).indexOf(i),i.hasAttribute("data-value")?this.label.setAttribute("data-value",i.getAttribute("data-value")):this.label.removeAttribute("data-value"),i.hasAttribute("data-label")?this.label.setAttribute("data-label",i.getAttribute("data-label")):this.label.removeAttribute("data-label"),s&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let i;if(this.select.selectedIndex>-1){const o=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];i=this.select.options[this.select.selectedIndex],this.selectItem(o)}else this.selectItem(null);const s=i!=null&&i!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",s)}},hf=class extends jo{constructor(i,s){super(i),this.label.innerHTML=s,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(o=>{o.classList.add("ql-primary")})}buildItem(i){const s=super.buildItem(i);return s.style.backgroundColor=i.getAttribute("value")||"",s}selectItem(i,s){super.selectItem(i,s);const o=this.label.querySelector(".ql-color-label"),u=i&&i.getAttribute("data-value")||"";o&&(o.tagName==="line"?o.style.stroke=u:o.style.fill=u)}},ff=class extends jo{constructor(i,s){super(i),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(o=>{o.innerHTML=s[o.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(i,s){super.selectItem(i,s);const o=i||this.defaultItem;if(o!=null){if(this.label.innerHTML===o.innerHTML)return;this.label.innerHTML=o.innerHTML}}},df=class{constructor(i,s){this.quill=i,this.boundsContainer=s||document.body,this.root=i.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(o=>{const{overflowY:u}=getComputedStyle(o,null);return u!=="visible"&&u!=="clip"})(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(i){const s=i.left+i.width/2-this.root.offsetWidth/2,o=i.bottom+this.quill.root.scrollTop;this.root.style.left=`${s}px`,this.root.style.top=`${o}px`,this.root.classList.remove("ql-flip");const u=this.boundsContainer.getBoundingClientRect(),d=this.root.getBoundingClientRect();let m=0;if(d.right>u.right&&(m=u.right-d.right,this.root.style.left=`${s+m}px`),d.left<u.left&&(m=u.left-d.left,this.root.style.left=`${s+m}px`),d.bottom>u.bottom){const x=d.bottom-d.top,N=i.bottom-i.top+x;this.root.style.top=o-N+"px",this.root.classList.add("ql-flip")}return m}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},N0=[!1,"center","right","justify"],S0=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],T0=[!1,"serif","monospace"],O0=["1","2","3",!1],L0=["small",!1,"large","huge"];class Ii extends Lo{constructor(s,o){super(s,o);const u=d=>{document.body.contains(s.root)?(this.tooltip==null||this.tooltip.root.contains(d.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(m=>{m.container.contains(d.target)||m.close()})):document.body.removeEventListener("click",u)};s.emitter.listenDOM("click",document.body,u)}addModule(s){const o=super.addModule(s);return s==="toolbar"&&this.extendToolbar(o),o}buildButtons(s,o){Array.from(s).forEach(u=>{(u.getAttribute("class")||"").split(/\s+/).forEach(d=>{if(d.startsWith("ql-")&&(d=d.slice(3),o[d]!=null))if(d==="direction")u.innerHTML=o[d][""]+o[d].rtl;else if(typeof o[d]=="string")u.innerHTML=o[d];else{const m=u.value||"";m!=null&&o[d][m]&&(u.innerHTML=o[d][m])}})})}buildPickers(s,o){this.pickers=Array.from(s).map(u=>{if(u.classList.contains("ql-align")&&(u.querySelector("option")==null&&ji(u,N0),typeof o.align=="object"))return new ff(u,o.align);if(u.classList.contains("ql-background")||u.classList.contains("ql-color")){const d=u.classList.contains("ql-background")?"background":"color";return u.querySelector("option")==null&&ji(u,S0,d==="background"?"#ffffff":"#000000"),new hf(u,o[d])}return u.querySelector("option")==null&&(u.classList.contains("ql-font")?ji(u,T0):u.classList.contains("ql-header")?ji(u,O0):u.classList.contains("ql-size")&&ji(u,L0)),new jo(u)}),this.quill.on(Mt.events.EDITOR_CHANGE,()=>{this.pickers.forEach(u=>{u.update()})})}}Ii.DEFAULTS=_n({},Lo.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let i=this.container.querySelector("input.ql-image[type=file]");i==null&&(i=document.createElement("input"),i.setAttribute("type","file"),i.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),i.classList.add("ql-image"),i.addEventListener("change",()=>{const s=this.quill.getSelection(!0);this.quill.uploader.upload(s,i.files),i.value=""}),this.container.appendChild(i)),i.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class pf extends df{constructor(s,o){super(s,o),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",s=>{s.key==="Enter"?(this.save(),s.preventDefault()):s.key==="Escape"&&(this.cancel(),s.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;o!=null?this.textbox.value=o:s!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const u=this.quill.getBounds(this.quill.selection.savedRange);u!=null&&this.position(u),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${s}`)||""),this.root.setAttribute("data-mode",s)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:s}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:o}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",s,Mt.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",s,Mt.sources.USER)),this.quill.root.scrollTop=o;break}case"video":s=function(o){let u=o.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||o.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return u?`${u[1]||"https"}://www.youtube.com/embed/${u[2]}?showinfo=0`:(u=o.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${u[1]||"https"}://player.vimeo.com/video/${u[2]}/`:o}(s);case"formula":{if(!s)break;const o=this.quill.getSelection(!0);if(o!=null){const u=o.index+o.length;this.quill.insertEmbed(u,this.root.getAttribute("data-mode"),s,Mt.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(u+1," ",Mt.sources.USER),this.quill.setSelection(u+2,Mt.sources.USER)}break}}this.textbox.value="",this.hide()}}function ji(i,s){let o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];s.forEach(u=>{const d=document.createElement("option");u===o?d.setAttribute("selected","selected"):d.setAttribute("value",String(u)),i.appendChild(d)})}const C0=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class gf extends pf{constructor(s,o){super(s,o),this.quill.on(Mt.events.EDITOR_CHANGE,(u,d,m,x)=>{if(u===Mt.events.SELECTION_CHANGE)if(d!=null&&d.length>0&&x===Mt.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const N=this.quill.getLines(d.index,d.length);if(N.length===1){const q=this.quill.getBounds(d);q!=null&&this.position(q)}else{const q=N[N.length-1],U=this.quill.getIndex(q),nt=Math.min(q.length()-1,d.index+d.length-U),yt=this.quill.getBounds(new os(U,nt));yt!=null&&this.position(yt)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Mt.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const s=this.quill.getSelection();if(s!=null){const o=this.quill.getBounds(s);o!=null&&this.position(o)}},1)})}cancel(){this.show()}position(s){const o=super.position(s),u=this.root.querySelector(".ql-tooltip-arrow");return u.style.marginLeft="",o!==0&&(u.style.marginLeft=-1*o-u.offsetWidth/2+"px"),o}}z(gf,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class mf extends Ii{constructor(s,o){o.modules.toolbar!=null&&o.modules.toolbar.container==null&&(o.modules.toolbar.container=C0),super(s,o),this.quill.container.classList.add("ql-bubble")}extendToolbar(s){this.tooltip=new gf(this.quill,this.options.bounds),s.container!=null&&(this.tooltip.root.appendChild(s.container),this.buildButtons(s.container.querySelectorAll("button"),Ri),this.buildPickers(s.container.querySelectorAll("select"),Ri))}}mf.DEFAULTS=_n({},Ii.DEFAULTS,{modules:{toolbar:{handlers:{link(i){i?this.quill.theme.tooltip.edit():this.quill.format("link",!1,st.sources.USER)}}}}});const q0=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class bf extends pf{constructor(){super(...arguments);z(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",o=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),o.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",o=>{if(this.linkRange!=null){const u=this.linkRange;this.restoreFocus(),this.quill.formatText(u,"link",!1,Mt.sources.USER),delete this.linkRange}o.preventDefault(),this.hide()}),this.quill.on(Mt.events.SELECTION_CHANGE,(o,u,d)=>{if(o!=null){if(o.length===0&&d===Mt.sources.USER){const[m,x]=this.quill.scroll.descendant(as,o.index);if(m!=null){this.linkRange=new os(o.index-x,m.length());const N=as.formats(m.domNode);this.preview.textContent=N,this.preview.setAttribute("href",N),this.show();const q=this.quill.getBounds(this.linkRange);return void(q!=null&&this.position(q))}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}z(bf,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class yf extends Ii{constructor(s,o){o.modules.toolbar!=null&&o.modules.toolbar.container==null&&(o.modules.toolbar.container=q0),super(s,o),this.quill.container.classList.add("ql-snow")}extendToolbar(s){s.container!=null&&(s.container.classList.add("ql-snow"),this.buildButtons(s.container.querySelectorAll("button"),Ri),this.buildPickers(s.container.querySelectorAll("select"),Ri),this.tooltip=new bf(this.quill,this.options.bounds),s.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(o,u)=>{s.handlers.link.call(s,!u.format.link)}))}}yf.DEFAULTS=_n({},Ii.DEFAULTS,{modules:{toolbar:{handlers:{link(i){if(i){const s=this.quill.getSelection();if(s==null||s.length===0)return;let o=this.quill.getText(s);/^\S+@\S+\.\S+$/.test(o)&&o.indexOf("mailto:")!==0&&(o=`mailto:${o}`);const{tooltip:u}=this.quill.theme;u.edit("link",o)}else this.quill.format("link",!1,st.sources.USER)}}}}});const k0=yf;qa.register({"attributors/attribute/direction":Dh,"attributors/class/align":Bh,"attributors/class/background":W1,"attributors/class/color":K1,"attributors/class/direction":$h,"attributors/class/font":Hh,"attributors/class/size":Vh,"attributors/style/align":Mh,"attributors/style/background":Aa,"attributors/style/color":Ea,"attributors/style/direction":Uh,"attributors/style/font":zh,"attributors/style/size":Kh},!0),qa.register({"formats/align":Bh,"formats/direction":$h,"formats/indent":p0,"formats/background":Aa,"formats/color":Ea,"formats/font":Hh,"formats/size":Vh,"formats/blockquote":g0,"formats/code-block":kn,"formats/header":m0,"formats/list":Ci,"formats/bold":ka,"formats/code":_a,"formats/italic":b0,"formats/link":as,"formats/script":y0,"formats/strike":v0,"formats/underline":w0,"formats/formula":x0,"formats/image":E0,"formats/video":A0,"modules/syntax":sf,"modules/table":_0,"modules/toolbar":Ia,"themes/bubble":mf,"themes/snow":k0,"ui/icons":Ri,"ui/picker":jo,"ui/icon-picker":ff,"ui/color-picker":hf,"ui/tooltip":df},!0);const R0=qa}},r={};function l(a){var c=r[a];if(c!==void 0)return c.exports;var h=r[a]={id:a,loaded:!1,exports:{}};return n[a].call(h.exports,h,h.exports,l),h.loaded=!0,h.exports}return l.d=(a,c)=>{for(var h in c)l.o(c,h)&&!l.o(a,h)&&Object.defineProperty(a,h,{enumerable:!0,get:c[h]})},l.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),l.o=(a,c)=>Object.prototype.hasOwnProperty.call(a,c),l.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},l.nmd=a=>(a.paths=[],a.children||(a.children=[]),a),l(190)})())})(bl,bl.exports);var _w=bl.exports,Nw=typeof global=="object"&&global&&global.Object===Object&&global;const Ig=Nw;var Sw=typeof self=="object"&&self&&self.Object===Object&&self,Tw=Ig||Sw||Function("return this")();const Kr=Tw;var Ow=Kr.Symbol;const ws=Ow;var jg=Object.prototype,Lw=jg.hasOwnProperty,Cw=jg.toString,zi=ws?ws.toStringTag:void 0;function qw(e){var t=Lw.call(e,zi),n=e[zi];try{e[zi]=void 0;var r=!0}catch{}var l=Cw.call(e);return r&&(t?e[zi]=n:delete e[zi]),l}var kw=Object.prototype,Rw=kw.toString;function Iw(e){return Rw.call(e)}var jw="[object Null]",Bw="[object Undefined]",Zf=ws?ws.toStringTag:void 0;function Ni(e){return e==null?e===void 0?Bw:jw:Zf&&Zf in Object(e)?qw(e):Iw(e)}function ts(e){return e!=null&&typeof e=="object"}var Mw=Array.isArray;const $s=Mw;function Es(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Bg(e){return e}var Pw="[object AsyncFunction]",Dw="[object Function]",$w="[object GeneratorFunction]",Uw="[object Proxy]";function ku(e){if(!Es(e))return!1;var t=Ni(e);return t==Dw||t==$w||t==Pw||t==Uw}var Fw=Kr["__core-js_shared__"];const Ga=Fw;var Xf=function(){var e=/[^.]+$/.exec(Ga&&Ga.keys&&Ga.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Hw(e){return!!Xf&&Xf in e}var zw=Function.prototype,Vw=zw.toString;function zs(e){if(e!=null){try{return Vw.call(e)}catch{}try{return e+""}catch{}}return""}var Kw=/[\\^$.*+?()[\]{}|]/g,Ww=/^\[object .+?Constructor\]$/,Gw=Function.prototype,Zw=Object.prototype,Xw=Gw.toString,Jw=Zw.hasOwnProperty,Yw=RegExp("^"+Xw.call(Jw).replace(Kw,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Qw(e){if(!Es(e)||Hw(e))return!1;var t=ku(e)?Yw:Ww;return t.test(zs(e))}function tx(e,t){return e==null?void 0:e[t]}function Vs(e,t){var n=tx(e,t);return Qw(n)?n:void 0}var ex=Vs(Kr,"WeakMap");const Rc=ex;var Jf=Object.create,nx=function(){function e(){}return function(t){if(!Es(t))return{};if(Jf)return Jf(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const rx=nx;function sx(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Mg(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var ix=800,ox=16,lx=Date.now;function ax(e){var t=0,n=0;return function(){var r=lx(),l=ox-(r-n);if(n=r,l>0){if(++t>=ix)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function cx(e){return function(){return e}}var ux=function(){try{var e=Vs(Object,"defineProperty");return e({},"",{}),e}catch{}}();const yl=ux;var hx=yl?function(e,t){return yl(e,"toString",{configurable:!0,enumerable:!1,value:cx(t),writable:!0})}:Bg;const fx=hx;var dx=ax(fx);const px=dx;function gx(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var mx=9007199254740991,bx=/^(?:0|[1-9]\d*)$/;function Pg(e,t){var n=typeof e;return t=t??mx,!!t&&(n=="number"||n!="symbol"&&bx.test(e))&&e>-1&&e%1==0&&e<t}function Ru(e,t,n){t=="__proto__"&&yl?yl(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function mo(e,t){return e===t||e!==e&&t!==t}var yx=Object.prototype,vx=yx.hasOwnProperty;function Dg(e,t,n){var r=e[t];(!(vx.call(e,t)&&mo(r,n))||n===void 0&&!(t in e))&&Ru(e,t,n)}function bo(e,t,n,r){var l=!n;n||(n={});for(var a=-1,c=t.length;++a<c;){var h=t[a],f=r?r(n[h],e[h],h,n,e):void 0;f===void 0&&(f=e[h]),l?Ru(n,h,f):Dg(n,h,f)}return n}var Yf=Math.max;function wx(e,t,n){return t=Yf(t===void 0?e.length-1:t,0),function(){for(var r=arguments,l=-1,a=Yf(r.length-t,0),c=Array(a);++l<a;)c[l]=r[t+l];l=-1;for(var h=Array(t+1);++l<t;)h[l]=r[l];return h[t]=n(c),sx(e,this,h)}}function xx(e,t){return px(wx(e,t,Bg),e+"")}var Ex=9007199254740991;function $g(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ex}function Pl(e){return e!=null&&$g(e.length)&&!ku(e)}function Ax(e,t,n){if(!Es(n))return!1;var r=typeof t;return(r=="number"?Pl(n)&&Pg(t,n.length):r=="string"&&t in n)?mo(n[t],e):!1}function _x(e){return xx(function(t,n){var r=-1,l=n.length,a=l>1?n[l-1]:void 0,c=l>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(l--,a):void 0,c&&Ax(n[0],n[1],c)&&(a=l<3?void 0:a,l=1),t=Object(t);++r<l;){var h=n[r];h&&e(t,h,r,a)}return t})}var Nx=Object.prototype;function Iu(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Nx;return e===n}function Sx(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Tx="[object Arguments]";function Qf(e){return ts(e)&&Ni(e)==Tx}var Ug=Object.prototype,Ox=Ug.hasOwnProperty,Lx=Ug.propertyIsEnumerable,Cx=Qf(function(){return arguments}())?Qf:function(e){return ts(e)&&Ox.call(e,"callee")&&!Lx.call(e,"callee")};const Ic=Cx;function qx(){return!1}var Fg=typeof Jn=="object"&&Jn&&!Jn.nodeType&&Jn,td=Fg&&typeof Yn=="object"&&Yn&&!Yn.nodeType&&Yn,kx=td&&td.exports===Fg,ed=kx?Kr.Buffer:void 0,Rx=ed?ed.isBuffer:void 0,Ix=Rx||qx;const no=Ix;var jx="[object Arguments]",Bx="[object Array]",Mx="[object Boolean]",Px="[object Date]",Dx="[object Error]",$x="[object Function]",Ux="[object Map]",Fx="[object Number]",Hx="[object Object]",zx="[object RegExp]",Vx="[object Set]",Kx="[object String]",Wx="[object WeakMap]",Gx="[object ArrayBuffer]",Zx="[object DataView]",Xx="[object Float32Array]",Jx="[object Float64Array]",Yx="[object Int8Array]",Qx="[object Int16Array]",tE="[object Int32Array]",eE="[object Uint8Array]",nE="[object Uint8ClampedArray]",rE="[object Uint16Array]",sE="[object Uint32Array]",rn={};rn[Xx]=rn[Jx]=rn[Yx]=rn[Qx]=rn[tE]=rn[eE]=rn[nE]=rn[rE]=rn[sE]=!0;rn[jx]=rn[Bx]=rn[Gx]=rn[Mx]=rn[Zx]=rn[Px]=rn[Dx]=rn[$x]=rn[Ux]=rn[Fx]=rn[Hx]=rn[zx]=rn[Vx]=rn[Kx]=rn[Wx]=!1;function iE(e){return ts(e)&&$g(e.length)&&!!rn[Ni(e)]}function ju(e){return function(t){return e(t)}}var Hg=typeof Jn=="object"&&Jn&&!Jn.nodeType&&Jn,Xi=Hg&&typeof Yn=="object"&&Yn&&!Yn.nodeType&&Yn,oE=Xi&&Xi.exports===Hg,Za=oE&&Ig.process,lE=function(){try{var e=Xi&&Xi.require&&Xi.require("util").types;return e||Za&&Za.binding&&Za.binding("util")}catch{}}();const gi=lE;var nd=gi&&gi.isTypedArray,aE=nd?ju(nd):iE;const Bu=aE;var cE=Object.prototype,uE=cE.hasOwnProperty;function zg(e,t){var n=$s(e),r=!n&&Ic(e),l=!n&&!r&&no(e),a=!n&&!r&&!l&&Bu(e),c=n||r||l||a,h=c?Sx(e.length,String):[],f=h.length;for(var p in e)(t||uE.call(e,p))&&!(c&&(p=="length"||l&&(p=="offset"||p=="parent")||a&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||Pg(p,f)))&&h.push(p);return h}function Vg(e,t){return function(n){return e(t(n))}}var hE=Vg(Object.keys,Object);const fE=hE;var dE=Object.prototype,pE=dE.hasOwnProperty;function gE(e){if(!Iu(e))return fE(e);var t=[];for(var n in Object(e))pE.call(e,n)&&n!="constructor"&&t.push(n);return t}function Mu(e){return Pl(e)?zg(e):gE(e)}function mE(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var bE=Object.prototype,yE=bE.hasOwnProperty;function vE(e){if(!Es(e))return mE(e);var t=Iu(e),n=[];for(var r in e)r=="constructor"&&(t||!yE.call(e,r))||n.push(r);return n}function yo(e){return Pl(e)?zg(e,!0):vE(e)}var wE=Vs(Object,"create");const ro=wE;function xE(){this.__data__=ro?ro(null):{},this.size=0}function EE(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var AE="__lodash_hash_undefined__",_E=Object.prototype,NE=_E.hasOwnProperty;function SE(e){var t=this.__data__;if(ro){var n=t[e];return n===AE?void 0:n}return NE.call(t,e)?t[e]:void 0}var TE=Object.prototype,OE=TE.hasOwnProperty;function LE(e){var t=this.__data__;return ro?t[e]!==void 0:OE.call(t,e)}var CE="__lodash_hash_undefined__";function qE(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ro&&t===void 0?CE:t,this}function Us(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Us.prototype.clear=xE;Us.prototype.delete=EE;Us.prototype.get=SE;Us.prototype.has=LE;Us.prototype.set=qE;function kE(){this.__data__=[],this.size=0}function Dl(e,t){for(var n=e.length;n--;)if(mo(e[n][0],t))return n;return-1}var RE=Array.prototype,IE=RE.splice;function jE(e){var t=this.__data__,n=Dl(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():IE.call(t,n,1),--this.size,!0}function BE(e){var t=this.__data__,n=Dl(t,e);return n<0?void 0:t[n][1]}function ME(e){return Dl(this.__data__,e)>-1}function PE(e,t){var n=this.__data__,r=Dl(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function rs(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}rs.prototype.clear=kE;rs.prototype.delete=jE;rs.prototype.get=BE;rs.prototype.has=ME;rs.prototype.set=PE;var DE=Vs(Kr,"Map");const so=DE;function $E(){this.size=0,this.__data__={hash:new Us,map:new(so||rs),string:new Us}}function UE(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function $l(e,t){var n=e.__data__;return UE(t)?n[typeof t=="string"?"string":"hash"]:n.map}function FE(e){var t=$l(this,e).delete(e);return this.size-=t?1:0,t}function HE(e){return $l(this,e).get(e)}function zE(e){return $l(this,e).has(e)}function VE(e,t){var n=$l(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Ks(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ks.prototype.clear=$E;Ks.prototype.delete=FE;Ks.prototype.get=HE;Ks.prototype.has=zE;Ks.prototype.set=VE;function Kg(e,t){for(var n=-1,r=t.length,l=e.length;++n<r;)e[l+n]=t[n];return e}var KE=Vg(Object.getPrototypeOf,Object);const Pu=KE;var WE="[object Object]",GE=Function.prototype,ZE=Object.prototype,Wg=GE.toString,XE=ZE.hasOwnProperty,JE=Wg.call(Object);function YE(e){if(!ts(e)||Ni(e)!=WE)return!1;var t=Pu(e);if(t===null)return!0;var n=XE.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Wg.call(n)==JE}function QE(){this.__data__=new rs,this.size=0}function tA(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function eA(e){return this.__data__.get(e)}function nA(e){return this.__data__.has(e)}var rA=200;function sA(e,t){var n=this.__data__;if(n instanceof rs){var r=n.__data__;if(!so||r.length<rA-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ks(r)}return n.set(e,t),this.size=n.size,this}function Fr(e){var t=this.__data__=new rs(e);this.size=t.size}Fr.prototype.clear=QE;Fr.prototype.delete=tA;Fr.prototype.get=eA;Fr.prototype.has=nA;Fr.prototype.set=sA;function iA(e,t){return e&&bo(t,Mu(t),e)}function oA(e,t){return e&&bo(t,yo(t),e)}var Gg=typeof Jn=="object"&&Jn&&!Jn.nodeType&&Jn,rd=Gg&&typeof Yn=="object"&&Yn&&!Yn.nodeType&&Yn,lA=rd&&rd.exports===Gg,sd=lA?Kr.Buffer:void 0,id=sd?sd.allocUnsafe:void 0;function Zg(e,t){if(t)return e.slice();var n=e.length,r=id?id(n):new e.constructor(n);return e.copy(r),r}function aA(e,t){for(var n=-1,r=e==null?0:e.length,l=0,a=[];++n<r;){var c=e[n];t(c,n,e)&&(a[l++]=c)}return a}function Xg(){return[]}var cA=Object.prototype,uA=cA.propertyIsEnumerable,od=Object.getOwnPropertySymbols,hA=od?function(e){return e==null?[]:(e=Object(e),aA(od(e),function(t){return uA.call(e,t)}))}:Xg;const Du=hA;function fA(e,t){return bo(e,Du(e),t)}var dA=Object.getOwnPropertySymbols,pA=dA?function(e){for(var t=[];e;)Kg(t,Du(e)),e=Pu(e);return t}:Xg;const Jg=pA;function gA(e,t){return bo(e,Jg(e),t)}function Yg(e,t,n){var r=t(e);return $s(e)?r:Kg(r,n(e))}function jc(e){return Yg(e,Mu,Du)}function mA(e){return Yg(e,yo,Jg)}var bA=Vs(Kr,"DataView");const Bc=bA;var yA=Vs(Kr,"Promise");const Mc=yA;var vA=Vs(Kr,"Set");const Pc=vA;var ld="[object Map]",wA="[object Object]",ad="[object Promise]",cd="[object Set]",ud="[object WeakMap]",hd="[object DataView]",xA=zs(Bc),EA=zs(so),AA=zs(Mc),_A=zs(Pc),NA=zs(Rc),ks=Ni;(Bc&&ks(new Bc(new ArrayBuffer(1)))!=hd||so&&ks(new so)!=ld||Mc&&ks(Mc.resolve())!=ad||Pc&&ks(new Pc)!=cd||Rc&&ks(new Rc)!=ud)&&(ks=function(e){var t=Ni(e),n=t==wA?e.constructor:void 0,r=n?zs(n):"";if(r)switch(r){case xA:return hd;case EA:return ld;case AA:return ad;case _A:return cd;case NA:return ud}return t});const io=ks;var SA=Object.prototype,TA=SA.hasOwnProperty;function OA(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&TA.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var LA=Kr.Uint8Array;const vl=LA;function $u(e){var t=new e.constructor(e.byteLength);return new vl(t).set(new vl(e)),t}function CA(e,t){var n=t?$u(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var qA=/\w*$/;function kA(e){var t=new e.constructor(e.source,qA.exec(e));return t.lastIndex=e.lastIndex,t}var fd=ws?ws.prototype:void 0,dd=fd?fd.valueOf:void 0;function RA(e){return dd?Object(dd.call(e)):{}}function Qg(e,t){var n=t?$u(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var IA="[object Boolean]",jA="[object Date]",BA="[object Map]",MA="[object Number]",PA="[object RegExp]",DA="[object Set]",$A="[object String]",UA="[object Symbol]",FA="[object ArrayBuffer]",HA="[object DataView]",zA="[object Float32Array]",VA="[object Float64Array]",KA="[object Int8Array]",WA="[object Int16Array]",GA="[object Int32Array]",ZA="[object Uint8Array]",XA="[object Uint8ClampedArray]",JA="[object Uint16Array]",YA="[object Uint32Array]";function QA(e,t,n){var r=e.constructor;switch(t){case FA:return $u(e);case IA:case jA:return new r(+e);case HA:return CA(e,n);case zA:case VA:case KA:case WA:case GA:case ZA:case XA:case JA:case YA:return Qg(e,n);case BA:return new r;case MA:case $A:return new r(e);case PA:return kA(e);case DA:return new r;case UA:return RA(e)}}function tm(e){return typeof e.constructor=="function"&&!Iu(e)?rx(Pu(e)):{}}var t_="[object Map]";function e_(e){return ts(e)&&io(e)==t_}var pd=gi&&gi.isMap,n_=pd?ju(pd):e_;const r_=n_;var s_="[object Set]";function i_(e){return ts(e)&&io(e)==s_}var gd=gi&&gi.isSet,o_=gd?ju(gd):i_;const l_=o_;var a_=1,c_=2,u_=4,em="[object Arguments]",h_="[object Array]",f_="[object Boolean]",d_="[object Date]",p_="[object Error]",nm="[object Function]",g_="[object GeneratorFunction]",m_="[object Map]",b_="[object Number]",rm="[object Object]",y_="[object RegExp]",v_="[object Set]",w_="[object String]",x_="[object Symbol]",E_="[object WeakMap]",A_="[object ArrayBuffer]",__="[object DataView]",N_="[object Float32Array]",S_="[object Float64Array]",T_="[object Int8Array]",O_="[object Int16Array]",L_="[object Int32Array]",C_="[object Uint8Array]",q_="[object Uint8ClampedArray]",k_="[object Uint16Array]",R_="[object Uint32Array]",en={};en[em]=en[h_]=en[A_]=en[__]=en[f_]=en[d_]=en[N_]=en[S_]=en[T_]=en[O_]=en[L_]=en[m_]=en[b_]=en[rm]=en[y_]=en[v_]=en[w_]=en[x_]=en[C_]=en[q_]=en[k_]=en[R_]=!0;en[p_]=en[nm]=en[E_]=!1;function ll(e,t,n,r,l,a){var c,h=t&a_,f=t&c_,p=t&u_;if(n&&(c=l?n(e,r,l,a):n(e)),c!==void 0)return c;if(!Es(e))return e;var y=$s(e);if(y){if(c=OA(e),!h)return Mg(e,c)}else{var w=io(e),b=w==nm||w==g_;if(no(e))return Zg(e,h);if(w==rm||w==em||b&&!l){if(c=f||b?{}:tm(e),!h)return f?gA(e,oA(c,e)):fA(e,iA(c,e))}else{if(!en[w])return l?e:{};c=QA(e,w,h)}}a||(a=new Fr);var v=a.get(e);if(v)return v;a.set(e,c),l_(e)?e.forEach(function(A){c.add(ll(A,t,n,A,e,a))}):r_(e)&&e.forEach(function(A,L){c.set(L,ll(A,t,n,L,e,a))});var E=p?f?mA:jc:f?yo:Mu,S=y?void 0:E(e);return gx(S||e,function(A,L){S&&(L=A,A=e[L]),Dg(c,L,ll(A,t,n,L,e,a))}),c}var I_=1,j_=4;function ui(e){return ll(e,I_|j_)}var B_="__lodash_hash_undefined__";function M_(e){return this.__data__.set(e,B_),this}function P_(e){return this.__data__.has(e)}function wl(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Ks;++t<n;)this.add(e[t])}wl.prototype.add=wl.prototype.push=M_;wl.prototype.has=P_;function D_(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function $_(e,t){return e.has(t)}var U_=1,F_=2;function sm(e,t,n,r,l,a){var c=n&U_,h=e.length,f=t.length;if(h!=f&&!(c&&f>h))return!1;var p=a.get(e),y=a.get(t);if(p&&y)return p==t&&y==e;var w=-1,b=!0,v=n&F_?new wl:void 0;for(a.set(e,t),a.set(t,e);++w<h;){var E=e[w],S=t[w];if(r)var A=c?r(S,E,w,t,e,a):r(E,S,w,e,t,a);if(A!==void 0){if(A)continue;b=!1;break}if(v){if(!D_(t,function(L,T){if(!$_(v,T)&&(E===L||l(E,L,n,r,a)))return v.push(T)})){b=!1;break}}else if(!(E===S||l(E,S,n,r,a))){b=!1;break}}return a.delete(e),a.delete(t),b}function H_(e){var t=-1,n=Array(e.size);return e.forEach(function(r,l){n[++t]=[l,r]}),n}function z_(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var V_=1,K_=2,W_="[object Boolean]",G_="[object Date]",Z_="[object Error]",X_="[object Map]",J_="[object Number]",Y_="[object RegExp]",Q_="[object Set]",tN="[object String]",eN="[object Symbol]",nN="[object ArrayBuffer]",rN="[object DataView]",md=ws?ws.prototype:void 0,Xa=md?md.valueOf:void 0;function sN(e,t,n,r,l,a,c){switch(n){case rN:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case nN:return!(e.byteLength!=t.byteLength||!a(new vl(e),new vl(t)));case W_:case G_:case J_:return mo(+e,+t);case Z_:return e.name==t.name&&e.message==t.message;case Y_:case tN:return e==t+"";case X_:var h=H_;case Q_:var f=r&V_;if(h||(h=z_),e.size!=t.size&&!f)return!1;var p=c.get(e);if(p)return p==t;r|=K_,c.set(e,t);var y=sm(h(e),h(t),r,l,a,c);return c.delete(e),y;case eN:if(Xa)return Xa.call(e)==Xa.call(t)}return!1}var iN=1,oN=Object.prototype,lN=oN.hasOwnProperty;function aN(e,t,n,r,l,a){var c=n&iN,h=jc(e),f=h.length,p=jc(t),y=p.length;if(f!=y&&!c)return!1;for(var w=f;w--;){var b=h[w];if(!(c?b in t:lN.call(t,b)))return!1}var v=a.get(e),E=a.get(t);if(v&&E)return v==t&&E==e;var S=!0;a.set(e,t),a.set(t,e);for(var A=c;++w<f;){b=h[w];var L=e[b],T=t[b];if(r)var O=c?r(T,L,b,t,e,a):r(L,T,b,e,t,a);if(!(O===void 0?L===T||l(L,T,n,r,a):O)){S=!1;break}A||(A=b=="constructor")}if(S&&!A){var I=e.constructor,B=t.constructor;I!=B&&"constructor"in e&&"constructor"in t&&!(typeof I=="function"&&I instanceof I&&typeof B=="function"&&B instanceof B)&&(S=!1)}return a.delete(e),a.delete(t),S}var cN=1,bd="[object Arguments]",yd="[object Array]",Xo="[object Object]",uN=Object.prototype,vd=uN.hasOwnProperty;function hN(e,t,n,r,l,a){var c=$s(e),h=$s(t),f=c?yd:io(e),p=h?yd:io(t);f=f==bd?Xo:f,p=p==bd?Xo:p;var y=f==Xo,w=p==Xo,b=f==p;if(b&&no(e)){if(!no(t))return!1;c=!0,y=!1}if(b&&!y)return a||(a=new Fr),c||Bu(e)?sm(e,t,n,r,l,a):sN(e,t,f,n,r,l,a);if(!(n&cN)){var v=y&&vd.call(e,"__wrapped__"),E=w&&vd.call(t,"__wrapped__");if(v||E){var S=v?e.value():e,A=E?t.value():t;return a||(a=new Fr),l(S,A,n,r,a)}}return b?(a||(a=new Fr),aN(e,t,n,r,l,a)):!1}function im(e,t,n,r,l){return e===t?!0:e==null||t==null||!ts(e)&&!ts(t)?e!==e&&t!==t:hN(e,t,n,r,im,l)}function fN(e){return function(t,n,r){for(var l=-1,a=Object(t),c=r(t),h=c.length;h--;){var f=c[e?h:++l];if(n(a[f],f,a)===!1)break}return t}}var dN=fN();const pN=dN;function Dc(e,t,n){(n!==void 0&&!mo(e[t],n)||n===void 0&&!(t in e))&&Ru(e,t,n)}function gN(e){return ts(e)&&Pl(e)}function $c(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function mN(e){return bo(e,yo(e))}function bN(e,t,n,r,l,a,c){var h=$c(e,n),f=$c(t,n),p=c.get(f);if(p){Dc(e,n,p);return}var y=a?a(h,f,n+"",e,t,c):void 0,w=y===void 0;if(w){var b=$s(f),v=!b&&no(f),E=!b&&!v&&Bu(f);y=f,b||v||E?$s(h)?y=h:gN(h)?y=Mg(h):v?(w=!1,y=Zg(f,!0)):E?(w=!1,y=Qg(f,!0)):y=[]:YE(f)||Ic(f)?(y=h,Ic(h)?y=mN(h):(!Es(h)||ku(h))&&(y=tm(f))):w=!1}w&&(c.set(f,y),l(y,f,r,a,c),c.delete(f)),Dc(e,n,y)}function om(e,t,n,r,l){e!==t&&pN(t,function(a,c){if(l||(l=new Fr),Es(a))bN(e,t,c,n,om,r,l);else{var h=r?r($c(e,c),a,c+"",e,t,l):void 0;h===void 0&&(h=a),Dc(e,c,h)}},yo)}function Uu(e,t){return im(e,t)}var yN=_x(function(e,t,n){om(e,t,n)});const ms=yN;var Ft=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(Ft||{});class zr{constructor(t,n,r={}){this.attrName=t,this.keyName=n;const l=Ft.TYPE&Ft.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Ft.LEVEL|l:Ft.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(t){return Array.from(t.attributes).map(n=>n.name)}add(t,n){return this.canAdd(t,n)?(t.setAttribute(this.keyName,n),!0):!1}canAdd(t,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const n=t.getAttribute(this.keyName);return this.canAdd(t,n)&&n?n:""}}class hi extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const lm=class Uc{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,n=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(n){let r=null;try{r=t.parentNode}catch{return null}return this.find(r,n)}return null}create(t,n,r){const l=this.query(n);if(l==null)throw new hi(`Unable to create ${n} blot`);const a=l,c=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:a.create(r),h=new a(t,c,r);return Uc.blots.set(h.domNode,h),h}find(t,n=!1){return Uc.find(t,n)}query(t,n=Ft.ANY){let r;return typeof t=="string"?r=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?r=this.types.text:typeof t=="number"?t&Ft.LEVEL&Ft.BLOCK?r=this.types.block:t&Ft.LEVEL&Ft.INLINE&&(r=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(l=>(r=this.classes[l],!!r)),r=r||this.tags[t.tagName]),r==null?null:"scope"in r&&n&Ft.LEVEL&r.scope&&n&Ft.TYPE&r.scope?r:null}register(...t){return t.map(n=>{const r="blotName"in n,l="attrName"in n;if(!r&&!l)throw new hi("Invalid definition");if(r&&n.blotName==="abstract")throw new hi("Cannot register abstract class");const a=r?n.blotName:l?n.attrName:void 0;return this.types[a]=n,l?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):r&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(c=>c.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(c=>{(this.tags[c]==null||n.className==null)&&(this.tags[c]=n)}))),n})}};lm.blots=new WeakMap;let mi=lm;function wd(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${t}-`)===0)}class vN extends zr{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(t,n){return this.canAdd(t,n)?(this.remove(t),t.classList.add(`${this.keyName}-${n}`),!0):!1}remove(t){wd(t,this.keyName).forEach(n=>{t.classList.remove(n)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const n=(wd(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,n)?n:""}}const qr=vN;function Ja(e){const t=e.split("-"),n=t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return t[0]+n}class wN extends zr{static keys(t){return(t.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(t,n){return this.canAdd(t,n)?(t.style[Ja(this.keyName)]=n,!0):!1}remove(t){t.style[Ja(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const n=t.style[Ja(this.keyName)];return this.canAdd(t,n)?n:""}}const As=wN;class xN{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,n){n?t.add(this.domNode,n)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=mi.find(this.domNode);if(t==null)return;const n=zr.keys(this.domNode),r=qr.keys(this.domNode),l=As.keys(this.domNode);n.concat(r).concat(l).forEach(a=>{const c=t.scroll.query(a,Ft.ATTRIBUTE);c instanceof zr&&(this.attributes[c.attrName]=c)})}copy(t){Object.keys(this.attributes).forEach(n=>{const r=this.attributes[n].value(this.domNode);t.format(n,r)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,n)=>(t[n]=this.attributes[n].value(this.domNode),t),{})}}const Ul=xN,am=class{constructor(t,n){this.scroll=t,this.domNode=n,mi.blots.set(n,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new hi("Blot definition missing tagName");let n,r;return Array.isArray(this.tagName)?(typeof t=="string"?(r=t.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof t=="number"&&(r=t),typeof r=="number"?n=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?n=document.createElement(r):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),mi.blots.delete(this.domNode)}deleteAt(t,n){this.isolate(t,n).remove()}formatAt(t,n,r,l){const a=this.isolate(t,n);if(this.scroll.query(r,Ft.BLOT)!=null&&l)a.wrap(r,l);else if(this.scroll.query(r,Ft.ATTRIBUTE)!=null){const c=this.scroll.create(this.statics.scope);a.wrap(c),c.format(r,l)}}insertAt(t,n,r){const l=r==null?this.scroll.create("text",n):this.scroll.create(n,r),a=this.split(t);this.parent.insertBefore(l,a||void 0)}isolate(t,n){const r=this.split(t);if(r==null)throw new Error("Attempt to isolate at end");return r.split(n),r}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,n){const r=typeof t=="string"?this.scroll.create(t,n):t;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(t,n){return t===0?this:this.next}update(t,n){}wrap(t,n){const r=typeof t=="string"?this.scroll.create(t,n):t;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new hi(`Cannot wrap ${t}`);return r.appendChild(this),r}};am.blotName="abstract";let cm=am;const um=class extends cm{static value(t){return!0}index(t,n){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(t,n){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};um.scope=Ft.INLINE_BLOT;let EN=um;const Rn=EN;class AN{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const n=t.slice(1);this.append(...n)}}at(t){const n=this.iterator();let r=n();for(;r&&t>0;)t-=1,r=n();return r}contains(t){const n=this.iterator();let r=n();for(;r;){if(r===t)return!0;r=n()}return!1}indexOf(t){const n=this.iterator();let r=n(),l=0;for(;r;){if(r===t)return l;l+=1,r=n()}return-1}insertBefore(t,n){t!=null&&(this.remove(t),t.next=n,n!=null?(t.prev=n.prev,n.prev!=null&&(n.prev.next=t),n.prev=t,n===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let n=0,r=this.head;for(;r!=null;){if(r===t)return n;n+=r.length(),r=r.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const n=t;return t!=null&&(t=t.next),n}}find(t,n=!1){const r=this.iterator();let l=r();for(;l;){const a=l.length();if(t<a||n&&t===a&&(l.next==null||l.next.length()!==0))return[l,t];t-=a,l=r()}return[null,0]}forEach(t){const n=this.iterator();let r=n();for(;r;)t(r),r=n()}forEachAt(t,n,r){if(n<=0)return;const[l,a]=this.find(t);let c=t-a;const h=this.iterator(l);let f=h();for(;f&&c<t+n;){const p=f.length();t>c?r(f,t-c,Math.min(n,c+p-t)):r(f,0,Math.min(p,t+n-c)),c+=p,f=h()}}map(t){return this.reduce((n,r)=>(n.push(t(r)),n),[])}reduce(t,n){const r=this.iterator();let l=r();for(;l;)n=t(n,l),l=r();return n}}function xd(e,t){const n=t.find(e);if(n)return n;try{return t.create(e)}catch{const r=t.create(Ft.INLINE);return Array.from(e.childNodes).forEach(l=>{r.domNode.appendChild(l)}),e.parentNode&&e.parentNode.replaceChild(r.domNode,e),r.attach(),r}}const hm=class ds extends cm{constructor(t,n){super(t,n),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,ds.uiClass&&this.uiNode.classList.add(ds.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new AN,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const n=xd(t,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof hi)return;throw n}})}deleteAt(t,n){if(t===0&&n===this.length())return this.remove();this.children.forEachAt(t,n,(r,l,a)=>{r.deleteAt(l,a)})}descendant(t,n=0){const[r,l]=this.children.find(n);return t.blotName==null&&t(r)||t.blotName!=null&&r instanceof t?[r,l]:r instanceof ds?r.descendant(t,l):[null,-1]}descendants(t,n=0,r=Number.MAX_VALUE){let l=[],a=r;return this.children.forEachAt(n,r,(c,h,f)=>{(t.blotName==null&&t(c)||t.blotName!=null&&c instanceof t)&&l.push(c),c instanceof ds&&(l=l.concat(c.descendants(t,h,a))),a-=f}),l}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(n=>{t||this.statics.allowedChildren.some(r=>n instanceof r)||(n.statics.scope===Ft.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),t=!0):n instanceof ds?n.unwrap():n.remove())})}formatAt(t,n,r,l){this.children.forEachAt(t,n,(a,c,h)=>{a.formatAt(c,h,r,l)})}insertAt(t,n,r){const[l,a]=this.children.find(t);if(l)l.insertAt(a,n,r);else{const c=r==null?this.scroll.create("text",n):this.scroll.create(n,r);this.appendChild(c)}}insertBefore(t,n){t.parent!=null&&t.parent.children.remove(t);let r=null;this.children.insertBefore(t,n||null),t.parent=this,n!=null&&(r=n.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(t.domNode,r),t.attach()}length(){return this.children.reduce((t,n)=>t+n.length(),0)}moveChildren(t,n){this.children.forEach(r=>{t.insertBefore(r,n)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(t,n=!1){const[r,l]=this.children.find(t,n),a=[[this,t]];return r instanceof ds?a.concat(r.path(l,n)):(r!=null&&a.push([r,l]),a)}removeChild(t){this.children.remove(t)}replaceWith(t,n){const r=typeof t=="string"?this.scroll.create(t,n):t;return r instanceof ds&&this.moveChildren(r),super.replaceWith(r)}split(t,n=!1){if(!n){if(t===0)return this;if(t===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(t,this.length(),(l,a,c)=>{const h=l.split(a,n);h!=null&&r.appendChild(h)}),r}splitAfter(t){const n=this.clone();for(;t.next!=null;)n.appendChild(t.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,n){const r=[],l=[];t.forEach(a=>{a.target===this.domNode&&a.type==="childList"&&(r.push(...a.addedNodes),l.push(...a.removedNodes))}),l.forEach(a=>{if(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const c=this.scroll.find(a);c!=null&&(c.domNode.parentNode==null||c.domNode.parentNode===this.domNode)&&c.detach()}),r.filter(a=>a.parentNode===this.domNode&&a!==this.uiNode).sort((a,c)=>a===c?0:a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(a=>{let c=null;a.nextSibling!=null&&(c=this.scroll.find(a.nextSibling));const h=xd(a,this.scroll);(h.next!==c||h.next==null)&&(h.parent!=null&&h.parent.removeChild(this),this.insertBefore(h,c||void 0))}),this.enforceAllowedChildren()}};hm.uiClass="";let _N=hm;const Sr=_N;function NN(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}const si=class ii extends Sr{static create(t){return super.create(t)}static formats(t,n){const r=n.query(ii.blotName);if(!(r!=null&&t.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new Ul(this.domNode)}format(t,n){if(t===this.statics.blotName&&!n)this.children.forEach(r=>{r instanceof ii||(r=r.wrap(ii.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(t,Ft.INLINE);if(r==null)return;r instanceof zr?this.attributes.attribute(r,n):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n)}}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(t[this.statics.blotName]=n),t}formatAt(t,n,r,l){this.formats()[r]!=null||this.scroll.query(r,Ft.ATTRIBUTE)?this.isolate(t,n).format(r,l):super.formatAt(t,n,r,l)}optimize(t){super.optimize(t);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const r=this.next;r instanceof ii&&r.prev===this&&NN(n,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(t,n){const r=super.replaceWith(t,n);return this.attributes.copy(r),r}update(t,n){super.update(t,n),t.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(t,n){const r=super.wrap(t,n);return r instanceof ii&&this.attributes.move(r),r}};si.allowedChildren=[si,Rn],si.blotName="inline",si.scope=Ft.INLINE_BLOT,si.tagName="SPAN";let SN=si;const Fu=SN,oi=class Fc extends Sr{static create(t){return super.create(t)}static formats(t,n){const r=n.query(Fc.blotName);if(!(r!=null&&t.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new Ul(this.domNode)}format(t,n){const r=this.scroll.query(t,Ft.BLOCK);r!=null&&(r instanceof zr?this.attributes.attribute(r,n):t===this.statics.blotName&&!n?this.replaceWith(Fc.blotName):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n))}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(t[this.statics.blotName]=n),t}formatAt(t,n,r,l){this.scroll.query(r,Ft.BLOCK)!=null?this.format(r,l):super.formatAt(t,n,r,l)}insertAt(t,n,r){if(r==null||this.scroll.query(n,Ft.INLINE)!=null)super.insertAt(t,n,r);else{const l=this.split(t);if(l!=null){const a=this.scroll.create(n,r);l.parent.insertBefore(a,l)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,n){const r=super.replaceWith(t,n);return this.attributes.copy(r),r}update(t,n){super.update(t,n),t.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};oi.blotName="block",oi.scope=Ft.BLOCK_BLOT,oi.tagName="P",oi.allowedChildren=[Fu,oi,Rn];let TN=oi;const oo=TN,Hc=class extends Sr{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,n){super.deleteAt(t,n),this.enforceAllowedChildren()}formatAt(t,n,r,l){super.formatAt(t,n,r,l),this.enforceAllowedChildren()}insertAt(t,n,r){super.insertAt(t,n,r),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Hc.blotName="container",Hc.scope=Ft.BLOCK_BLOT;let ON=Hc;const Fl=ON;class LN extends Rn{static formats(t,n){}format(t,n){super.formatAt(0,this.length(),t,n)}formatAt(t,n,r,l){t===0&&n===this.length()?this.format(r,l):super.formatAt(t,n,r,l)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const tr=LN,CN={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},qN=100,li=class extends Sr{constructor(t,n){super(null,n),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,CN),this.attach()}create(t,n){return this.registry.create(this,t,n)}find(t,n=!1){const r=this.registry.find(t,n);return r?r.scroll===this?r:n?this.find(r.scroll.domNode.parentNode,!0):null:null}query(t,n=Ft.ANY){return this.registry.query(t,n)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,n){this.update(),t===0&&n===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(t,n)}formatAt(t,n,r,l){this.update(),super.formatAt(t,n,r,l)}insertAt(t,n,r){this.update(),super.insertAt(t,n,r)}optimize(t=[],n={}){super.optimize(n);const r=n.mutationsMap||new WeakMap;let l=Array.from(this.observer.takeRecords());for(;l.length>0;)t.push(l.pop());const a=(f,p=!0)=>{f==null||f===this||f.domNode.parentNode!=null&&(r.has(f.domNode)||r.set(f.domNode,[]),p&&a(f.parent))},c=f=>{r.has(f.domNode)&&(f instanceof Sr&&f.children.forEach(c),r.delete(f.domNode),f.optimize(n))};let h=t;for(let f=0;h.length>0;f+=1){if(f>=qN)throw new Error("[Parchment] Maximum optimize iterations reached");for(h.forEach(p=>{const y=this.find(p.target,!0);y!=null&&(y.domNode===p.target&&(p.type==="childList"?(a(this.find(p.previousSibling,!1)),Array.from(p.addedNodes).forEach(w=>{const b=this.find(w,!1);a(b,!1),b instanceof Sr&&b.children.forEach(v=>{a(v,!1)})})):p.type==="attributes"&&a(y.prev)),a(y))}),this.children.forEach(c),h=Array.from(this.observer.takeRecords()),l=h.slice();l.length>0;)t.push(l.pop())}}update(t,n={}){t=t||this.observer.takeRecords();const r=new WeakMap;t.map(l=>{const a=this.find(l.target,!0);return a==null?null:r.has(a.domNode)?(r.get(a.domNode).push(l),null):(r.set(a.domNode,[l]),a)}).forEach(l=>{l!=null&&l!==this&&r.has(l.domNode)&&l.update(r.get(l.domNode)||[],n)}),n.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),n),this.optimize(t,n)}};li.blotName="scroll",li.defaultChild=oo,li.allowedChildren=[oo,Fl],li.scope=Ft.BLOCK_BLOT,li.tagName="DIV";let kN=li;const Hu=kN,zc=class fm extends Rn{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,n){super(t,n),this.text=this.statics.value(this.domNode)}deleteAt(t,n){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+n)}index(t,n){return this.domNode===t?n:-1}insertAt(t,n,r){r==null?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,n,r)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof fm&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,n=!1){return[this.domNode,t]}split(t,n=!1){if(!n){if(t===0)return this;if(t===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(t,n){t.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};zc.blotName="text",zc.scope=Ft.INLINE_BLOT;let RN=zc;const xl=RN,IN=Object.freeze(Object.defineProperty({__proto__:null,Attributor:zr,AttributorStore:Ul,BlockBlot:oo,ClassAttributor:qr,ContainerBlot:Fl,EmbedBlot:tr,InlineBlot:Fu,LeafBlot:Rn,ParentBlot:Sr,Registry:mi,Scope:Ft,ScrollBlot:Hu,StyleAttributor:As,TextBlot:xl},Symbol.toStringTag,{value:"Module"}));var Vc={exports:{}},Xn=-1,Fn=1,vn=0;function lo(e,t,n,r,l){if(e===t)return e?[[vn,e]]:[];if(n!=null){var a=HN(e,t,n);if(a)return a}var c=zu(e,t),h=e.substring(0,c);e=e.substring(c),t=t.substring(c),c=Hl(e,t);var f=e.substring(e.length-c);e=e.substring(0,e.length-c),t=t.substring(0,t.length-c);var p=jN(e,t);return h&&p.unshift([vn,h]),f&&p.push([vn,f]),Vu(p,l),r&&PN(p),p}function jN(e,t){var n;if(!e)return[[Fn,t]];if(!t)return[[Xn,e]];var r=e.length>t.length?e:t,l=e.length>t.length?t:e,a=r.indexOf(l);if(a!==-1)return n=[[Fn,r.substring(0,a)],[vn,l],[Fn,r.substring(a+l.length)]],e.length>t.length&&(n[0][0]=n[2][0]=Xn),n;if(l.length===1)return[[Xn,e],[Fn,t]];var c=MN(e,t);if(c){var h=c[0],f=c[1],p=c[2],y=c[3],w=c[4],b=lo(h,p),v=lo(f,y);return b.concat([[vn,w]],v)}return BN(e,t)}function BN(e,t){for(var n=e.length,r=t.length,l=Math.ceil((n+r)/2),a=l,c=2*l,h=new Array(c),f=new Array(c),p=0;p<c;p++)h[p]=-1,f[p]=-1;h[a+1]=0,f[a+1]=0;for(var y=n-r,w=y%2!==0,b=0,v=0,E=0,S=0,A=0;A<l;A++){for(var L=-A+b;L<=A-v;L+=2){var T=a+L,O;L===-A||L!==A&&h[T-1]<h[T+1]?O=h[T+1]:O=h[T-1]+1;for(var I=O-L;O<n&&I<r&&e.charAt(O)===t.charAt(I);)O++,I++;if(h[T]=O,O>n)v+=2;else if(I>r)b+=2;else if(w){var B=a+y-L;if(B>=0&&B<c&&f[B]!==-1){var F=n-f[B];if(O>=F)return Ed(e,t,O,I)}}}for(var Y=-A+E;Y<=A-S;Y+=2){var B=a+Y,F;Y===-A||Y!==A&&f[B-1]<f[B+1]?F=f[B+1]:F=f[B-1]+1;for(var ut=F-Y;F<n&&ut<r&&e.charAt(n-F-1)===t.charAt(r-ut-1);)F++,ut++;if(f[B]=F,F>n)S+=2;else if(ut>r)E+=2;else if(!w){var T=a+y-Y;if(T>=0&&T<c&&h[T]!==-1){var O=h[T],I=a+O-T;if(F=n-F,O>=F)return Ed(e,t,O,I)}}}}return[[Xn,e],[Fn,t]]}function Ed(e,t,n,r){var l=e.substring(0,n),a=t.substring(0,r),c=e.substring(n),h=t.substring(r),f=lo(l,a),p=lo(c,h);return f.concat(p)}function zu(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),l=r,a=0;n<l;)e.substring(a,l)==t.substring(a,l)?(n=l,a=n):r=l,l=Math.floor((r-n)/2+n);return dm(e.charCodeAt(l-1))&&l--,l}function Ad(e,t){var n=e.length,r=t.length;if(n==0||r==0)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var l=Math.min(n,r);if(e==t)return l;for(var a=0,c=1;;){var h=e.substring(l-c),f=t.indexOf(h);if(f==-1)return a;c+=f,(f==0||e.substring(l-c)==t.substring(0,c))&&(a=c,c++)}}function Hl(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),l=r,a=0;n<l;)e.substring(e.length-l,e.length-a)==t.substring(t.length-l,t.length-a)?(n=l,a=n):r=l,l=Math.floor((r-n)/2+n);return pm(e.charCodeAt(e.length-l))&&l--,l}function MN(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||r.length*2<n.length)return null;function l(v,E,S){for(var A=v.substring(S,S+Math.floor(v.length/4)),L=-1,T="",O,I,B,F;(L=E.indexOf(A,L+1))!==-1;){var Y=zu(v.substring(S),E.substring(L)),ut=Hl(v.substring(0,S),E.substring(0,L));T.length<ut+Y&&(T=E.substring(L-ut,L)+E.substring(L,L+Y),O=v.substring(0,S-ut),I=v.substring(S+Y),B=E.substring(0,L-ut),F=E.substring(L+Y))}return T.length*2>=v.length?[O,I,B,F,T]:null}var a=l(n,r,Math.ceil(n.length/4)),c=l(n,r,Math.ceil(n.length/2)),h;if(!a&&!c)return null;c?a?h=a[4].length>c[4].length?a:c:h=c:h=a;var f,p,y,w;e.length>t.length?(f=h[0],p=h[1],y=h[2],w=h[3]):(y=h[0],w=h[1],f=h[2],p=h[3]);var b=h[4];return[f,p,y,w,b]}function PN(e){for(var t=!1,n=[],r=0,l=null,a=0,c=0,h=0,f=0,p=0;a<e.length;)e[a][0]==vn?(n[r++]=a,c=f,h=p,f=0,p=0,l=e[a][1]):(e[a][0]==Fn?f+=e[a][1].length:p+=e[a][1].length,l&&l.length<=Math.max(c,h)&&l.length<=Math.max(f,p)&&(e.splice(n[r-1],0,[Xn,l]),e[n[r-1]+1][0]=Fn,r--,r--,a=r>0?n[r-1]:-1,c=0,h=0,f=0,p=0,l=null,t=!0)),a++;for(t&&Vu(e),UN(e),a=1;a<e.length;){if(e[a-1][0]==Xn&&e[a][0]==Fn){var y=e[a-1][1],w=e[a][1],b=Ad(y,w),v=Ad(w,y);b>=v?(b>=y.length/2||b>=w.length/2)&&(e.splice(a,0,[vn,w.substring(0,b)]),e[a-1][1]=y.substring(0,y.length-b),e[a+1][1]=w.substring(b),a++):(v>=y.length/2||v>=w.length/2)&&(e.splice(a,0,[vn,y.substring(0,v)]),e[a-1][0]=Fn,e[a-1][1]=w.substring(0,w.length-v),e[a+1][0]=Xn,e[a+1][1]=y.substring(v),a++),a++}a++}}var _d=/[^a-zA-Z0-9]/,Nd=/\s/,Sd=/[\r\n]/,DN=/\n\r?\n$/,$N=/^\r?\n\r?\n/;function UN(e){function t(v,E){if(!v||!E)return 6;var S=v.charAt(v.length-1),A=E.charAt(0),L=S.match(_d),T=A.match(_d),O=L&&S.match(Nd),I=T&&A.match(Nd),B=O&&S.match(Sd),F=I&&A.match(Sd),Y=B&&v.match(DN),ut=F&&E.match($N);return Y||ut?5:B||F?4:L&&!O&&I?3:O||I?2:L||T?1:0}for(var n=1;n<e.length-1;){if(e[n-1][0]==vn&&e[n+1][0]==vn){var r=e[n-1][1],l=e[n][1],a=e[n+1][1],c=Hl(r,l);if(c){var h=l.substring(l.length-c);r=r.substring(0,r.length-c),l=h+l.substring(0,l.length-c),a=h+a}for(var f=r,p=l,y=a,w=t(r,l)+t(l,a);l.charAt(0)===a.charAt(0);){r+=l.charAt(0),l=l.substring(1)+a.charAt(0),a=a.substring(1);var b=t(r,l)+t(l,a);b>=w&&(w=b,f=r,p=l,y=a)}e[n-1][1]!=f&&(f?e[n-1][1]=f:(e.splice(n-1,1),n--),e[n][1]=p,y?e[n+1][1]=y:(e.splice(n+1,1),n--))}n++}}function Vu(e,t){e.push([vn,""]);for(var n=0,r=0,l=0,a="",c="",h;n<e.length;){if(n<e.length-1&&!e[n][1]){e.splice(n,1);continue}switch(e[n][0]){case Fn:l++,c+=e[n][1],n++;break;case Xn:r++,a+=e[n][1],n++;break;case vn:var f=n-l-r-1;if(t){if(f>=0&&mm(e[f][1])){var p=e[f][1].slice(-1);if(e[f][1]=e[f][1].slice(0,-1),a=p+a,c=p+c,!e[f][1]){e.splice(f,1),n--;var y=f-1;e[y]&&e[y][0]===Fn&&(l++,c=e[y][1]+c,y--),e[y]&&e[y][0]===Xn&&(r++,a=e[y][1]+a,y--),f=y}}if(gm(e[n][1])){var p=e[n][1].charAt(0);e[n][1]=e[n][1].slice(1),a+=p,c+=p}}if(n<e.length-1&&!e[n][1]){e.splice(n,1);break}if(a.length>0||c.length>0){a.length>0&&c.length>0&&(h=zu(c,a),h!==0&&(f>=0?e[f][1]+=c.substring(0,h):(e.splice(0,0,[vn,c.substring(0,h)]),n++),c=c.substring(h),a=a.substring(h)),h=Hl(c,a),h!==0&&(e[n][1]=c.substring(c.length-h)+e[n][1],c=c.substring(0,c.length-h),a=a.substring(0,a.length-h)));var w=l+r;a.length===0&&c.length===0?(e.splice(n-w,w),n=n-w):a.length===0?(e.splice(n-w,w,[Fn,c]),n=n-w+1):c.length===0?(e.splice(n-w,w,[Xn,a]),n=n-w+1):(e.splice(n-w,w,[Xn,a],[Fn,c]),n=n-w+2)}n!==0&&e[n-1][0]===vn?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,l=0,r=0,a="",c="";break}}e[e.length-1][1]===""&&e.pop();var b=!1;for(n=1;n<e.length-1;)e[n-1][0]===vn&&e[n+1][0]===vn&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)===e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),b=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),b=!0)),n++;b&&Vu(e,t)}function dm(e){return e>=55296&&e<=56319}function pm(e){return e>=56320&&e<=57343}function gm(e){return pm(e.charCodeAt(0))}function mm(e){return dm(e.charCodeAt(e.length-1))}function FN(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}function Ya(e,t,n,r){return mm(e)||gm(r)?null:FN([[vn,e],[Xn,t],[Fn,n],[vn,r]])}function HN(e,t,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,l=typeof n=="number"?null:n.newRange,a=e.length,c=t.length;if(r.length===0&&(l===null||l.length===0)){var h=r.index,f=e.slice(0,h),p=e.slice(h),y=l?l.index:null;t:{var w=h+c-a;if(y!==null&&y!==w||w<0||w>c)break t;var b=t.slice(0,w),v=t.slice(w);if(v!==p)break t;var E=Math.min(h,w),S=f.slice(0,E),A=b.slice(0,E);if(S!==A)break t;var L=f.slice(E),T=b.slice(E);return Ya(S,L,T,p)}t:{if(y!==null&&y!==h)break t;var O=h,b=t.slice(0,O),v=t.slice(O);if(b!==f)break t;var I=Math.min(a-O,c-O),B=p.slice(p.length-I),F=v.slice(v.length-I);if(B!==F)break t;var L=p.slice(0,p.length-I),T=v.slice(0,v.length-I);return Ya(f,L,T,B)}}if(r.length>0&&l&&l.length===0)t:{var S=e.slice(0,r.index),B=e.slice(r.index+r.length),E=S.length,I=B.length;if(c<E+I)break t;var A=t.slice(0,E),F=t.slice(c-I);if(S!==A||B!==F)break t;var L=e.slice(E,a-I),T=t.slice(E,c-I);return Ya(S,L,T,B)}return null}function zl(e,t,n,r){return lo(e,t,n,r,!0)}zl.INSERT=Fn;zl.DELETE=Xn;zl.EQUAL=vn;var zN=zl,El={exports:{}};El.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",l=9007199254740991,a="[object Arguments]",c="[object Array]",h="[object Boolean]",f="[object Date]",p="[object Error]",y="[object Function]",w="[object GeneratorFunction]",b="[object Map]",v="[object Number]",E="[object Object]",S="[object Promise]",A="[object RegExp]",L="[object Set]",T="[object String]",O="[object Symbol]",I="[object WeakMap]",B="[object ArrayBuffer]",F="[object DataView]",Y="[object Float32Array]",ut="[object Float64Array]",it="[object Int8Array]",j="[object Int16Array]",lt="[object Int32Array]",bt="[object Uint8Array]",M="[object Uint8ClampedArray]",G="[object Uint16Array]",ct="[object Uint32Array]",rt=/[\\^$.*+?()[\]{}|]/g,dt=/\w*$/,Tt=/^\[object .+?Constructor\]$/,Kt=/^(?:0|[1-9]\d*)$/,H={};H[a]=H[c]=H[B]=H[F]=H[h]=H[f]=H[Y]=H[ut]=H[it]=H[j]=H[lt]=H[b]=H[v]=H[E]=H[A]=H[L]=H[T]=H[O]=H[bt]=H[M]=H[G]=H[ct]=!0,H[p]=H[y]=H[I]=!1;var Dt=typeof dr=="object"&&dr&&dr.Object===Object&&dr,jt=typeof self=="object"&&self&&self.Object===Object&&self,$t=Dt||jt||Function("return this")(),se=t&&!t.nodeType&&t,ht=se&&!0&&e&&!e.nodeType&&e,he=ht&&ht.exports===se;function Yt(g,_){return g.set(_[0],_[1]),g}function ee(g,_){return g.add(_),g}function fe(g,_){for(var R=-1,K=g?g.length:0;++R<K&&_(g[R],R,g)!==!1;);return g}function Ae(g,_){for(var R=-1,K=_.length,Jt=g.length;++R<K;)g[Jt+R]=_[R];return g}function qe(g,_,R,K){var Jt=-1,Ut=g?g.length:0;for(K&&Ut&&(R=g[++Jt]);++Jt<Ut;)R=_(R,g[Jt],Jt,g);return R}function Ue(g,_){for(var R=-1,K=Array(g);++R<g;)K[R]=_(R);return K}function de(g,_){return g==null?void 0:g[_]}function Wt(g){var _=!1;if(g!=null&&typeof g.toString!="function")try{_=!!(g+"")}catch{}return _}function pe(g){var _=-1,R=Array(g.size);return g.forEach(function(K,Jt){R[++_]=[Jt,K]}),R}function qt(g,_){return function(R){return g(_(R))}}function Qt(g){var _=-1,R=Array(g.size);return g.forEach(function(K){R[++_]=K}),R}var zt=Array.prototype,Vt=Function.prototype,ye=Object.prototype,le=$t["__core-js_shared__"],je=function(){var g=/[^.]+$/.exec(le&&le.keys&&le.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}(),ke=Vt.toString,_e=ye.hasOwnProperty,Ke=ye.toString,He=RegExp("^"+ke.call(_e).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Se=he?$t.Buffer:void 0,Te=$t.Symbol,We=$t.Uint8Array,te=qt(Object.getPrototypeOf,Object),ze=Object.create,Ve=ye.propertyIsEnumerable,Xe=zt.splice,k=Object.getOwnPropertySymbols,D=Se?Se.isBuffer:void 0,V=qt(Object.keys,Object),W=jn($t,"DataView"),Z=jn($t,"Map"),J=jn($t,"Promise"),ot=jn($t,"Set"),Q=jn($t,"WeakMap"),ft=jn(Object,"create"),It=an(W),kt=an(Z),pt=an(J),_t=an(ot),wt=an(Q),xt=Te?Te.prototype:void 0,Bt=xt?xt.valueOf:void 0;function Ot(g){var _=-1,R=g?g.length:0;for(this.clear();++_<R;){var K=g[_];this.set(K[0],K[1])}}function Gt(){this.__data__=ft?ft(null):{}}function re(g){return this.has(g)&&delete this.__data__[g]}function ge(g){var _=this.__data__;if(ft){var R=_[g];return R===r?void 0:R}return _e.call(_,g)?_[g]:void 0}function ae(g){var _=this.__data__;return ft?_[g]!==void 0:_e.call(_,g)}function me(g,_){var R=this.__data__;return R[g]=ft&&_===void 0?r:_,this}Ot.prototype.clear=Gt,Ot.prototype.delete=re,Ot.prototype.get=ge,Ot.prototype.has=ae,Ot.prototype.set=me;function Ht(g){var _=-1,R=g?g.length:0;for(this.clear();++_<R;){var K=g[_];this.set(K[0],K[1])}}function Oe(){this.__data__=[]}function ve(g){var _=this.__data__,R=gt(_,g);if(R<0)return!1;var K=_.length-1;return R==K?_.pop():Xe.call(_,R,1),!0}function Pe(g){var _=this.__data__,R=gt(_,g);return R<0?void 0:_[R][1]}function Re(g){return gt(this.__data__,g)>-1}function Ge(g,_){var R=this.__data__,K=gt(R,g);return K<0?R.push([g,_]):R[K][1]=_,this}Ht.prototype.clear=Oe,Ht.prototype.delete=ve,Ht.prototype.get=Pe,Ht.prototype.has=Re,Ht.prototype.set=Ge;function ce(g){var _=-1,R=g?g.length:0;for(this.clear();++_<R;){var K=g[_];this.set(K[0],K[1])}}function on(){this.__data__={hash:new Ot,map:new(Z||Ht),string:new Ot}}function Ze(g){return bn(this,g).delete(g)}function xn(g){return bn(this,g).get(g)}function Be(g){return bn(this,g).has(g)}function ln(g,_){return bn(this,g).set(g,_),this}ce.prototype.clear=on,ce.prototype.delete=Ze,ce.prototype.get=xn,ce.prototype.has=Be,ce.prototype.set=ln;function nn(g){this.__data__=new Ht(g)}function Wn(){this.__data__=new Ht}function gr(g){return this.__data__.delete(g)}function er(g){return this.__data__.get(g)}function zn(g){return this.__data__.has(g)}function Gn(g,_){var R=this.__data__;if(R instanceof Ht){var K=R.__data__;if(!Z||K.length<n-1)return K.push([g,_]),this;R=this.__data__=new ce(K)}return R.set(g,_),this}nn.prototype.clear=Wn,nn.prototype.delete=gr,nn.prototype.get=er,nn.prototype.has=zn,nn.prototype.set=Gn;function P(g,_){var R=Mn(g)||Zn(g)?Ue(g.length,String):[],K=R.length,Jt=!!K;for(var Ut in g)(_||_e.call(g,Ut))&&!(Jt&&(Ut=="length"||Wr(Ut,K)))&&R.push(Ut);return R}function tt(g,_,R){var K=g[_];(!(_e.call(g,_)&&Ir(K,R))||R===void 0&&!(_ in g))&&(g[_]=R)}function gt(g,_){for(var R=g.length;R--;)if(Ir(g[R][0],_))return R;return-1}function C(g,_){return g&&ie(_,Tn(_),g)}function $(g,_,R,K,Jt,Ut,we){var Ne;if(K&&(Ne=Ut?K(g,Jt,Ut,we):K(g)),Ne!==void 0)return Ne;if(!Nt(g))return g;var Ee=Mn(g);if(Ee){if(Ne=Ce(g),!_)return dn(g,Ne)}else{var De=be(g),yn=De==y||De==w;if(Br(g))return Me(g,_);if(De==E||De==a||yn&&!Ut){if(Wt(g))return Ut?g:{};if(Ne=Sn(yn?{}:g),!_)return Je(g,C(Ne,g))}else{if(!H[De])return Ut?g:{};Ne=En(g,De,$,_)}}we||(we=new nn);var On=we.get(g);if(On)return On;if(we.set(g,Ne),!Ee)var Fe=R?hn(g):Tn(g);return fe(Fe||g,function(cn,fn){Fe&&(fn=cn,cn=g[fn]),tt(Ne,fn,$(cn,_,R,K,fn,g,we))}),Ne}function at(g){return Nt(g)?ze(g):{}}function mt(g,_,R){var K=_(g);return Mn(g)?K:Ae(K,R(g))}function At(g){return Ke.call(g)}function Zt(g){if(!Nt(g)||Bn(g))return!1;var _=rr(g)||Wt(g)?He:Tt;return _.test(an(g))}function ue(g){if(!qn(g))return V(g);var _=[];for(var R in Object(g))_e.call(g,R)&&R!="constructor"&&_.push(R);return _}function Me(g,_){if(_)return g.slice();var R=new g.constructor(g.length);return g.copy(R),R}function Ye(g){var _=new g.constructor(g.byteLength);return new We(_).set(new We(g)),_}function Ie(g,_){var R=_?Ye(g.buffer):g.buffer;return new g.constructor(R,g.byteOffset,g.byteLength)}function vt(g,_,R){var K=_?R(pe(g),!0):pe(g);return qe(K,Yt,new g.constructor)}function Xt(g){var _=new g.constructor(g.source,dt.exec(g));return _.lastIndex=g.lastIndex,_}function xe(g,_,R){var K=_?R(Qt(g),!0):Qt(g);return qe(K,ee,new g.constructor)}function Le(g){return Bt?Object(Bt.call(g)):{}}function un(g,_){var R=_?Ye(g.buffer):g.buffer;return new g.constructor(R,g.byteOffset,g.length)}function dn(g,_){var R=-1,K=g.length;for(_||(_=Array(K));++R<K;)_[R]=g[R];return _}function ie(g,_,R,K){R||(R={});for(var Jt=-1,Ut=_.length;++Jt<Ut;){var we=_[Jt],Ne=K?K(R[we],g[we],we,R,g):void 0;tt(R,we,Ne===void 0?g[we]:Ne)}return R}function Je(g,_){return ie(g,Vn(g),_)}function hn(g){return mt(g,Tn,Vn)}function bn(g,_){var R=g.__data__;return An(_)?R[typeof _=="string"?"string":"hash"]:R.map}function jn(g,_){var R=de(g,_);return Zt(R)?R:void 0}var Vn=k?qt(k,Object):Xs,be=At;(W&&be(new W(new ArrayBuffer(1)))!=F||Z&&be(new Z)!=b||J&&be(J.resolve())!=S||ot&&be(new ot)!=L||Q&&be(new Q)!=I)&&(be=function(g){var _=Ke.call(g),R=_==E?g.constructor:void 0,K=R?an(R):void 0;if(K)switch(K){case It:return F;case kt:return b;case pt:return S;case _t:return L;case wt:return I}return _});function Ce(g){var _=g.length,R=g.constructor(_);return _&&typeof g[0]=="string"&&_e.call(g,"index")&&(R.index=g.index,R.input=g.input),R}function Sn(g){return typeof g.constructor=="function"&&!qn(g)?at(te(g)):{}}function En(g,_,R,K){var Jt=g.constructor;switch(_){case B:return Ye(g);case h:case f:return new Jt(+g);case F:return Ie(g,K);case Y:case ut:case it:case j:case lt:case bt:case M:case G:case ct:return un(g,K);case b:return vt(g,K,R);case v:case T:return new Jt(g);case A:return Xt(g);case L:return xe(g,K,R);case O:return Le(g)}}function Wr(g,_){return _=_??l,!!_&&(typeof g=="number"||Kt.test(g))&&g>-1&&g%1==0&&g<_}function An(g){var _=typeof g;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?g!=="__proto__":g===null}function Bn(g){return!!je&&je in g}function qn(g){var _=g&&g.constructor,R=typeof _=="function"&&_.prototype||ye;return g===R}function an(g){if(g!=null){try{return ke.call(g)}catch{}try{return g+""}catch{}}return""}function nr(g){return $(g,!0,!0)}function Ir(g,_){return g===_||g!==g&&_!==_}function Zn(g){return jr(g)&&_e.call(g,"callee")&&(!Ve.call(g,"callee")||Ke.call(g)==a)}var Mn=Array.isArray;function mr(g){return g!=null&&_n(g.length)&&!rr(g)}function jr(g){return pn(g)&&mr(g)}var Br=D||Mr;function rr(g){var _=Nt(g)?Ke.call(g):"";return _==y||_==w}function _n(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=l}function Nt(g){var _=typeof g;return!!g&&(_=="object"||_=="function")}function pn(g){return!!g&&typeof g=="object"}function Tn(g){return mr(g)?P(g):ue(g)}function Xs(){return[]}function Mr(){return!1}e.exports=nr})(El,El.exports);var bm=El.exports,Al={exports:{}};Al.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",l=1,a=2,c=9007199254740991,h="[object Arguments]",f="[object Array]",p="[object AsyncFunction]",y="[object Boolean]",w="[object Date]",b="[object Error]",v="[object Function]",E="[object GeneratorFunction]",S="[object Map]",A="[object Number]",L="[object Null]",T="[object Object]",O="[object Promise]",I="[object Proxy]",B="[object RegExp]",F="[object Set]",Y="[object String]",ut="[object Symbol]",it="[object Undefined]",j="[object WeakMap]",lt="[object ArrayBuffer]",bt="[object DataView]",M="[object Float32Array]",G="[object Float64Array]",ct="[object Int8Array]",rt="[object Int16Array]",dt="[object Int32Array]",Tt="[object Uint8Array]",Kt="[object Uint8ClampedArray]",H="[object Uint16Array]",Dt="[object Uint32Array]",jt=/[\\^$.*+?()[\]{}|]/g,$t=/^\[object .+?Constructor\]$/,se=/^(?:0|[1-9]\d*)$/,ht={};ht[M]=ht[G]=ht[ct]=ht[rt]=ht[dt]=ht[Tt]=ht[Kt]=ht[H]=ht[Dt]=!0,ht[h]=ht[f]=ht[lt]=ht[y]=ht[bt]=ht[w]=ht[b]=ht[v]=ht[S]=ht[A]=ht[T]=ht[B]=ht[F]=ht[Y]=ht[j]=!1;var he=typeof dr=="object"&&dr&&dr.Object===Object&&dr,Yt=typeof self=="object"&&self&&self.Object===Object&&self,ee=he||Yt||Function("return this")(),fe=t&&!t.nodeType&&t,Ae=fe&&!0&&e&&!e.nodeType&&e,qe=Ae&&Ae.exports===fe,Ue=qe&&he.process,de=function(){try{return Ue&&Ue.binding&&Ue.binding("util")}catch{}}(),Wt=de&&de.isTypedArray;function pe(g,_){for(var R=-1,K=g==null?0:g.length,Jt=0,Ut=[];++R<K;){var we=g[R];_(we,R,g)&&(Ut[Jt++]=we)}return Ut}function qt(g,_){for(var R=-1,K=_.length,Jt=g.length;++R<K;)g[Jt+R]=_[R];return g}function Qt(g,_){for(var R=-1,K=g==null?0:g.length;++R<K;)if(_(g[R],R,g))return!0;return!1}function zt(g,_){for(var R=-1,K=Array(g);++R<g;)K[R]=_(R);return K}function Vt(g){return function(_){return g(_)}}function ye(g,_){return g.has(_)}function le(g,_){return g==null?void 0:g[_]}function je(g){var _=-1,R=Array(g.size);return g.forEach(function(K,Jt){R[++_]=[Jt,K]}),R}function ke(g,_){return function(R){return g(_(R))}}function _e(g){var _=-1,R=Array(g.size);return g.forEach(function(K){R[++_]=K}),R}var Ke=Array.prototype,He=Function.prototype,Se=Object.prototype,Te=ee["__core-js_shared__"],We=He.toString,te=Se.hasOwnProperty,ze=function(){var g=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}(),Ve=Se.toString,Xe=RegExp("^"+We.call(te).replace(jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=qe?ee.Buffer:void 0,D=ee.Symbol,V=ee.Uint8Array,W=Se.propertyIsEnumerable,Z=Ke.splice,J=D?D.toStringTag:void 0,ot=Object.getOwnPropertySymbols,Q=k?k.isBuffer:void 0,ft=ke(Object.keys,Object),It=Vn(ee,"DataView"),kt=Vn(ee,"Map"),pt=Vn(ee,"Promise"),_t=Vn(ee,"Set"),wt=Vn(ee,"WeakMap"),xt=Vn(Object,"create"),Bt=an(It),Ot=an(kt),Gt=an(pt),re=an(_t),ge=an(wt),ae=D?D.prototype:void 0,me=ae?ae.valueOf:void 0;function Ht(g){var _=-1,R=g==null?0:g.length;for(this.clear();++_<R;){var K=g[_];this.set(K[0],K[1])}}function Oe(){this.__data__=xt?xt(null):{},this.size=0}function ve(g){var _=this.has(g)&&delete this.__data__[g];return this.size-=_?1:0,_}function Pe(g){var _=this.__data__;if(xt){var R=_[g];return R===r?void 0:R}return te.call(_,g)?_[g]:void 0}function Re(g){var _=this.__data__;return xt?_[g]!==void 0:te.call(_,g)}function Ge(g,_){var R=this.__data__;return this.size+=this.has(g)?0:1,R[g]=xt&&_===void 0?r:_,this}Ht.prototype.clear=Oe,Ht.prototype.delete=ve,Ht.prototype.get=Pe,Ht.prototype.has=Re,Ht.prototype.set=Ge;function ce(g){var _=-1,R=g==null?0:g.length;for(this.clear();++_<R;){var K=g[_];this.set(K[0],K[1])}}function on(){this.__data__=[],this.size=0}function Ze(g){var _=this.__data__,R=Me(_,g);if(R<0)return!1;var K=_.length-1;return R==K?_.pop():Z.call(_,R,1),--this.size,!0}function xn(g){var _=this.__data__,R=Me(_,g);return R<0?void 0:_[R][1]}function Be(g){return Me(this.__data__,g)>-1}function ln(g,_){var R=this.__data__,K=Me(R,g);return K<0?(++this.size,R.push([g,_])):R[K][1]=_,this}ce.prototype.clear=on,ce.prototype.delete=Ze,ce.prototype.get=xn,ce.prototype.has=Be,ce.prototype.set=ln;function nn(g){var _=-1,R=g==null?0:g.length;for(this.clear();++_<R;){var K=g[_];this.set(K[0],K[1])}}function Wn(){this.size=0,this.__data__={hash:new Ht,map:new(kt||ce),string:new Ht}}function gr(g){var _=jn(this,g).delete(g);return this.size-=_?1:0,_}function er(g){return jn(this,g).get(g)}function zn(g){return jn(this,g).has(g)}function Gn(g,_){var R=jn(this,g),K=R.size;return R.set(g,_),this.size+=R.size==K?0:1,this}nn.prototype.clear=Wn,nn.prototype.delete=gr,nn.prototype.get=er,nn.prototype.has=zn,nn.prototype.set=Gn;function P(g){var _=-1,R=g==null?0:g.length;for(this.__data__=new nn;++_<R;)this.add(g[_])}function tt(g){return this.__data__.set(g,r),this}function gt(g){return this.__data__.has(g)}P.prototype.add=P.prototype.push=tt,P.prototype.has=gt;function C(g){var _=this.__data__=new ce(g);this.size=_.size}function $(){this.__data__=new ce,this.size=0}function at(g){var _=this.__data__,R=_.delete(g);return this.size=_.size,R}function mt(g){return this.__data__.get(g)}function At(g){return this.__data__.has(g)}function Zt(g,_){var R=this.__data__;if(R instanceof ce){var K=R.__data__;if(!kt||K.length<n-1)return K.push([g,_]),this.size=++R.size,this;R=this.__data__=new nn(K)}return R.set(g,_),this.size=R.size,this}C.prototype.clear=$,C.prototype.delete=at,C.prototype.get=mt,C.prototype.has=At,C.prototype.set=Zt;function ue(g,_){var R=Zn(g),K=!R&&Ir(g),Jt=!R&&!K&&mr(g),Ut=!R&&!K&&!Jt&&pn(g),we=R||K||Jt||Ut,Ne=we?zt(g.length,String):[],Ee=Ne.length;for(var De in g)(_||te.call(g,De))&&!(we&&(De=="length"||Jt&&(De=="offset"||De=="parent")||Ut&&(De=="buffer"||De=="byteLength"||De=="byteOffset")||En(De,Ee)))&&Ne.push(De);return Ne}function Me(g,_){for(var R=g.length;R--;)if(nr(g[R][0],_))return R;return-1}function Ye(g,_,R){var K=_(g);return Zn(g)?K:qt(K,R(g))}function Ie(g){return g==null?g===void 0?it:L:J&&J in Object(g)?be(g):qn(g)}function vt(g){return Nt(g)&&Ie(g)==h}function Xt(g,_,R,K,Jt){return g===_?!0:g==null||_==null||!Nt(g)&&!Nt(_)?g!==g&&_!==_:xe(g,_,R,K,Xt,Jt)}function xe(g,_,R,K,Jt,Ut){var we=Zn(g),Ne=Zn(_),Ee=we?f:Sn(g),De=Ne?f:Sn(_);Ee=Ee==h?T:Ee,De=De==h?T:De;var yn=Ee==T,On=De==T,Fe=Ee==De;if(Fe&&mr(g)){if(!mr(_))return!1;we=!0,yn=!1}if(Fe&&!yn)return Ut||(Ut=new C),we||pn(g)?ie(g,_,R,K,Jt,Ut):Je(g,_,Ee,R,K,Jt,Ut);if(!(R&l)){var cn=yn&&te.call(g,"__wrapped__"),fn=On&&te.call(_,"__wrapped__");if(cn||fn){var Pn=cn?g.value():g,Dn=fn?_.value():_;return Ut||(Ut=new C),Jt(Pn,Dn,R,K,Ut)}}return Fe?(Ut||(Ut=new C),hn(g,_,R,K,Jt,Ut)):!1}function Le(g){if(!_n(g)||An(g))return!1;var _=Br(g)?Xe:$t;return _.test(an(g))}function un(g){return Nt(g)&&rr(g.length)&&!!ht[Ie(g)]}function dn(g){if(!Bn(g))return ft(g);var _=[];for(var R in Object(g))te.call(g,R)&&R!="constructor"&&_.push(R);return _}function ie(g,_,R,K,Jt,Ut){var we=R&l,Ne=g.length,Ee=_.length;if(Ne!=Ee&&!(we&&Ee>Ne))return!1;var De=Ut.get(g);if(De&&Ut.get(_))return De==_;var yn=-1,On=!0,Fe=R&a?new P:void 0;for(Ut.set(g,_),Ut.set(_,g);++yn<Ne;){var cn=g[yn],fn=_[yn];if(K)var Pn=we?K(fn,cn,yn,_,g,Ut):K(cn,fn,yn,g,_,Ut);if(Pn!==void 0){if(Pn)continue;On=!1;break}if(Fe){if(!Qt(_,function(Dn,br){if(!ye(Fe,br)&&(cn===Dn||Jt(cn,Dn,R,K,Ut)))return Fe.push(br)})){On=!1;break}}else if(!(cn===fn||Jt(cn,fn,R,K,Ut))){On=!1;break}}return Ut.delete(g),Ut.delete(_),On}function Je(g,_,R,K,Jt,Ut,we){switch(R){case bt:if(g.byteLength!=_.byteLength||g.byteOffset!=_.byteOffset)return!1;g=g.buffer,_=_.buffer;case lt:return!(g.byteLength!=_.byteLength||!Ut(new V(g),new V(_)));case y:case w:case A:return nr(+g,+_);case b:return g.name==_.name&&g.message==_.message;case B:case Y:return g==_+"";case S:var Ne=je;case F:var Ee=K&l;if(Ne||(Ne=_e),g.size!=_.size&&!Ee)return!1;var De=we.get(g);if(De)return De==_;K|=a,we.set(g,_);var yn=ie(Ne(g),Ne(_),K,Jt,Ut,we);return we.delete(g),yn;case ut:if(me)return me.call(g)==me.call(_)}return!1}function hn(g,_,R,K,Jt,Ut){var we=R&l,Ne=bn(g),Ee=Ne.length,De=bn(_),yn=De.length;if(Ee!=yn&&!we)return!1;for(var On=Ee;On--;){var Fe=Ne[On];if(!(we?Fe in _:te.call(_,Fe)))return!1}var cn=Ut.get(g);if(cn&&Ut.get(_))return cn==_;var fn=!0;Ut.set(g,_),Ut.set(_,g);for(var Pn=we;++On<Ee;){Fe=Ne[On];var Dn=g[Fe],br=_[Fe];if(K)var _s=we?K(br,Dn,Fe,_,g,Ut):K(Dn,br,Fe,g,_,Ut);if(!(_s===void 0?Dn===br||Jt(Dn,br,R,K,Ut):_s)){fn=!1;break}Pn||(Pn=Fe=="constructor")}if(fn&&!Pn){var Nn=g.constructor,Js=_.constructor;Nn!=Js&&"constructor"in g&&"constructor"in _&&!(typeof Nn=="function"&&Nn instanceof Nn&&typeof Js=="function"&&Js instanceof Js)&&(fn=!1)}return Ut.delete(g),Ut.delete(_),fn}function bn(g){return Ye(g,Tn,Ce)}function jn(g,_){var R=g.__data__;return Wr(_)?R[typeof _=="string"?"string":"hash"]:R.map}function Vn(g,_){var R=le(g,_);return Le(R)?R:void 0}function be(g){var _=te.call(g,J),R=g[J];try{g[J]=void 0;var K=!0}catch{}var Jt=Ve.call(g);return K&&(_?g[J]=R:delete g[J]),Jt}var Ce=ot?function(g){return g==null?[]:(g=Object(g),pe(ot(g),function(_){return W.call(g,_)}))}:Xs,Sn=Ie;(It&&Sn(new It(new ArrayBuffer(1)))!=bt||kt&&Sn(new kt)!=S||pt&&Sn(pt.resolve())!=O||_t&&Sn(new _t)!=F||wt&&Sn(new wt)!=j)&&(Sn=function(g){var _=Ie(g),R=_==T?g.constructor:void 0,K=R?an(R):"";if(K)switch(K){case Bt:return bt;case Ot:return S;case Gt:return O;case re:return F;case ge:return j}return _});function En(g,_){return _=_??c,!!_&&(typeof g=="number"||se.test(g))&&g>-1&&g%1==0&&g<_}function Wr(g){var _=typeof g;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?g!=="__proto__":g===null}function An(g){return!!ze&&ze in g}function Bn(g){var _=g&&g.constructor,R=typeof _=="function"&&_.prototype||Se;return g===R}function qn(g){return Ve.call(g)}function an(g){if(g!=null){try{return We.call(g)}catch{}try{return g+""}catch{}}return""}function nr(g,_){return g===_||g!==g&&_!==_}var Ir=vt(function(){return arguments}())?vt:function(g){return Nt(g)&&te.call(g,"callee")&&!W.call(g,"callee")},Zn=Array.isArray;function Mn(g){return g!=null&&rr(g.length)&&!Br(g)}var mr=Q||Mr;function jr(g,_){return Xt(g,_)}function Br(g){if(!_n(g))return!1;var _=Ie(g);return _==v||_==E||_==p||_==I}function rr(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=c}function _n(g){var _=typeof g;return g!=null&&(_=="object"||_=="function")}function Nt(g){return g!=null&&typeof g=="object"}var pn=Wt?Vt(Wt):un;function Tn(g){return Mn(g)?ue(g):dn(g)}function Xs(){return[]}function Mr(){return!1}e.exports=jr})(Al,Al.exports);var ym=Al.exports,Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});const VN=bm,KN=ym;var Kc;(function(e){function t(a={},c={},h=!1){typeof a!="object"&&(a={}),typeof c!="object"&&(c={});let f=VN(c);h||(f=Object.keys(f).reduce((p,y)=>(f[y]!=null&&(p[y]=f[y]),p),{}));for(const p in a)a[p]!==void 0&&c[p]===void 0&&(f[p]=a[p]);return Object.keys(f).length>0?f:void 0}e.compose=t;function n(a={},c={}){typeof a!="object"&&(a={}),typeof c!="object"&&(c={});const h=Object.keys(a).concat(Object.keys(c)).reduce((f,p)=>(KN(a[p],c[p])||(f[p]=c[p]===void 0?null:c[p]),f),{});return Object.keys(h).length>0?h:void 0}e.diff=n;function r(a={},c={}){a=a||{};const h=Object.keys(c).reduce((f,p)=>(c[p]!==a[p]&&a[p]!==void 0&&(f[p]=c[p]),f),{});return Object.keys(a).reduce((f,p)=>(a[p]!==c[p]&&c[p]===void 0&&(f[p]=null),f),h)}e.invert=r;function l(a,c,h=!1){if(typeof a!="object")return c;if(typeof c!="object")return;if(!h)return c;const f=Object.keys(c).reduce((p,y)=>(a[y]===void 0&&(p[y]=c[y]),p),{});return Object.keys(f).length>0?f:void 0}e.transform=l})(Kc||(Kc={}));Ku.default=Kc;var Vl={};Object.defineProperty(Vl,"__esModule",{value:!0});var Wc;(function(e){function t(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}e.length=t})(Wc||(Wc={}));Vl.default=Wc;var Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});const Td=Vl;class WN{constructor(t){this.ops=t,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(t){t||(t=1/0);const n=this.ops[this.index];if(n){const r=this.offset,l=Td.default.length(n);if(t>=l-r?(t=l-r,this.index+=1,this.offset=0):this.offset+=t,typeof n.delete=="number")return{delete:t};{const a={};return n.attributes&&(a.attributes=n.attributes),typeof n.retain=="number"?a.retain=t:typeof n.retain=="object"&&n.retain!==null?a.retain=n.retain:typeof n.insert=="string"?a.insert=n.insert.substr(r,t):a.insert=n.insert,a}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?Td.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const t=this.ops[this.index];return t?typeof t.delete=="number"?"delete":typeof t.retain=="number"||typeof t.retain=="object"&&t.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const t=this.offset,n=this.index,r=this.next(),l=this.ops.slice(this.index);return this.offset=t,this.index=n,[r].concat(l)}}else return[]}}Wu.default=WN;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const n=zN,r=bm,l=ym,a=Ku;t.AttributeMap=a.default;const c=Vl;t.Op=c.default;const h=Wu;t.OpIterator=h.default;const f=String.fromCharCode(0),p=(w,b)=>{if(typeof w!="object"||w===null)throw new Error(`cannot retain a ${typeof w}`);if(typeof b!="object"||b===null)throw new Error(`cannot retain a ${typeof b}`);const v=Object.keys(w)[0];if(!v||v!==Object.keys(b)[0])throw new Error(`embed types not matched: ${v} != ${Object.keys(b)[0]}`);return[v,w[v],b[v]]};class y{constructor(b){Array.isArray(b)?this.ops=b:b!=null&&Array.isArray(b.ops)?this.ops=b.ops:this.ops=[]}static registerEmbed(b,v){this.handlers[b]=v}static unregisterEmbed(b){delete this.handlers[b]}static getHandler(b){const v=this.handlers[b];if(!v)throw new Error(`no handlers for embed type "${b}"`);return v}insert(b,v){const E={};return typeof b=="string"&&b.length===0?this:(E.insert=b,v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(E.attributes=v),this.push(E))}delete(b){return b<=0?this:this.push({delete:b})}retain(b,v){if(typeof b=="number"&&b<=0)return this;const E={retain:b};return v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(E.attributes=v),this.push(E)}push(b){let v=this.ops.length,E=this.ops[v-1];if(b=r(b),typeof E=="object"){if(typeof b.delete=="number"&&typeof E.delete=="number")return this.ops[v-1]={delete:E.delete+b.delete},this;if(typeof E.delete=="number"&&b.insert!=null&&(v-=1,E=this.ops[v-1],typeof E!="object"))return this.ops.unshift(b),this;if(l(b.attributes,E.attributes)){if(typeof b.insert=="string"&&typeof E.insert=="string")return this.ops[v-1]={insert:E.insert+b.insert},typeof b.attributes=="object"&&(this.ops[v-1].attributes=b.attributes),this;if(typeof b.retain=="number"&&typeof E.retain=="number")return this.ops[v-1]={retain:E.retain+b.retain},typeof b.attributes=="object"&&(this.ops[v-1].attributes=b.attributes),this}}return v===this.ops.length?this.ops.push(b):this.ops.splice(v,0,b),this}chop(){const b=this.ops[this.ops.length-1];return b&&typeof b.retain=="number"&&!b.attributes&&this.ops.pop(),this}filter(b){return this.ops.filter(b)}forEach(b){this.ops.forEach(b)}map(b){return this.ops.map(b)}partition(b){const v=[],E=[];return this.forEach(S=>{(b(S)?v:E).push(S)}),[v,E]}reduce(b,v){return this.ops.reduce(b,v)}changeLength(){return this.reduce((b,v)=>v.insert?b+c.default.length(v):v.delete?b-v.delete:b,0)}length(){return this.reduce((b,v)=>b+c.default.length(v),0)}slice(b=0,v=1/0){const E=[],S=new h.default(this.ops);let A=0;for(;A<v&&S.hasNext();){let L;A<b?L=S.next(b-A):(L=S.next(v-A),E.push(L)),A+=c.default.length(L)}return new y(E)}compose(b){const v=new h.default(this.ops),E=new h.default(b.ops),S=[],A=E.peek();if(A!=null&&typeof A.retain=="number"&&A.attributes==null){let T=A.retain;for(;v.peekType()==="insert"&&v.peekLength()<=T;)T-=v.peekLength(),S.push(v.next());A.retain-T>0&&E.next(A.retain-T)}const L=new y(S);for(;v.hasNext()||E.hasNext();)if(E.peekType()==="insert")L.push(E.next());else if(v.peekType()==="delete")L.push(v.next());else{const T=Math.min(v.peekLength(),E.peekLength()),O=v.next(T),I=E.next(T);if(I.retain){const B={};if(typeof O.retain=="number")B.retain=typeof I.retain=="number"?T:I.retain;else if(typeof I.retain=="number")O.retain==null?B.insert=O.insert:B.retain=O.retain;else{const Y=O.retain==null?"insert":"retain",[ut,it,j]=p(O[Y],I.retain),lt=y.getHandler(ut);B[Y]={[ut]:lt.compose(it,j,Y==="retain")}}const F=a.default.compose(O.attributes,I.attributes,typeof O.retain=="number");if(F&&(B.attributes=F),L.push(B),!E.hasNext()&&l(L.ops[L.ops.length-1],B)){const Y=new y(v.rest());return L.concat(Y).chop()}}else typeof I.delete=="number"&&(typeof O.retain=="number"||typeof O.retain=="object"&&O.retain!==null)&&L.push(I)}return L.chop()}concat(b){const v=new y(this.ops.slice());return b.ops.length>0&&(v.push(b.ops[0]),v.ops=v.ops.concat(b.ops.slice(1))),v}diff(b,v){if(this.ops===b.ops)return new y;const E=[this,b].map(O=>O.map(I=>{if(I.insert!=null)return typeof I.insert=="string"?I.insert:f;const B=O===b?"on":"with";throw new Error("diff() called "+B+" non-document")}).join("")),S=new y,A=n(E[0],E[1],v,!0),L=new h.default(this.ops),T=new h.default(b.ops);return A.forEach(O=>{let I=O[1].length;for(;I>0;){let B=0;switch(O[0]){case n.INSERT:B=Math.min(T.peekLength(),I),S.push(T.next(B));break;case n.DELETE:B=Math.min(I,L.peekLength()),L.next(B),S.delete(B);break;case n.EQUAL:B=Math.min(L.peekLength(),T.peekLength(),I);const F=L.next(B),Y=T.next(B);l(F.insert,Y.insert)?S.retain(B,a.default.diff(F.attributes,Y.attributes)):S.push(Y).delete(B);break}I-=B}}),S.chop()}eachLine(b,v=`
`){const E=new h.default(this.ops);let S=new y,A=0;for(;E.hasNext();){if(E.peekType()!=="insert")return;const L=E.peek(),T=c.default.length(L)-E.peekLength(),O=typeof L.insert=="string"?L.insert.indexOf(v,T)-T:-1;if(O<0)S.push(E.next());else if(O>0)S.push(E.next(O));else{if(b(S,E.next(1).attributes||{},A)===!1)return;A+=1,S=new y}}S.length()>0&&b(S,{},A)}invert(b){const v=new y;return this.reduce((E,S)=>{if(S.insert)v.delete(c.default.length(S));else{if(typeof S.retain=="number"&&S.attributes==null)return v.retain(S.retain),E+S.retain;if(S.delete||typeof S.retain=="number"){const A=S.delete||S.retain;return b.slice(E,E+A).forEach(T=>{S.delete?v.push(T):S.retain&&S.attributes&&v.retain(c.default.length(T),a.default.invert(S.attributes,T.attributes))}),E+A}else if(typeof S.retain=="object"&&S.retain!==null){const A=b.slice(E,E+1),L=new h.default(A.ops).next(),[T,O,I]=p(S.retain,L.insert),B=y.getHandler(T);return v.retain({[T]:B.invert(O,I)},a.default.invert(S.attributes,L.attributes)),E+1}}return E},0),v.chop()}transform(b,v=!1){if(v=!!v,typeof b=="number")return this.transformPosition(b,v);const E=b,S=new h.default(this.ops),A=new h.default(E.ops),L=new y;for(;S.hasNext()||A.hasNext();)if(S.peekType()==="insert"&&(v||A.peekType()!=="insert"))L.retain(c.default.length(S.next()));else if(A.peekType()==="insert")L.push(A.next());else{const T=Math.min(S.peekLength(),A.peekLength()),O=S.next(T),I=A.next(T);if(O.delete)continue;if(I.delete)L.push(I);else{const B=O.retain,F=I.retain;let Y=typeof F=="object"&&F!==null?F:T;if(typeof B=="object"&&B!==null&&typeof F=="object"&&F!==null){const ut=Object.keys(B)[0];if(ut===Object.keys(F)[0]){const it=y.getHandler(ut);it&&(Y={[ut]:it.transform(B[ut],F[ut],v)})}}L.retain(Y,a.default.transform(O.attributes,I.attributes,v))}}return L.chop()}transformPosition(b,v=!1){v=!!v;const E=new h.default(this.ops);let S=0;for(;E.hasNext()&&S<=b;){const A=E.peekLength(),L=E.peekType();if(E.next(),L==="delete"){b-=Math.min(A,b-S);continue}else L==="insert"&&(S<b||!v)&&(b+=A);S+=A}return b}}y.Op=c.default,y.OpIterator=h.default,y.AttributeMap=a.default,y.handlers={},t.default=y,e.exports=y,e.exports.default=y})(Vc,Vc.exports);var pr=Vc.exports;const Pt=kg(pr);class kr extends tr{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}kr.blotName="break";kr.tagName="BR";let Or=class extends xl{};function Kl(e){return e.replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[t])}const $r=class $r extends Fu{static compare(t,n){const r=$r.order.indexOf(t),l=$r.order.indexOf(n);return r>=0||l>=0?r-l:t===n?0:t<n?-1:1}formatAt(t,n,r,l){if($r.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Ft.BLOT)){const a=this.isolate(t,n);l&&a.wrap(r,l)}else super.formatAt(t,n,r,l)}optimize(t){if(super.optimize(t),this.parent instanceof $r&&$r.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};z($r,"allowedChildren",[$r,kr,tr,Or]),z($r,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Vr=$r;const Od=1;class Cn extends oo{constructor(){super(...arguments);z(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=vm(this)),this.cache.delta}deleteAt(n,r){super.deleteAt(n,r),this.cache={}}formatAt(n,r,l,a){r<=0||(this.scroll.query(l,Ft.BLOCK)?n+r===this.length()&&this.format(l,a):super.formatAt(n,Math.min(r,this.length()-n-1),l,a),this.cache={})}insertAt(n,r,l){if(l!=null){super.insertAt(n,r,l),this.cache={};return}if(r.length===0)return;const a=r.split(`
`),c=a.shift();c.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),c):this.children.tail.insertAt(this.children.tail.length(),c),this.cache={});let h=this;a.reduce((f,p)=>(h=h.split(f,!0),h.insertAt(0,p),p.length),n+c.length)}insertBefore(n,r){const{head:l}=this.children;super.insertBefore(n,r),l instanceof kr&&l.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Od),this.cache.length}moveChildren(n,r){super.moveChildren(n,r),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(n===0||n>=this.length()-Od)){const a=this.clone();return n===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const l=super.split(n,r);return this.cache={},l}}Cn.blotName="block";Cn.tagName="P";Cn.defaultChild=kr;Cn.allowedChildren=[kr,Vr,tr,Or];class hr extends tr{attach(){super.attach(),this.attributes=new Ul(this.domNode)}delta(){return new Pt().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,n){const r=this.scroll.query(t,Ft.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,n)}formatAt(t,n,r,l){this.format(r,l)}insertAt(t,n,r){if(r!=null){super.insertAt(t,n,r);return}const l=n.split(`
`),a=l.pop(),c=l.map(f=>{const p=this.scroll.create(Cn.blotName);return p.insertAt(0,f),p}),h=this.split(t);c.forEach(f=>{this.parent.insertBefore(f,h)}),a&&this.parent.insertBefore(this.scroll.create("text",a),h)}}hr.scope=Ft.BLOCK_BLOT;function vm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(Rn).reduce((n,r)=>r.length()===0?n:n.insert(r.value(),cr(r,{},t)),new Pt).insert(`
`,cr(e))}function cr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(t={...t,...e.formats()},n&&delete t["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?t:cr(e.parent,t,n)}const ar=class ar extends tr{static value(){}constructor(t,n,r){super(t,n),this.selection=r,this.textNode=document.createTextNode(ar.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,n){if(this.savedLength!==0){super.format(t,n);return}let r=this,l=0;for(;r!=null&&r.statics.scope!==Ft.BLOCK_BLOT;)l+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=ar.CONTENTS.length,r.optimize(),r.formatAt(l,ar.CONTENTS.length,t,n),this.savedLength=0)}index(t,n){return t===this.textNode?0:super.index(t,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof Or?this.prev:null,r=n?n.length():0,l=this.next instanceof Or?this.next:null,a=l?l.text:"",{textNode:c}=this,h=c.data.split(ar.CONTENTS).join("");c.data=ar.CONTENTS;let f;if(n)f=n,(h||l)&&(n.insertAt(n.length(),h+a),l&&l.remove());else if(l)f=l,l.insertAt(0,h);else{const p=document.createTextNode(h);f=this.scroll.create(p),this.parent.insertBefore(f,this)}if(this.remove(),t){const p=(b,v)=>n&&b===n.domNode?v:b===c?r+v-1:l&&b===l.domNode?r+h.length+v:null,y=p(t.start.node,t.start.offset),w=p(t.end.node,t.end.offset);if(y!==null&&w!==null)return{startNode:f.domNode,startOffset:y,endNode:f.domNode,endOffset:w}}return null}update(t,n){if(t.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(n.range=r)}}optimize(t){super.optimize(t);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=ar.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};z(ar,"blotName","cursor"),z(ar,"className","ql-cursor"),z(ar,"tagName","span"),z(ar,"CONTENTS","\uFEFF");let bi=ar;var wm={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function l(f,p,y){this.fn=f,this.context=p,this.once=y||!1}function a(f,p,y,w,b){if(typeof y!="function")throw new TypeError("The listener must be a function");var v=new l(y,w||f,b),E=n?n+p:p;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],v]:f._events[E].push(v):(f._events[E]=v,f._eventsCount++),f}function c(f,p){--f._eventsCount===0?f._events=new r:delete f._events[p]}function h(){this._events=new r,this._eventsCount=0}h.prototype.eventNames=function(){var p=[],y,w;if(this._eventsCount===0)return p;for(w in y=this._events)t.call(y,w)&&p.push(n?w.slice(1):w);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(y)):p},h.prototype.listeners=function(p){var y=n?n+p:p,w=this._events[y];if(!w)return[];if(w.fn)return[w.fn];for(var b=0,v=w.length,E=new Array(v);b<v;b++)E[b]=w[b].fn;return E},h.prototype.listenerCount=function(p){var y=n?n+p:p,w=this._events[y];return w?w.fn?1:w.length:0},h.prototype.emit=function(p,y,w,b,v,E){var S=n?n+p:p;if(!this._events[S])return!1;var A=this._events[S],L=arguments.length,T,O;if(A.fn){switch(A.once&&this.removeListener(p,A.fn,void 0,!0),L){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,y),!0;case 3:return A.fn.call(A.context,y,w),!0;case 4:return A.fn.call(A.context,y,w,b),!0;case 5:return A.fn.call(A.context,y,w,b,v),!0;case 6:return A.fn.call(A.context,y,w,b,v,E),!0}for(O=1,T=new Array(L-1);O<L;O++)T[O-1]=arguments[O];A.fn.apply(A.context,T)}else{var I=A.length,B;for(O=0;O<I;O++)switch(A[O].once&&this.removeListener(p,A[O].fn,void 0,!0),L){case 1:A[O].fn.call(A[O].context);break;case 2:A[O].fn.call(A[O].context,y);break;case 3:A[O].fn.call(A[O].context,y,w);break;case 4:A[O].fn.call(A[O].context,y,w,b);break;default:if(!T)for(B=1,T=new Array(L-1);B<L;B++)T[B-1]=arguments[B];A[O].fn.apply(A[O].context,T)}}return!0},h.prototype.on=function(p,y,w){return a(this,p,y,w,!1)},h.prototype.once=function(p,y,w){return a(this,p,y,w,!0)},h.prototype.removeListener=function(p,y,w,b){var v=n?n+p:p;if(!this._events[v])return this;if(!y)return c(this,v),this;var E=this._events[v];if(E.fn)E.fn===y&&(!b||E.once)&&(!w||E.context===w)&&c(this,v);else{for(var S=0,A=[],L=E.length;S<L;S++)(E[S].fn!==y||b&&!E[S].once||w&&E[S].context!==w)&&A.push(E[S]);A.length?this._events[v]=A.length===1?A[0]:A:c(this,v)}return this},h.prototype.removeAllListeners=function(p){var y;return p?(y=n?n+p:p,this._events[y]&&c(this,y)):(this._events=new r,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=n,h.EventEmitter=h,e.exports=h})(wm);var GN=wm.exports;const ZN=kg(GN),Gc=new WeakMap,Zc=["error","warn","log","info"];let Xc="warn";function xm(e){if(Xc&&Zc.indexOf(e)<=Zc.indexOf(Xc)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console[e](...n)}}function ss(e){return Zc.reduce((t,n)=>(t[n]=xm.bind(console,n,e),t),{})}ss.level=e=>{Xc=e};xm.level=ss.level;const Qa=ss("quill:events"),XN=["selectionchange","mousedown","mouseup","click"];XN.forEach(e=>{document.addEventListener(e,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(l=>{const a=Gc.get(l);a&&a.emitter&&a.emitter.handleDOM(...n)})})});class Rt extends ZN{constructor(){super(),this.domListeners={},this.on("error",Qa.error)}emit(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Qa.log.call(Qa,...n),super.emit(...n)}handleDOM(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),l=1;l<n;l++)r[l-1]=arguments[l];(this.domListeners[t.type]||[]).forEach(a=>{let{node:c,handler:h}=a;(t.target===c||c.contains(t.target))&&h(t,...r)})}listenDOM(t,n,r){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:n,handler:r})}}z(Rt,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),z(Rt,"sources",{API:"api",SILENT:"silent",USER:"user"});const tc=ss("quill:selection");class Fs{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=n}}class JN{constructor(t,n){this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Fs(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Rt.sources.USER),1)}),this.emitter.on(Rt.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(Rt.events.SCROLL_UPDATE,(l,a)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const c=a.some(h=>h.type==="characterData"||h.type==="childList"||h.type==="attributes"&&h.target===this.root);this.update(c?Rt.sources.SILENT:l)}catch{}})}),this.emitter.on(Rt.events.SCROLL_OPTIMIZE,(r,l)=>{if(l.range){const{startNode:a,startOffset:c,endNode:h,endOffset:f}=l.range;this.setNativeRange(a,c,h,f),this.update(Rt.sources.SILENT)}}),this.update(Rt.sources.SILENT)}handleComposition(){this.emitter.on(Rt.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Rt.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Rt.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,n){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(t,Ft.BLOCK))){if(r.start.node!==this.cursor.textNode){const l=this.scroll.find(r.start.node,!1);if(l==null)return;if(l instanceof Rn){const a=l.split(r.start.offset);l.parent.insertBefore(this.cursor,a)}else l.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(t,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();t=Math.min(t,r-1),n=Math.min(t+n,r-1)-t;let l,[a,c]=this.scroll.leaf(t);if(a==null)return null;if(n>0&&c===a.length()){const[y]=this.scroll.leaf(t+1);if(y){const[w]=this.scroll.line(t),[b]=this.scroll.line(t+1);w===b&&(a=y,c=0)}}[l,c]=a.position(c,!0);const h=document.createRange();if(n>0)return h.setStart(l,c),[a,c]=this.scroll.leaf(t+n),a==null?null:([l,c]=a.position(c,!0),h.setEnd(l,c),h.getBoundingClientRect());let f="left",p;if(l instanceof Text){if(!l.data.length)return null;c<l.data.length?(h.setStart(l,c),h.setEnd(l,c+1)):(h.setStart(l,c-1),h.setEnd(l,c),f="right"),p=h.getBoundingClientRect()}else{if(!(a.domNode instanceof Element))return null;p=a.domNode.getBoundingClientRect(),c>0&&(f="right")}return{bottom:p.top+p.height,height:p.height,left:p[f],right:p[f],top:p.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const n=t.getRangeAt(0);if(n==null)return null;const r=this.normalizeNative(n);return tc.info("getNativeRange",r),r}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&ec(this.root,document.activeElement)}normalizedToRange(t){const n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);const r=n.map(c=>{const[h,f]=c,p=this.scroll.find(h,!0),y=p.offset(this.scroll);return f===0?y:p instanceof Rn?y+p.index(h,f):y+p.length()}),l=Math.min(Math.max(...r),this.scroll.length()-1),a=Math.min(l,...r);return new Fs(a,l-a)}normalizeNative(t){if(!ec(this.root,t.startContainer)||!t.collapsed&&!ec(this.root,t.endContainer))return null;const n={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[n.start,n.end].forEach(r=>{let{node:l,offset:a}=r;for(;!(l instanceof Text)&&l.childNodes.length>0;)if(l.childNodes.length>a)l=l.childNodes[a],a=0;else if(l.childNodes.length===a)l=l.lastChild,l instanceof Text?a=l.data.length:l.childNodes.length>0?a=l.childNodes.length:a=l.childNodes.length+1;else break;r.node=l,r.offset=a}),n}rangeToNative(t){const n=this.scroll.length(),r=(l,a)=>{l=Math.min(n-1,l);const[c,h]=this.scroll.leaf(l);return c?c.position(h,a):[null,-1]};return[...r(t.index,!1),...r(t.index+t.length,!0)]}setNativeRange(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(tc.info("setNativeRange",t,n,r,l),t!=null&&(this.root.parentNode==null||t.parentNode==null||r.parentNode==null))return;const c=document.getSelection();if(c!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:h}=this.getNativeRange()||{};if(h==null||a||t!==h.startContainer||n!==h.startOffset||r!==h.endContainer||l!==h.endOffset){t instanceof Element&&t.tagName==="BR"&&(n=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),r instanceof Element&&r.tagName==="BR"&&(l=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const f=document.createRange();f.setStart(t,n),f.setEnd(r,l),c.removeAllRanges(),c.addRange(f)}}else c.removeAllRanges(),this.root.blur()}setRange(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rt.sources.API;if(typeof n=="string"&&(r=n,n=!1),tc.info("setRange",t),t!=null){const l=this.rangeToNative(t);this.setNativeRange(...l,n)}else this.setNativeRange(null);this.update(r)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rt.sources.USER;const n=this.lastRange,[r,l]=this.getRange();if(this.lastRange=r,this.lastNative=l,this.lastRange!=null&&(this.savedRange=this.lastRange),!Uu(n,this.lastRange)){if(!this.composing&&l!=null&&l.native.collapsed&&l.start.node!==this.cursor.textNode){const c=this.cursor.restore();c&&this.setNativeRange(c.startNode,c.startOffset,c.endNode,c.endOffset)}const a=[Rt.events.SELECTION_CHANGE,ui(this.lastRange),ui(n),t];this.emitter.emit(Rt.events.EDITOR_CHANGE,...a),t!==Rt.sources.SILENT&&this.emitter.emit(...a)}}}function ec(e,t){try{t.parentNode}catch{return!1}return e.contains(t)}const YN=/^[ -~]*$/;class QN{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const r=Ld(t),l=new Pt;return e2(r.ops.slice()).reduce((c,h)=>{const f=pr.Op.length(h);let p=h.attributes||{},y=!1,w=!1;if(h.insert!=null){if(l.retain(f),typeof h.insert=="string"){const E=h.insert;w=!E.endsWith(`
`)&&(n<=c||!!this.scroll.descendant(hr,c)[0]),this.scroll.insertAt(c,E);const[S,A]=this.scroll.line(c);let L=ms({},cr(S));if(S instanceof Cn){const[T]=S.descendant(Rn,A);T&&(L=ms(L,cr(T)))}p=pr.AttributeMap.diff(L,p)||{}}else if(typeof h.insert=="object"){const E=Object.keys(h.insert)[0];if(E==null)return c;const S=this.scroll.query(E,Ft.INLINE)!=null;if(S)(n<=c||this.scroll.descendant(hr,c)[0])&&(w=!0);else if(c>0){const[A,L]=this.scroll.descendant(Rn,c-1);A instanceof Or?A.value()[L]!==`
`&&(y=!0):A instanceof tr&&A.statics.scope===Ft.INLINE_BLOT&&(y=!0)}if(this.scroll.insertAt(c,E,h.insert[E]),S){const[A]=this.scroll.descendant(Rn,c);if(A){const L=ms({},cr(A));p=pr.AttributeMap.diff(L,p)||{}}}}n+=f}else if(l.push(h),h.retain!==null&&typeof h.retain=="object"){const E=Object.keys(h.retain)[0];if(E==null)return c;this.scroll.updateEmbedAt(c,E,h.retain[E])}Object.keys(p).forEach(E=>{this.scroll.formatAt(c,f,E,p[E])});const b=y?1:0,v=w?1:0;return n+=b+v,l.retain(b),l.delete(v),c+f+b+v},0),l.reduce((c,h)=>typeof h.delete=="number"?(this.scroll.deleteAt(c,h.delete),c):c+pr.Op.length(h),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(t,n){return this.scroll.deleteAt(t,n),this.update(new Pt().retain(t).delete(n))}formatLine(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(a=>{this.scroll.lines(t,Math.max(n,1)).forEach(c=>{c.format(a,r[a])})}),this.scroll.optimize();const l=new Pt().retain(t).retain(n,ui(r));return this.update(l)}formatText(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(a=>{this.scroll.formatAt(t,n,a,r[a])});const l=new Pt().retain(t).retain(n,ui(r));return this.update(l)}getContents(t,n){return this.delta.slice(t,t+n)}getDelta(){return this.scroll.lines().reduce((t,n)=>t.concat(n.delta()),new Pt)}getFormat(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],l=[];n===0?this.scroll.path(t).forEach(h=>{const[f]=h;f instanceof Cn?r.push(f):f instanceof Rn&&l.push(f)}):(r=this.scroll.lines(t,n),l=this.scroll.descendants(Rn,t,n));const[a,c]=[r,l].map(h=>{const f=h.shift();if(f==null)return{};let p=cr(f);for(;Object.keys(p).length>0;){const y=h.shift();if(y==null)return p;p=t2(cr(y),p)}return p});return{...a,...c}}getHTML(t,n){const[r,l]=this.scroll.line(t);if(r){const a=r.length();return r.length()>=l+n&&!(l===0&&n===a)?ao(r,l,n,!0):ao(this.scroll,t,n,!0)}return""}getText(t,n){return this.getContents(t,n).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(t,n){const r=Ld(n),l=new Pt().retain(t).concat(r);return this.scroll.insertContents(t,r),this.update(l)}insertEmbed(t,n,r){return this.scroll.insertAt(t,n,r),this.update(new Pt().retain(t).insert({[n]:r}))}insertText(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,n),Object.keys(r).forEach(l=>{this.scroll.formatAt(t,n.length,l,r[l])}),this.update(new Pt().retain(t).insert(n,ui(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==Cn.blotName)return!1;const n=t;return n.children.length>1?!1:n.children.head instanceof kr}removeFormat(t,n){const r=this.getText(t,n),[l,a]=this.scroll.line(t+n);let c=0,h=new Pt;l!=null&&(c=l.length()-a,h=l.delta().slice(a,a+c-1).insert(`
`));const p=this.getContents(t,n+c).diff(new Pt().insert(r).concat(h)),y=new Pt().retain(t).concat(p);return this.applyDelta(y)}update(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const l=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(YN)&&this.scroll.find(n[0].target)){const a=this.scroll.find(n[0].target),c=cr(a),h=a.offset(this.scroll),f=n[0].oldValue.replace(bi.CONTENTS,""),p=new Pt().insert(f),y=new Pt().insert(a.value()),w=r&&{oldRange:Cd(r.oldRange,-h),newRange:Cd(r.newRange,-h)};t=new Pt().retain(h).concat(p.diff(y,w)).reduce((v,E)=>E.insert?v.insert(E.insert,c):v.push(E),new Pt),this.delta=l.compose(t)}else this.delta=this.getDelta(),(!t||!Uu(l.compose(t),this.delta))&&(t=l.diff(this.delta,r));return t}}function ai(e,t,n){if(e.length===0){const[v]=nc(n.pop());return t<=0?`</li></${v}>`:`</li></${v}>${ai([],t-1,n)}`}const[{child:r,offset:l,length:a,indent:c,type:h},...f]=e,[p,y]=nc(h);if(c>t)return n.push(h),c===t+1?`<${p}><li${y}>${ao(r,l,a)}${ai(f,c,n)}`:`<${p}><li>${ai(e,t+1,n)}`;const w=n[n.length-1];if(c===t&&h===w)return`</li><li${y}>${ao(r,l,a)}${ai(f,c,n)}`;const[b]=nc(n.pop());return`</li></${b}>${ai(e,t-1,n)}`}function ao(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(t,n);if(e instanceof Or)return Kl(e.value().slice(t,t+n));if(e instanceof Sr){if(e.statics.blotName==="list-container"){const p=[];return e.children.forEachAt(t,n,(y,w,b)=>{const v="formats"in y&&typeof y.formats=="function"?y.formats():{};p.push({child:y,offset:w,length:b,indent:v.indent||0,type:v.list})}),ai(p,-1,[])}const l=[];if(e.children.forEachAt(t,n,(p,y,w)=>{l.push(ao(p,y,w))}),r||e.statics.blotName==="list")return l.join("");const{outerHTML:a,innerHTML:c}=e.domNode,[h,f]=a.split(`>${c}<`);return h==="<table"?`<table style="border: 1px solid #000;">${l.join("")}<${f}`:`${h}>${l.join("")}<${f}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function t2(e,t){return Object.keys(t).reduce((n,r)=>{if(e[r]==null)return n;const l=t[r];return l===e[r]?n[r]=l:Array.isArray(l)?l.indexOf(e[r])<0?n[r]=l.concat([e[r]]):n[r]=l:n[r]=[l,e[r]],n},{})}function nc(e){const t=e==="ordered"?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function Ld(e){return e.reduce((t,n)=>{if(typeof n.insert=="string"){const r=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(r,n.attributes)}return t.push(n)},new Pt)}function Cd(e,t){let{index:n,length:r}=e;return new Fs(n+t,r)}function e2(e){const t=[];return e.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((l,a)=>{a&&t.push({insert:`
`,attributes:n.attributes}),l&&t.push({insert:l,attributes:n.attributes})}):t.push(n)}),t}class Rr{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=n}}z(Rr,"DEFAULTS",{});const Jo="\uFEFF";class Gu extends tr{constructor(t,n){super(t,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(Jo),this.rightGuard=document.createTextNode(Jo),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,n)}restore(t){let n=null,r;const l=t.data.split(Jo).join("");if(t===this.leftGuard)if(this.prev instanceof Or){const a=this.prev.length();this.prev.insertAt(a,l),n={startNode:this.prev.domNode,startOffset:a+l.length}}else r=document.createTextNode(l),this.parent.insertBefore(this.scroll.create(r),this),n={startNode:r,startOffset:l.length};else t===this.rightGuard&&(this.next instanceof Or?(this.next.insertAt(0,l),n={startNode:this.next.domNode,startOffset:l.length}):(r=document.createTextNode(l),this.parent.insertBefore(this.scroll.create(r),this.next),n={startNode:r,startOffset:l.length}));return t.data=Jo,n}update(t,n){t.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const l=this.restore(r.target);l&&(n.range=l)}})}}class n2{constructor(t,n){z(this,"isComposing",!1);this.scroll=t,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const n=t.target instanceof Node?this.scroll.find(t.target,!0):null;n&&!(n instanceof Gu)&&(this.emitter.emit(Rt.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(Rt.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(Rt.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(Rt.events.COMPOSITION_END,t),this.isComposing=!1}}const Yi=class Yi{constructor(t,n){z(this,"modules",{});this.quill=t,this.options=n}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const n=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new n(this.quill,this.options.modules[t]||{}),this.modules[t]}};z(Yi,"DEFAULTS",{modules:{}}),z(Yi,"themes",{default:Yi});let yi=Yi;const r2=e=>e.parentElement||e.getRootNode().host||null,s2=e=>{const t=e.getBoundingClientRect(),n="offsetWidth"in e&&Math.abs(t.width)/e.offsetWidth||1,r="offsetHeight"in e&&Math.abs(t.height)/e.offsetHeight||1;return{top:t.top,right:t.left+e.clientWidth*n,bottom:t.top+e.clientHeight*r,left:t.left}},Yo=e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},qd=(e,t,n,r,l,a)=>e<n&&t>r?0:e<n?-(n-e+l):t>r?t-e>r-n?e+l-n:t-r+a:0,i2=(e,t)=>{var a,c,h;const n=e.ownerDocument;let r=t,l=e;for(;l;){const f=l===n.body,p=f?{top:0,right:((a=window.visualViewport)==null?void 0:a.width)??n.documentElement.clientWidth,bottom:((c=window.visualViewport)==null?void 0:c.height)??n.documentElement.clientHeight,left:0}:s2(l),y=getComputedStyle(l),w=qd(r.left,r.right,p.left,p.right,Yo(y.scrollPaddingLeft),Yo(y.scrollPaddingRight)),b=qd(r.top,r.bottom,p.top,p.bottom,Yo(y.scrollPaddingTop),Yo(y.scrollPaddingBottom));if(w||b)if(f)(h=n.defaultView)==null||h.scrollBy(w,b);else{const{scrollLeft:v,scrollTop:E}=l;b&&(l.scrollTop+=b),w&&(l.scrollLeft+=w);const S=l.scrollLeft-v,A=l.scrollTop-E;r={left:r.left-S,top:r.top-A,right:r.right-S,bottom:r.bottom-A}}l=f||y.position==="fixed"?null:r2(l)}},o2=100,l2=["block","break","cursor","inline","scroll","text"],a2=(e,t,n)=>{const r=new mi;return l2.forEach(l=>{const a=t.query(l);a&&r.register(a)}),e.forEach(l=>{let a=t.query(l);a||n.error(`Cannot register "${l}" specified in "formats" config. Are you sure it was registered?`);let c=0;for(;a;)if(r.register(a),a="blotName"in a?a.requiredContainer??null:null,c+=1,c>o2){n.error(`Cycle detected in registering blot requiredContainer: "${l}"`);break}}),r},fi=ss("quill"),Qo=new mi;Sr.uiClass="ql-ui";const Ar=class Ar{static debug(t){t===!0&&(t="log"),ss.level(t)}static find(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Gc.get(t)||Qo.find(t,n)}static import(t){return this.imports[t]==null&&fi.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in t?t.attrName:t.blotName;typeof r=="string"?this.register(`formats/${r}`,t,n):Object.keys(t).forEach(l=>{this.register(l,t[l],n)})}else{const t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!r&&fi.warn(`Overwriting ${t} with`,n),this.imports[t]=n,(t.startsWith("blots/")||t.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&Qo.register(n),typeof n.register=="function"&&n.register(Qo)}}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=c2(t,n),this.container=this.options.container,this.container==null){fi.error("Invalid Quill container",t);return}this.options.debug&&Ar.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Gc.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Rt;const l=Hu.blotName,a=this.options.registry.query(l);if(!a||!("blotName"in a))throw new Error(`Cannot initialize Quill without "${l}" blot`);if(this.scroll=new a(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new QN(this.scroll),this.selection=new JN(this.scroll,this.emitter),this.composition=new n2(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Rt.events.EDITOR_CHANGE,c=>{c===Rt.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Rt.events.SCROLL_UPDATE,(c,h)=>{const f=this.selection.lastRange,[p]=this.selection.getRange(),y=f&&p?{oldRange:f,newRange:p}:void 0;Er.call(this,()=>this.editor.update(null,h,y),c)}),this.emitter.on(Rt.events.SCROLL_EMBED_UPDATE,(c,h)=>{const f=this.selection.lastRange,[p]=this.selection.getRange(),y=f&&p?{oldRange:f,newRange:p}:void 0;Er.call(this,()=>{const w=new Pt().retain(c.offset(this)).retain({[c.statics.blotName]:h});return this.editor.update(w,[],y)},Ar.sources.USER)}),r){const c=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(c)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const r=t;t=document.createElement("div"),t.classList.add(r)}return this.container.insertBefore(t,n),t}blur(){this.selection.setRange(null)}deleteText(t,n,r){return[t,n,,r]=Yr(t,n,r),Er.call(this,()=>this.editor.deleteText(t,n),r,t,-1*n)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const n=t();return this.allowReadOnlyEdits=!1,n}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rt.sources.API;return Er.call(this,()=>{const l=this.getSelection(!0);let a=new Pt;if(l==null)return a;if(this.scroll.query(t,Ft.BLOCK))a=this.editor.formatLine(l.index,l.length,{[t]:n});else{if(l.length===0)return this.selection.format(t,n),a;a=this.editor.formatText(l.index,l.length,{[t]:n})}return this.setSelection(l,Rt.sources.SILENT),a},r)}formatLine(t,n,r,l,a){let c;return[t,n,c,a]=Yr(t,n,r,l,a),Er.call(this,()=>this.editor.formatLine(t,n,c),a,t,0)}formatText(t,n,r,l,a){let c;return[t,n,c,a]=Yr(t,n,r,l,a),Er.call(this,()=>this.editor.formatText(t,n,c),a,t,0)}getBounds(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof t=="number"?r=this.selection.getBounds(t,n):r=this.selection.getBounds(t.index,t.length),!r)return null;const l=this.container.getBoundingClientRect();return{bottom:r.bottom-l.top,height:r.height,left:r.left-l.left,right:r.right-l.left,top:r.top-l.top,width:r.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,n]=Yr(t,n),this.editor.getContents(t,n)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,n):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,n)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(n=n??this.getLength()-t),[t,n]=Yr(t,n),this.editor.getHTML(t,n)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(n=n??this.getLength()-t),[t,n]=Yr(t,n),this.editor.getText(t,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,n,r){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ar.sources.API;return Er.call(this,()=>this.editor.insertEmbed(t,n,r),l,t)}insertText(t,n,r,l,a){let c;return[t,,c,a]=Yr(t,0,r,l,a),Er.call(this,()=>this.editor.insertText(t,n,c),a,t,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,n,r){return[t,n,,r]=Yr(t,n,r),Er.call(this,()=>this.editor.removeFormat(t,n),r,t)}scrollRectIntoView(t){i2(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,n=t&&this.selection.getBounds(t.index,t.length);n&&this.scrollRectIntoView(n)}setContents(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rt.sources.API;return Er.call(this,()=>{t=new Pt(t);const r=this.getLength(),l=this.editor.deleteText(0,r),a=this.editor.insertContents(0,t),c=this.editor.deleteText(this.getLength()-1,1);return l.compose(a).compose(c)},n)}setSelection(t,n,r){t==null?this.selection.setRange(null,n||Ar.sources.API):([t,n,,r]=Yr(t,n,r),this.selection.setRange(new Fs(Math.max(0,t),n),r),r!==Rt.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rt.sources.API;const r=new Pt().insert(t);return this.setContents(r,n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rt.sources.USER;const n=this.scroll.update(t);return this.selection.update(t),n}updateContents(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rt.sources.API;return Er.call(this,()=>(t=new Pt(t),this.editor.applyDelta(t)),n,!0)}};z(Ar,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Qo,theme:"default"}),z(Ar,"events",Rt.events),z(Ar,"sources",Rt.sources),z(Ar,"version","2.0.2"),z(Ar,"imports",{delta:Pt,parchment:IN,"core/module":Rr,"core/theme":yi});let et=Ar;function kd(e){return typeof e=="string"?document.querySelector(e):e}function rc(e){return Object.entries(e??{}).reduce((t,n)=>{let[r,l]=n;return{...t,[r]:l===!0?{}:l}},{})}function Rd(e){return Object.fromEntries(Object.entries(e).filter(t=>t[1]!==void 0))}function c2(e,t){const n=kd(e);if(!n)throw new Error("Invalid Quill container");const l=!t.theme||t.theme===et.DEFAULTS.theme?yi:et.import(`themes/${t.theme}`);if(!l)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:a,...c}=et.DEFAULTS,{modules:h,...f}=l.DEFAULTS;let p=rc(t.modules);p!=null&&p.toolbar&&p.toolbar.constructor!==Object&&(p={...p,toolbar:{container:p.toolbar}});const y=ms({},rc(a),rc(h),p),w={...c,...Rd(f),...Rd(t)};let b=t.registry;return b?t.formats&&fi.warn('Ignoring "formats" option because "registry" is specified'):b=t.formats?a2(t.formats,w.registry,fi):w.registry,{...w,registry:b,container:n,theme:l,modules:Object.entries(y).reduce((v,E)=>{let[S,A]=E;if(!A)return v;const L=et.import(`modules/${S}`);return L==null?(fi.error(`Cannot load ${S} module. Are you sure you registered it?`),v):{...v,[S]:ms({},L.DEFAULTS||{},A)}},{}),bounds:kd(w.bounds)}}function Er(e,t,n,r){if(!this.isEnabled()&&t===Rt.sources.USER&&!this.allowReadOnlyEdits)return new Pt;let l=n==null?null:this.getSelection();const a=this.editor.delta,c=e();if(l!=null&&(n===!0&&(n=l.index),r==null?l=Id(l,c,t):r!==0&&(l=Id(l,n,r,t)),this.setSelection(l,Rt.sources.SILENT)),c.length()>0){const h=[Rt.events.TEXT_CHANGE,c,a,t];this.emitter.emit(Rt.events.EDITOR_CHANGE,...h),t!==Rt.sources.SILENT&&this.emitter.emit(...h)}return c}function Yr(e,t,n,r,l){let a={};return typeof e.index=="number"&&typeof e.length=="number"?typeof t!="number"?(l=r,r=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):typeof t!="number"&&(l=r,r=n,n=t,t=0),typeof n=="object"?(a=n,l=r):typeof n=="string"&&(r!=null?a[n]=r:l=n),l=l||Rt.sources.API,[e,t,a,l]}function Id(e,t,n,r){const l=typeof n=="number"?n:0;if(e==null)return null;let a,c;return t&&typeof t.transformPosition=="function"?[a,c]=[e.index,e.index+e.length].map(h=>t.transformPosition(h,r!==Rt.sources.USER)):[a,c]=[e.index,e.index+e.length].map(h=>h<t||h===t&&r===Rt.sources.USER?h:l>=0?h+l:Math.max(t,h+l)),new Fs(a,c-a)}class Ws extends Fl{}function jd(e){return e instanceof Cn||e instanceof hr}function Bd(e){return typeof e.updateContent=="function"}class ci extends Hu{constructor(t,n,r){let{emitter:l}=r;super(t,n),this.emitter=l,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",a=>this.handleDragStart(a))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(Rt.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(Rt.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,n){this.emitter.emit(Rt.events.SCROLL_EMBED_UPDATE,t,n)}deleteAt(t,n){const[r,l]=this.line(t),[a]=this.line(t+n);if(super.deleteAt(t,n),a!=null&&r!==a&&l>0){if(r instanceof hr||a instanceof hr){this.optimize();return}const c=a.children.head instanceof kr?null:a.children.head;r.moveChildren(a,c),r.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,n,r,l){super.formatAt(t,n,r,l),this.optimize()}insertAt(t,n,r){if(t>=this.length())if(r==null||this.scroll.query(n,Ft.BLOCK)==null){const l=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(l),r==null&&n.endsWith(`
`)?l.insertAt(0,n.slice(0,-1),r):l.insertAt(0,n,r)}else{const l=this.scroll.create(n,r);this.appendChild(l)}else super.insertAt(t,n,r);this.optimize()}insertBefore(t,n){if(t.statics.scope===Ft.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(t),super.insertBefore(r,n)}else super.insertBefore(t,n)}insertContents(t,n){const r=this.deltaToRenderBlocks(n.concat(new Pt().insert(`
`))),l=r.pop();if(l==null)return;this.batchStart();const a=r.shift();if(a){const f=a.type==="block"&&(a.delta.length()===0||!this.descendant(hr,t)[0]&&t<this.length()),p=a.type==="block"?a.delta:new Pt().insert({[a.key]:a.value});sc(this,t,p);const y=a.type==="block"?1:0,w=t+p.length()+y;f&&this.insertAt(w-1,`
`);const b=cr(this.line(t)[0]),v=pr.AttributeMap.diff(b,a.attributes)||{};Object.keys(v).forEach(E=>{this.formatAt(w-1,1,E,v[E])}),t=w}let[c,h]=this.children.find(t);if(r.length&&(c&&(c=c.split(h),h=0),r.forEach(f=>{if(f.type==="block"){const p=this.createBlock(f.attributes,c||void 0);sc(p,0,f.delta)}else{const p=this.create(f.key,f.value);this.insertBefore(p,c||void 0),Object.keys(f.attributes).forEach(y=>{p.format(y,f.attributes[y])})}})),l.type==="block"&&l.delta.length()){const f=c?c.offset(c.scroll)+h:this.length();sc(this,f,l.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const n=this.path(t).pop();if(!n)return[null,-1];const[r,l]=n;return r instanceof Rn?[r,l]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(jd,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(l,a,c)=>{let h=[],f=c;return l.children.forEachAt(a,c,(p,y,w)=>{jd(p)?h.push(p):p instanceof Fl&&(h=h.concat(r(p,y,f))),f-=w}),h};return r(this,t,n)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,n),t.length>0&&this.emitter.emit(Rt.events.SCROLL_OPTIMIZE,t,n))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let n=Rt.sources.USER;typeof t=="string"&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(r=>{let{target:l}=r;const a=this.find(l,!0);return a&&!Bd(a)}),t.length>0&&this.emitter.emit(Rt.events.SCROLL_BEFORE_UPDATE,n,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(Rt.events.SCROLL_UPDATE,n,t)}updateEmbedAt(t,n,r){const[l]=this.descendant(a=>a instanceof hr,t);l&&l.statics.blotName===n&&Bd(l)&&l.updateContent(r)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const n=[];let r=new Pt;return t.forEach(l=>{const a=l==null?void 0:l.insert;if(a)if(typeof a=="string"){const c=a.split(`
`);c.slice(0,-1).forEach(f=>{r.insert(f,l.attributes),n.push({type:"block",delta:r,attributes:l.attributes??{}}),r=new Pt});const h=c[c.length-1];h&&r.insert(h,l.attributes)}else{const c=Object.keys(a)[0];if(!c)return;this.query(c,Ft.INLINE)?r.push(l):(r.length()&&n.push({type:"block",delta:r,attributes:{}}),r=new Pt,n.push({type:"blockEmbed",key:c,value:a[c],attributes:l.attributes??{}}))}}),r.length()&&n.push({type:"block",delta:r,attributes:{}}),n}createBlock(t,n){let r;const l={};Object.entries(t).forEach(h=>{let[f,p]=h;this.query(f,Ft.BLOCK&Ft.BLOT)!=null?r=f:l[f]=p});const a=this.create(r||this.statics.defaultChild.blotName,r?t[r]:void 0);this.insertBefore(a,n||void 0);const c=a.length();return Object.entries(l).forEach(h=>{let[f,p]=h;a.formatAt(0,c,f,p)}),a}}z(ci,"blotName","scroll"),z(ci,"className","ql-editor"),z(ci,"tagName","DIV"),z(ci,"defaultChild",Cn),z(ci,"allowedChildren",[Cn,hr,Ws]);function sc(e,t,n){n.reduce((r,l)=>{const a=pr.Op.length(l);let c=l.attributes||{};if(l.insert!=null){if(typeof l.insert=="string"){const h=l.insert;e.insertAt(r,h);const[f]=e.descendant(Rn,r),p=cr(f);c=pr.AttributeMap.diff(p,c)||{}}else if(typeof l.insert=="object"){const h=Object.keys(l.insert)[0];if(h==null)return r;if(e.insertAt(r,h,l.insert[h]),e.scroll.query(h,Ft.INLINE)!=null){const[p]=e.descendant(Rn,r),y=cr(p);c=pr.AttributeMap.diff(y,c)||{}}}}return Object.keys(c).forEach(h=>{e.formatAt(r,a,h,c[h])}),r+a},t)}const Zu={scope:Ft.BLOCK,whitelist:["right","center","justify"]},u2=new zr("align","align",Zu),Em=new qr("align","ql-align",Zu),Am=new As("align","text-align",Zu);class _m extends As{value(t){let n=super.value(t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(l=>`00${parseInt(l,10).toString(16)}`.slice(-2)).join("")}`):n}}const h2=new qr("color","ql-color",{scope:Ft.INLINE}),Xu=new _m("color","color",{scope:Ft.INLINE}),f2=new qr("background","ql-bg",{scope:Ft.INLINE}),Ju=new _m("background","background-color",{scope:Ft.INLINE});class Gs extends Ws{static create(t){const n=super.create(t);return n.setAttribute("spellcheck","false"),n}code(t,n){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(t,t+n)}html(t,n){return`<pre>
${Kl(this.code(t,n))}
</pre>`}}class In extends Cn{static register(){et.register(Gs)}}z(In,"TAB","  ");class Yu extends Vr{}Yu.blotName="code";Yu.tagName="CODE";In.blotName="code-block";In.className="ql-code-block";In.tagName="DIV";Gs.blotName="code-block-container";Gs.className="ql-code-block-container";Gs.tagName="DIV";Gs.allowedChildren=[In];In.allowedChildren=[Or,kr,bi];In.requiredContainer=Gs;const Qu={scope:Ft.BLOCK,whitelist:["rtl"]},Nm=new zr("direction","dir",Qu),Sm=new qr("direction","ql-direction",Qu),Tm=new As("direction","direction",Qu),Om={scope:Ft.INLINE,whitelist:["serif","monospace"]},Lm=new qr("font","ql-font",Om);class d2 extends As{value(t){return super.value(t).replace(/["']/g,"")}}const Cm=new d2("font","font-family",Om),qm=new qr("size","ql-size",{scope:Ft.INLINE,whitelist:["small","large","huge"]}),km=new As("size","font-size",{scope:Ft.INLINE,whitelist:["10px","18px","32px"]}),p2=ss("quill:keyboard"),g2=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Wl extends Rr{static match(t,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!n[r]!==t[r]&&n[r]!==null)?!1:n.key===t.key||n.key===t.which}constructor(t,n){super(t,n),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const l=b2(t);if(l==null){p2.warn("Attempted to add invalid keyboard binding",l);return}typeof n=="function"&&(n={handler:n}),typeof r=="function"&&(r={handler:r}),(Array.isArray(l.key)?l.key:[l.key]).forEach(c=>{const h={...l,key:c,...n,...r};this.bindings[h.key]=this.bindings[h.key]||[],this.bindings[h.key].push(h)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const l=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(L=>Wl.match(t,L));if(l.length===0)return;const a=et.find(t.target,!0);if(a&&a.scroll!==this.quill.scroll)return;const c=this.quill.getSelection();if(c==null||!this.quill.hasFocus())return;const[h,f]=this.quill.getLine(c.index),[p,y]=this.quill.getLeaf(c.index),[w,b]=c.length===0?[p,y]:this.quill.getLeaf(c.index+c.length),v=p instanceof xl?p.value().slice(0,y):"",E=w instanceof xl?w.value().slice(b):"",S={collapsed:c.length===0,empty:c.length===0&&h.length()<=1,format:this.quill.getFormat(c),line:h,offset:f,prefix:v,suffix:E,event:t};l.some(L=>{if(L.collapsed!=null&&L.collapsed!==S.collapsed||L.empty!=null&&L.empty!==S.empty||L.offset!=null&&L.offset!==S.offset)return!1;if(Array.isArray(L.format)){if(L.format.every(T=>S.format[T]==null))return!1}else if(typeof L.format=="object"&&!Object.keys(L.format).every(T=>L.format[T]===!0?S.format[T]!=null:L.format[T]===!1?S.format[T]==null:Uu(L.format[T],S.format[T])))return!1;return L.prefix!=null&&!L.prefix.test(S.prefix)||L.suffix!=null&&!L.suffix.test(S.suffix)?!1:L.handler.call(this,c,S,L)!==!0})&&t.preventDefault()})}handleBackspace(t,n){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let l={};const[a]=this.quill.getLine(t.index);let c=new Pt().retain(t.index-r).delete(r);if(n.offset===0){const[h]=this.quill.getLine(t.index-1);if(h&&!(h.statics.blotName==="block"&&h.length()<=1)){const p=a.formats(),y=this.quill.getFormat(t.index-1,1);if(l=pr.AttributeMap.diff(p,y)||{},Object.keys(l).length>0){const w=new Pt().retain(t.index+a.length()-2).retain(1,l);c=c.compose(w)}}}this.quill.updateContents(c,et.sources.USER),this.quill.focus()}handleDelete(t,n){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(t.index>=this.quill.getLength()-r)return;let l={};const[a]=this.quill.getLine(t.index);let c=new Pt().retain(t.index).delete(r);if(n.offset>=a.length()-1){const[h]=this.quill.getLine(t.index+1);if(h){const f=a.formats(),p=this.quill.getFormat(t.index,1);l=pr.AttributeMap.diff(f,p)||{},Object.keys(l).length>0&&(c=c.retain(h.length()-1).retain(1,l))}}this.quill.updateContents(c,et.sources.USER),this.quill.focus()}handleDeleteRange(t){th({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,n){const r=Object.keys(n.format).reduce((a,c)=>(this.quill.scroll.query(c,Ft.BLOCK)&&!Array.isArray(n.format[c])&&(a[c]=n.format[c]),a),{}),l=new Pt().retain(t.index).delete(t.length).insert(`
`,r);this.quill.updateContents(l,et.sources.USER),this.quill.setSelection(t.index+1,et.sources.SILENT),this.quill.focus()}}const m2={bindings:{bold:ic("bold"),italic:ic("italic"),underline:ic("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",et.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",et.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,t){t.format.indent!=null?this.quill.format("indent","-1",et.sources.USER):t.format.list!=null&&this.quill.format("list",!1,et.sources.USER)}},"indent code-block":Md(!0),"outdent code-block":Md(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,et.sources.USER)}},tab:{key:"Tab",handler(e,t){if(t.format.table)return!0;this.quill.history.cutoff();const n=new Pt().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(n,et.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,et.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,et.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,t){const n={list:!1};t.format.indent&&(n.indent=!1),this.quill.formatLine(e.index,e.length,n,et.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[t,n]=this.quill.getLine(e.index),r={...t.formats(),list:"checked"},l=new Pt().retain(e.index).insert(`
`,r).retain(t.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(l,et.sources.USER),this.quill.setSelection(e.index+1,et.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,t){const[n,r]=this.quill.getLine(e.index),l=new Pt().retain(e.index).insert(`
`,t.format).retain(n.length()-r-1).retain(1,{header:null});this.quill.updateContents(l,et.sources.USER),this.quill.setSelection(e.index+1,et.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const t=this.quill.getModule("table");if(t){const[n,r,l,a]=t.getTable(e),c=y2(n,r,l,a);if(c==null)return;let h=n.offset();if(c<0){const f=new Pt().retain(h).insert(`
`);this.quill.updateContents(f,et.sources.USER),this.quill.setSelection(e.index+1,e.length,et.sources.SILENT)}else if(c>0){h+=n.length();const f=new Pt().retain(h).insert(`
`);this.quill.updateContents(f,et.sources.USER),this.quill.setSelection(h,et.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,t){const{event:n,line:r}=t,l=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(l-1,et.sources.USER):this.quill.setSelection(l+r.length(),et.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=t.prefix,[r,l]=this.quill.getLine(e.index);if(l>n)return!0;let a;switch(t.prefix.trim()){case"[]":case"[ ]":a="unchecked";break;case"[x]":a="checked";break;case"-":case"*":a="bullet";break;default:a="ordered"}this.quill.insertText(e.index," ",et.sources.USER),this.quill.history.cutoff();const c=new Pt().retain(e.index-l).delete(n+1).retain(r.length()-2-l).retain(1,{list:a});return this.quill.updateContents(c,et.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,et.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[t,n]=this.quill.getLine(e.index);let r=2,l=t;for(;l!=null&&l.length()<=1&&l.formats()["code-block"];)if(l=l.prev,r-=1,r<=0){const a=new Pt().retain(e.index+t.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,et.sources.USER),this.quill.setSelection(e.index-1,et.sources.SILENT),!1}return!0}},"embed left":tl("ArrowLeft",!1),"embed left shift":tl("ArrowLeft",!0),"embed right":tl("ArrowRight",!1),"embed right shift":tl("ArrowRight",!0),"table down":Pd(!1),"table up":Pd(!0)}};Wl.DEFAULTS=m2;function Md(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(t,n){let{event:r}=n;const l=this.quill.scroll.query("code-block"),{TAB:a}=l;if(t.length===0&&!r.shiftKey){this.quill.insertText(t.index,a,et.sources.USER),this.quill.setSelection(t.index+a.length,et.sources.SILENT);return}const c=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:h,length:f}=t;c.forEach((p,y)=>{e?(p.insertAt(0,a),y===0?h+=a.length:f+=a.length):p.domNode.textContent.startsWith(a)&&(p.deleteAt(0,a.length),y===0?h-=a.length:f-=a.length)}),this.quill.update(et.sources.USER),this.quill.setSelection(h,f,et.sources.SILENT)}}}function tl(e,t){return{key:e,shiftKey:t,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:l}=r;e==="ArrowRight"&&(l+=r.length+1);const[a]=this.quill.getLeaf(l);return a instanceof tr?(e==="ArrowLeft"?t?this.quill.setSelection(r.index-1,r.length+1,et.sources.USER):this.quill.setSelection(r.index-1,et.sources.USER):t?this.quill.setSelection(r.index,r.length+1,et.sources.USER):this.quill.setSelection(r.index+r.length+1,et.sources.USER),!1):!0}}}function ic(e){return{key:e[0],shortKey:!0,handler(t,n){this.quill.format(e,!n.format[e],et.sources.USER)}}}function Pd(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,n){const r=e?"prev":"next",l=n.line,a=l.parent[r];if(a!=null){if(a.statics.blotName==="table-row"){let c=a.children.head,h=l;for(;h.prev!=null;)h=h.prev,c=c.next;const f=c.offset(this.quill.scroll)+Math.min(n.offset,c.length()-1);this.quill.setSelection(f,0,et.sources.USER)}}else{const c=l.table()[r];c!=null&&(e?this.quill.setSelection(c.offset(this.quill.scroll)+c.length()-1,0,et.sources.USER):this.quill.setSelection(c.offset(this.quill.scroll),0,et.sources.USER))}return!1}}}function b2(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=ui(e);else return null;return e.shortKey&&(e[g2]=e.shortKey,delete e.shortKey),e}function th(e){let{quill:t,range:n}=e;const r=t.getLines(n);let l={};if(r.length>1){const a=r[0].formats(),c=r[r.length-1].formats();l=pr.AttributeMap.diff(c,a)||{}}t.deleteText(n,et.sources.USER),Object.keys(l).length>0&&t.formatLine(n.index,1,l,et.sources.USER),t.setSelection(n.index,et.sources.SILENT)}function y2(e,t,n,r){return t.prev==null&&t.next==null?n.prev==null&&n.next==null?r===0?-1:1:n.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const v2=/font-weight:\s*normal/,w2=["P","OL","UL"],Dd=e=>e&&w2.includes(e.tagName),x2=e=>{Array.from(e.querySelectorAll("br")).filter(t=>Dd(t.previousElementSibling)&&Dd(t.nextElementSibling)).forEach(t=>{var n;(n=t.parentNode)==null||n.removeChild(t)})},E2=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var n;return(n=t.getAttribute("style"))==null?void 0:n.match(v2)}).forEach(t=>{var r;const n=e.createDocumentFragment();n.append(...t.childNodes),(r=t.parentNode)==null||r.replaceChild(n,t)})};function A2(e){e.querySelector('[id^="docs-internal-guid-"]')&&(E2(e),x2(e))}const _2=/\bmso-list:[^;]*ignore/i,N2=/\bmso-list:[^;]*\bl(\d+)/i,S2=/\bmso-list:[^;]*\blevel(\d+)/i,T2=(e,t)=>{const n=e.getAttribute("style"),r=n==null?void 0:n.match(N2);if(!r)return null;const l=Number(r[1]),a=n==null?void 0:n.match(S2),c=a?Number(a[1]):1,h=new RegExp(`@list l${l}:level${c}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),f=t.match(h),p=f&&f[1]==="bullet"?"bullet":"ordered";return{id:l,indent:c,type:p,element:e}},O2=e=>{var c,h;const t=Array.from(e.querySelectorAll("[style*=mso-list]")),n=[],r=[];t.forEach(f=>{(f.getAttribute("style")||"").match(_2)?n.push(f):r.push(f)}),n.forEach(f=>{var p;return(p=f.parentNode)==null?void 0:p.removeChild(f)});const l=e.documentElement.innerHTML,a=r.map(f=>T2(f,l)).filter(f=>f);for(;a.length;){const f=[];let p=a.shift();for(;p;)f.push(p),p=a.length&&((c=a[0])==null?void 0:c.element)===p.element.nextElementSibling&&a[0].id===p.id?a.shift():null;const y=document.createElement("ul");f.forEach(v=>{const E=document.createElement("li");E.setAttribute("data-list",v.type),v.indent>1&&E.setAttribute("class",`ql-indent-${v.indent-1}`),E.innerHTML=v.element.innerHTML,y.appendChild(E)});const w=(h=f[0])==null?void 0:h.element,{parentNode:b}=w??{};w&&(b==null||b.replaceChild(y,w)),f.slice(1).forEach(v=>{let{element:E}=v;b==null||b.removeChild(E)})}};function L2(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&O2(e)}const C2=[L2,A2],q2=e=>{e.documentElement&&C2.forEach(t=>{t(e)})},k2=ss("quill:clipboard"),R2=[[Node.TEXT_NODE,V2],[Node.TEXT_NODE,Ud],["br",P2],[Node.ELEMENT_NODE,Ud],[Node.ELEMENT_NODE,M2],[Node.ELEMENT_NODE,B2],[Node.ELEMENT_NODE,H2],["li",U2],["ol, ul",F2],["pre",D2],["tr",z2],["b",oc("bold")],["i",oc("italic")],["strike",oc("strike")],["style",$2]],I2=[u2,Nm].reduce((e,t)=>(e[t.keyName]=t,e),{}),$d=[Am,Ju,Xu,Tm,Cm,km].reduce((e,t)=>(e[t.keyName]=t,e),{});class Rm extends Rr{constructor(t,n){super(t,n),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],R2.concat(this.options.matchers??[]).forEach(r=>{let[l,a]=r;this.addMatcher(l,a)})}addMatcher(t,n){this.matchers.push([t,n])}convert(t){let{html:n,text:r}=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(l[In.blotName])return new Pt().insert(r||"",{[In.blotName]:l[In.blotName]});if(!n)return new Pt().insert(r||"",l);const a=this.convertHTML(n);return vo(a,`
`)&&(a.ops[a.ops.length-1].attributes==null||l.table)?a.compose(new Pt().retain(a.length()-1).delete(1)):a}normalizeHTML(t){q2(t)}convertHTML(t){const n=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(n);const r=n.body,l=new WeakMap,[a,c]=this.prepareMatching(r,l);return eh(this.quill.scroll,r,a,c,l)}dangerouslyPasteHTML(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:et.sources.API;if(typeof t=="string"){const l=this.convert({html:t,text:""});this.quill.setContents(l,n),this.quill.setSelection(0,et.sources.SILENT)}else{const l=this.convert({html:n,text:""});this.quill.updateContents(new Pt().retain(t).concat(l),r),this.quill.setSelection(t+l.length(),et.sources.SILENT)}}onCaptureCopy(t){var c,h;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:l,text:a}=this.onCopy(r,n);(c=t.clipboardData)==null||c.setData("text/plain",a),(h=t.clipboardData)==null||h.setData("text/html",l),n&&th({range:r,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(t){var c,h,f,p,y;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const r=(c=t.clipboardData)==null?void 0:c.getData("text/html");let l=(h=t.clipboardData)==null?void 0:h.getData("text/plain");if(!r&&!l){const w=(f=t.clipboardData)==null?void 0:f.getData("text/uri-list");w&&(l=this.normalizeURIList(w))}const a=Array.from(((p=t.clipboardData)==null?void 0:p.files)||[]);if(!r&&a.length>0){this.quill.uploader.upload(n,a);return}if(r&&a.length>0){const w=new DOMParser().parseFromString(r,"text/html");if(w.body.childElementCount===1&&((y=w.body.firstElementChild)==null?void 0:y.tagName)==="IMG"){this.quill.uploader.upload(n,a);return}}this.onPaste(n,{html:r,text:l})}onCopy(t){const n=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:n}}onPaste(t,n){let{text:r,html:l}=n;const a=this.quill.getFormat(t.index),c=this.convert({text:r,html:l},a);k2.log("onPaste",c,{text:r,html:l});const h=new Pt().retain(t.index).delete(t.length).concat(c);this.quill.updateContents(h,et.sources.USER),this.quill.setSelection(h.length()-t.length,et.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,n){const r=[],l=[];return this.matchers.forEach(a=>{const[c,h]=a;switch(c){case Node.TEXT_NODE:l.push(h);break;case Node.ELEMENT_NODE:r.push(h);break;default:Array.from(t.querySelectorAll(c)).forEach(f=>{if(n.has(f)){const p=n.get(f);p==null||p.push(h)}else n.set(f,[h])});break}}),[r,l]}}z(Rm,"DEFAULTS",{matchers:[]});function Zs(e,t,n,r){return r.query(t)?e.reduce((l,a)=>{if(!a.insert)return l;if(a.attributes&&a.attributes[t])return l.push(a);const c=n?{[t]:n}:{};return l.insert(a.insert,{...c,...a.attributes})},new Pt):e}function vo(e,t){let n="";for(let r=e.ops.length-1;r>=0&&n.length<t.length;--r){const l=e.ops[r];if(typeof l.insert!="string")break;n=l.insert+n}return n.slice(-1*t.length)===t}function ps(e,t){if(!(e instanceof Element))return!1;const n=t.query(e);return n&&n.prototype instanceof tr?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function j2(e,t){return e.previousElementSibling&&e.nextElementSibling&&!ps(e.previousElementSibling,t)&&!ps(e.nextElementSibling,t)}const el=new WeakMap;function Im(e){return e==null?!1:(el.has(e)||(e.tagName==="PRE"?el.set(e,!0):el.set(e,Im(e.parentNode))),el.get(e))}function eh(e,t,n,r,l){return t.nodeType===t.TEXT_NODE?r.reduce((a,c)=>c(t,a,e),new Pt):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((a,c)=>{let h=eh(e,c,n,r,l);return c.nodeType===t.ELEMENT_NODE&&(h=n.reduce((f,p)=>p(c,f,e),h),h=(l.get(c)||[]).reduce((f,p)=>p(c,f,e),h)),a.concat(h)},new Pt):new Pt}function oc(e){return(t,n,r)=>Zs(n,e,!0,r)}function B2(e,t,n){const r=zr.keys(e),l=qr.keys(e),a=As.keys(e),c={};return r.concat(l).concat(a).forEach(h=>{let f=n.query(h,Ft.ATTRIBUTE);f!=null&&(c[f.attrName]=f.value(e),c[f.attrName])||(f=I2[h],f!=null&&(f.attrName===h||f.keyName===h)&&(c[f.attrName]=f.value(e)||void 0),f=$d[h],f!=null&&(f.attrName===h||f.keyName===h)&&(f=$d[h],c[f.attrName]=f.value(e)||void 0))}),Object.entries(c).reduce((h,f)=>{let[p,y]=f;return Zs(h,p,y,n)},t)}function M2(e,t,n){const r=n.query(e);if(r==null)return t;if(r.prototype instanceof tr){const l={},a=r.value(e);if(a!=null)return l[r.blotName]=a,new Pt().insert(l,r.formats(e,n))}else if(r.prototype instanceof oo&&!vo(t,`
`)&&t.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Zs(t,r.blotName,r.formats(e,n),n);return t}function P2(e,t){return vo(t,`
`)||t.insert(`
`),t}function D2(e,t,n){const r=n.query("code-block"),l=r&&"formats"in r&&typeof r.formats=="function"?r.formats(e,n):!0;return Zs(t,"code-block",l,n)}function $2(){return new Pt}function U2(e,t,n){const r=n.query(e);if(r==null||r.blotName!=="list"||!vo(t,`
`))return t;let l=-1,a=e.parentNode;for(;a!=null;)["OL","UL"].includes(a.tagName)&&(l+=1),a=a.parentNode;return l<=0?t:t.reduce((c,h)=>h.insert?h.attributes&&typeof h.attributes.indent=="number"?c.push(h):c.insert(h.insert,{indent:l,...h.attributes||{}}):c,new Pt)}function F2(e,t,n){const r=e;let l=r.tagName==="OL"?"ordered":"bullet";const a=r.getAttribute("data-checked");return a&&(l=a==="true"?"checked":"unchecked"),Zs(t,"list",l,n)}function Ud(e,t,n){if(!vo(t,`
`)){if(ps(e,n)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&e.nextSibling){let r=e.nextSibling;for(;r!=null;){if(ps(r,n))return t.insert(`
`);const l=n.query(r);if(l&&l.prototype instanceof hr)return t.insert(`
`);r=r.firstChild}}}return t}function H2(e,t,n){var a;const r={},l=e.style||{};return l.fontStyle==="italic"&&(r.italic=!0),l.textDecoration==="underline"&&(r.underline=!0),l.textDecoration==="line-through"&&(r.strike=!0),((a=l.fontWeight)!=null&&a.startsWith("bold")||parseInt(l.fontWeight,10)>=700)&&(r.bold=!0),t=Object.entries(r).reduce((c,h)=>{let[f,p]=h;return Zs(c,f,p,n)},t),parseFloat(l.textIndent||0)>0?new Pt().insert("	").concat(t):t}function z2(e,t,n){var l,a;const r=((l=e.parentElement)==null?void 0:l.tagName)==="TABLE"?e.parentElement:(a=e.parentElement)==null?void 0:a.parentElement;if(r!=null){const h=Array.from(r.querySelectorAll("tr")).indexOf(e)+1;return Zs(t,"table",h,n)}return t}function V2(e,t,n){var l;let r=e.data;if(((l=e.parentElement)==null?void 0:l.tagName)==="O:P")return t.insert(r.trim());if(!Im(e)){if(r.trim().length===0&&r.includes(`
`)&&!j2(e,n))return t;const a=(c,h)=>{const f=h.replace(/[^\u00a0]/g,"");return f.length<1&&c?" ":f};r=r.replace(/\r\n/g," ").replace(/\n/g," "),r=r.replace(/\s\s+/g,a.bind(a,!0)),(e.previousSibling==null&&e.parentElement!=null&&ps(e.parentElement,n)||e.previousSibling instanceof Element&&ps(e.previousSibling,n))&&(r=r.replace(/^\s+/,a.bind(a,!1))),(e.nextSibling==null&&e.parentElement!=null&&ps(e.parentElement,n)||e.nextSibling instanceof Element&&ps(e.nextSibling,n))&&(r=r.replace(/\s+$/,a.bind(a,!1)))}return t.insert(r)}class jm extends Rr{constructor(n,r){super(n,r);z(this,"lastRecorded",0);z(this,"ignoreChange",!1);z(this,"stack",{undo:[],redo:[]});z(this,"currentRange",null);this.quill.on(et.events.EDITOR_CHANGE,(l,a,c,h)=>{l===et.events.SELECTION_CHANGE?a&&h!==et.sources.SILENT&&(this.currentRange=a):l===et.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||h===et.sources.USER?this.record(a,c):this.transform(a)),this.currentRange=Jc(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",l=>{l.inputType==="historyUndo"?(this.undo(),l.preventDefault()):l.inputType==="historyRedo"&&(this.redo(),l.preventDefault())})}change(n,r){if(this.stack[n].length===0)return;const l=this.stack[n].pop();if(!l)return;const a=this.quill.getContents(),c=l.delta.invert(a);this.stack[r].push({delta:c,range:Jc(l.range,c)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(l.delta,et.sources.USER),this.ignoreChange=!1,this.restoreSelection(l)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,r){if(n.ops.length===0)return;this.stack.redo=[];let l=n.invert(r),a=this.currentRange;const c=Date.now();if(this.lastRecorded+this.options.delay>c&&this.stack.undo.length>0){const h=this.stack.undo.pop();h&&(l=l.compose(h.delta),a=h.range)}else this.lastRecorded=c;l.length()!==0&&(this.stack.undo.push({delta:l,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){Fd(this.stack.undo,n),Fd(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,et.sources.USER);else{const r=W2(this.quill.scroll,n.delta);this.quill.setSelection(r,et.sources.USER)}}}z(jm,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function Fd(e,t){let n=t;for(let r=e.length-1;r>=0;r-=1){const l=e[r];e[r]={delta:n.transform(l.delta,!0),range:l.range&&Jc(l.range,n)},n=l.delta.transform(n),e[r].delta.length()===0&&e.splice(r,1)}}function K2(e,t){const n=t.ops[t.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(r=>e.query(r,Ft.BLOCK)!=null):!1}function W2(e,t){const n=t.reduce((l,a)=>l+(a.delete||0),0);let r=t.length()-n;return K2(e,t)&&(r-=1),r}function Jc(e,t){if(!e)return e;const n=t.transformPosition(e.index),r=t.transformPosition(e.index+e.length);return{index:n,length:r-n}}class Bm extends Rr{constructor(t,n){super(t,n),t.root.addEventListener("drop",r=>{var c;r.preventDefault();let l=null;if(document.caretRangeFromPoint)l=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const h=document.caretPositionFromPoint(r.clientX,r.clientY);l=document.createRange(),l.setStart(h.offsetNode,h.offset),l.setEnd(h.offsetNode,h.offset)}const a=l&&t.selection.normalizeNative(l);if(a){const h=t.selection.normalizedToRange(a);(c=r.dataTransfer)!=null&&c.files&&this.upload(h,r.dataTransfer.files)}})}upload(t,n){const r=[];Array.from(n).forEach(l=>{var a;l&&((a=this.options.mimetypes)!=null&&a.includes(l.type))&&r.push(l)}),r.length>0&&this.options.handler.call(this,t,r)}}Bm.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,t){if(!this.quill.scroll.query("image"))return;const n=t.map(r=>new Promise(l=>{const a=new FileReader;a.onload=()=>{l(a.result)},a.readAsDataURL(r)}));Promise.all(n).then(r=>{const l=r.reduce((a,c)=>a.insert({image:c}),new Pt().retain(e.index).delete(e.length));this.quill.updateContents(l,Rt.sources.USER),this.quill.setSelection(e.index+r.length,Rt.sources.SILENT)})}};const G2=["insertText","insertReplacementText"];class Z2 extends Rr{constructor(t,n){super(t,n),t.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||t.on(et.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){th({range:t,quill:this.quill})}replaceText(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(n){const r=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new Pt().retain(t.index).insert(n,r),et.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+n.length,0,et.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!G2.includes(t.inputType))return;const n=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const r=X2(t);if(r==null)return;const l=this.quill.selection.normalizeNative(n),a=l?this.quill.selection.normalizedToRange(l):null;a&&this.replaceText(a,r)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function X2(e){var t;return typeof e.data=="string"?e.data:(t=e.dataTransfer)!=null&&t.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const J2=/Mac/i.test(navigator.platform),Y2=100,Q2=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||J2&&e.key==="a"&&e.ctrlKey===!0);class tS extends Rr{constructor(n,r){super(n,r);z(this,"isListening",!1);z(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,r){let{line:l,event:a}=r;if(!(l instanceof Sr)||!l.uiNode)return!0;const c=getComputedStyle(l.domNode).direction==="rtl";return c&&a.key!=="ArrowRight"||!c&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(a.shiftKey?1:0),et.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&Q2(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+Y2,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const r=n.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const l=this.quill.scroll.find(r.startContainer);if(!(l instanceof Sr)||!l.uiNode)return;const a=document.createRange();a.setStartAfter(l.uiNode),a.setEndAfter(l.uiNode),n.removeAllRanges(),n.addRange(a)}}et.register({"blots/block":Cn,"blots/block/embed":hr,"blots/break":kr,"blots/container":Ws,"blots/cursor":bi,"blots/embed":Gu,"blots/inline":Vr,"blots/scroll":ci,"blots/text":Or,"modules/clipboard":Rm,"modules/history":jm,"modules/keyboard":Wl,"modules/uploader":Bm,"modules/input":Z2,"modules/uiNode":tS});class eS extends qr{add(t,n){let r=0;if(n==="+1"||n==="-1"){const l=this.value(t)||0;r=n==="+1"?l+1:l-1}else typeof n=="number"&&(r=n);return r===0?(this.remove(t),!0):super.add(t,r.toString())}canAdd(t,n){return super.canAdd(t,n)||super.canAdd(t,parseInt(n,10))}value(t){return parseInt(super.value(t),10)||void 0}}const nS=new eS("indent","ql-indent",{scope:Ft.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Yc extends Cn{}z(Yc,"blotName","blockquote"),z(Yc,"tagName","blockquote");class Qc extends Cn{static formats(t){return this.tagName.indexOf(t.tagName)+1}}z(Qc,"blotName","header"),z(Qc,"tagName",["H1","H2","H3","H4","H5","H6"]);class wo extends Ws{}wo.blotName="list-container";wo.tagName="OL";class xo extends Cn{static create(t){const n=super.create();return n.setAttribute("data-list",t),n}static formats(t){return t.getAttribute("data-list")||void 0}static register(){et.register(wo)}constructor(t,n){super(t,n);const r=n.ownerDocument.createElement("span"),l=a=>{if(!t.isEnabled())return;const c=this.statics.formats(n,t);c==="checked"?(this.format("list","unchecked"),a.preventDefault()):c==="unchecked"&&(this.format("list","checked"),a.preventDefault())};r.addEventListener("mousedown",l),r.addEventListener("touchstart",l),this.attachUI(r)}format(t,n){t===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(t,n)}}xo.blotName="list";xo.tagName="LI";wo.allowedChildren=[xo];xo.requiredContainer=wo;class co extends Vr{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}z(co,"blotName","bold"),z(co,"tagName",["STRONG","B"]);class tu extends co{}z(tu,"blotName","italic"),z(tu,"tagName",["EM","I"]);class gs extends Vr{static create(t){const n=super.create(t);return n.setAttribute("href",this.sanitize(t)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(t){return t.getAttribute("href")}static sanitize(t){return Mm(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,n){t!==this.statics.blotName||!n?super.format(t,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}z(gs,"blotName","link"),z(gs,"tagName","A"),z(gs,"SANITIZED_URL","about:blank"),z(gs,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Mm(e,t){const n=document.createElement("a");n.href=e;const r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}class eu extends Vr{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}z(eu,"blotName","script"),z(eu,"tagName",["SUB","SUP"]);class nu extends co{}z(nu,"blotName","strike"),z(nu,"tagName",["S","STRIKE"]);class ru extends Vr{}z(ru,"blotName","underline"),z(ru,"tagName","U");class al extends Gu{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(t);return typeof t=="string"&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}z(al,"blotName","formula"),z(al,"className","ql-formula"),z(al,"tagName","SPAN");const Hd=["alt","height","width"];class su extends tr{static create(t){const n=super.create(t);return typeof t=="string"&&n.setAttribute("src",this.sanitize(t)),n}static formats(t){return Hd.reduce((n,r)=>(t.hasAttribute(r)&&(n[r]=t.getAttribute(r)),n),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return Mm(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,n){Hd.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):super.format(t,n)}}z(su,"blotName","image"),z(su,"tagName","IMG");const zd=["height","width"];class cl extends hr{static create(t){const n=super.create(t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(t)),n}static formats(t){return zd.reduce((n,r)=>(t.hasAttribute(r)&&(n[r]=t.getAttribute(r)),n),{})}static sanitize(t){return gs.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,n){zd.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):super.format(t,n)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}z(cl,"blotName","video"),z(cl,"className","ql-video"),z(cl,"tagName","IFRAME");const Wi=new qr("code-token","hljs",{scope:Ft.INLINE});class es extends Vr{static formats(t,n){for(;t!=null&&t!==n.domNode;){if(t.classList&&t.classList.contains(In.className))return super.formats(t,n);t=t.parentNode}}constructor(t,n,r){super(t,n,r),Wi.add(this.domNode,r)}format(t,n){t!==es.blotName?super.format(t,n):n?Wi.add(this.domNode,n):(Wi.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Wi.value(this.domNode)||this.unwrap()}}es.blotName="code-token";es.className="ql-token";class ur extends In{static create(t){const n=super.create(t);return typeof t=="string"&&n.setAttribute("data-language",t),n}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,n){t===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(t,n)}replaceWith(t,n){return this.formatAt(0,this.length(),es.blotName,!1),super.replaceWith(t,n)}}class Ji extends Gs{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,n){t===ur.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(t,n)}))}formatAt(t,n,r,l){r===ur.blotName&&(this.forceNext=!0),super.formatAt(t,n,r,l)}highlight(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const l=`${Array.from(this.domNode.childNodes).filter(c=>c!==this.uiNode).map(c=>c.textContent).join(`
`)}
`,a=ur.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==l){if(l.trim().length>0||this.cachedText==null){const c=this.children.reduce((f,p)=>f.concat(vm(p,!1)),new Pt),h=t(l,a);c.diff(h).reduce((f,p)=>{let{retain:y,attributes:w}=p;return y?(w&&Object.keys(w).forEach(b=>{[ur.blotName,es.blotName].includes(b)&&this.formatAt(f,y,b,w[b])}),f+y):f},0)}this.cachedText=l,this.forceNext=!1}}html(t,n){const[r]=this.children.find(t);return`<pre data-language="${r?ur.formats(r.domNode):"plain"}">
${Kl(this.code(t,n))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=ur.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}Ji.allowedChildren=[ur];ur.requiredContainer=Ji;ur.allowedChildren=[es,bi,Or,kr];const rS=(e,t,n)=>{if(typeof e.versionString=="string"){const r=e.versionString.split(".")[0];if(parseInt(r,10)>=11)return e.highlight(n,{language:t}).value}return e.highlight(t,n).value};class Pm extends Rr{static register(){et.register(es,!0),et.register(ur,!0),et.register(Ji,!0)}constructor(t,n){if(super(t,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,l)=>{let{key:a}=l;return r[a]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(et.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof Ji))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:l,label:a}=r;const c=n.ownerDocument.createElement("option");c.textContent=a,c.setAttribute("value",l),n.appendChild(c)}),n.addEventListener("change",()=>{t.format(ur.blotName,n.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(n),t.children.head&&(n.value=ur.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(et.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(et.sources.USER);const r=this.quill.getSelection();(t==null?this.quill.scroll.descendants(Ji):[t]).forEach(a=>{a.highlight(this.highlightBlot,n)}),this.quill.update(et.sources.SILENT),r!=null&&this.quill.setSelection(r,et.sources.SILENT)}highlightBlot(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return Kl(t).split(`
`).reduce((l,a,c)=>(c!==0&&l.insert(`
`,{[In.blotName]:n}),l.insert(a)),new Pt);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(In.className),r.innerHTML=rS(this.options.hljs,n,t),eh(this.quill.scroll,r,[(l,a)=>{const c=Wi.value(l);return c?a.compose(new Pt().retain(a.length(),{[es.blotName]:c})):a}],[(l,a)=>l.data.split(`
`).reduce((c,h,f)=>(f!==0&&c.insert(`
`,{[In.blotName]:n}),c.insert(h)),a)],new WeakMap)}}Pm.DEFAULTS={hljs:(()=>window.hljs)(),interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Qi=class Qi extends Cn{static create(t){const n=super.create();return t?n.setAttribute("data-row",t):n.setAttribute("data-row",nh()),n}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,n){t===Qi.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(t,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};z(Qi,"blotName","table"),z(Qi,"tagName","TD");let _r=Qi;class ns extends Ws{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),n=this.children.tail.formats(),r=this.next.children.head.formats(),l=this.next.children.tail.formats();return t.table===n.table&&t.table===r.table&&t.table===l.table}return!1}optimize(t){super.optimize(t),this.children.forEach(n=>{if(n.next==null)return;const r=n.formats(),l=n.next.formats();if(r.table!==l.table){const a=this.splitAfter(n);a&&a.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}z(ns,"blotName","table-row"),z(ns,"tagName","TR");class Hr extends Ws{}z(Hr,"blotName","table-body"),z(Hr,"tagName","TBODY");class vi extends Ws{balanceCells(){const t=this.descendants(ns),n=t.reduce((r,l)=>Math.max(l.children.length,r),0);t.forEach(r=>{new Array(n-r.children.length).fill(0).forEach(()=>{let l;r.children.head!=null&&(l=_r.formats(r.children.head.domNode));const a=this.scroll.create(_r.blotName,l);r.appendChild(a),a.optimize()})})}cells(t){return this.rows().map(n=>n.children.at(t))}deleteColumn(t){const[n]=this.descendant(Hr);n==null||n.children.head==null||n.children.forEach(r=>{const l=r.children.at(t);l!=null&&l.remove()})}insertColumn(t){const[n]=this.descendant(Hr);n==null||n.children.head==null||n.children.forEach(r=>{const l=r.children.at(t),a=_r.formats(r.children.head.domNode),c=this.scroll.create(_r.blotName,a);r.insertBefore(c,l)})}insertRow(t){const[n]=this.descendant(Hr);if(n==null||n.children.head==null)return;const r=nh(),l=this.scroll.create(ns.blotName);n.children.head.children.forEach(()=>{const c=this.scroll.create(_r.blotName,r);l.appendChild(c)});const a=n.children.at(t);n.insertBefore(l,a)}rows(){const t=this.children.head;return t==null?[]:t.children.map(n=>n)}}z(vi,"blotName","table-container"),z(vi,"tagName","TABLE");vi.allowedChildren=[Hr];Hr.requiredContainer=vi;Hr.allowedChildren=[ns];ns.requiredContainer=Hr;ns.allowedChildren=[_r];_r.requiredContainer=ns;function nh(){return`row-${Math.random().toString(36).slice(2,6)}`}class sS extends Rr{static register(){et.register(_r),et.register(ns),et.register(Hr),et.register(vi)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(vi).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,n]=this.getTable();n!=null&&(t.deleteColumn(n.cellOffset()),this.quill.update(et.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(et.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const n=t.offset();t.remove(),this.quill.update(et.sources.USER),this.quill.setSelection(n,et.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[n,r]=this.quill.getLine(t.index);if(n==null||n.statics.blotName!==_r.blotName)return[null,null,null,-1];const l=n.parent;return[l.parent.parent,l,n,r]}insertColumn(t){const n=this.quill.getSelection();if(!n)return;const[r,l,a]=this.getTable(n);if(a==null)return;const c=a.cellOffset();r.insertColumn(c+t),this.quill.update(et.sources.USER);let h=l.rowOffset();t===0&&(h+=1),this.quill.setSelection(n.index+h,n.length,et.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const n=this.quill.getSelection();if(!n)return;const[r,l,a]=this.getTable(n);if(a==null)return;const c=l.rowOffset();r.insertRow(c+t),this.quill.update(et.sources.USER),t>0?this.quill.setSelection(n,et.sources.SILENT):this.quill.setSelection(n.index+l.children.length,n.length,et.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,n){const r=this.quill.getSelection();if(r==null)return;const l=new Array(t).fill(0).reduce(a=>{const c=new Array(n).fill(`
`).join("");return a.insert(c,{table:nh()})},new Pt().retain(r.index));this.quill.updateContents(l,et.sources.USER),this.quill.setSelection(r.index,et.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(et.events.SCROLL_OPTIMIZE,t=>{t.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(et.events.TEXT_CHANGE,(r,l,a)=>{a===et.sources.USER&&this.balanceTables()}),!0):!1)})}}const Vd=ss("quill:toolbar");class rh extends Rr{constructor(t,n){var r,l;if(super(t,n),Array.isArray(this.options.container)){const a=document.createElement("div");a.setAttribute("role","toolbar"),iS(a,this.options.container),(l=(r=t.container)==null?void 0:r.parentNode)==null||l.insertBefore(a,t.container),this.container=a}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Vd.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(a=>{var h;const c=(h=this.options.handlers)==null?void 0:h[a];c&&this.addHandler(a,c)}),Array.from(this.container.querySelectorAll("button, select")).forEach(a=>{this.attach(a)}),this.quill.on(et.events.EDITOR_CHANGE,()=>{const[a]=this.quill.selection.getRange();this.update(a)})}addHandler(t,n){this.handlers[t]=n}attach(t){let n=Array.from(t.classList).find(l=>l.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){Vd.warn("ignoring attaching to nonexistent format",n,t);return}const r=t.tagName==="SELECT"?"change":"click";t.addEventListener(r,l=>{let a;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const h=t.options[t.selectedIndex];h.hasAttribute("selected")?a=!1:a=h.value||!1}else t.classList.contains("ql-active")?a=!1:a=t.value||!t.hasAttribute("value"),l.preventDefault();this.quill.focus();const[c]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,a);else if(this.quill.scroll.query(n).prototype instanceof tr){if(a=prompt(`Enter ${n}`),!a)return;this.quill.updateContents(new Pt().retain(c.index).delete(c.length).insert({[n]:a}),et.sources.USER)}else this.quill.format(n,a,et.sources.USER);this.update(c)}),this.controls.push([n,t])}update(t){const n=t==null?{}:this.quill.getFormat(t);this.controls.forEach(r=>{const[l,a]=r;if(a.tagName==="SELECT"){let c=null;if(t==null)c=null;else if(n[l]==null)c=a.querySelector("option[selected]");else if(!Array.isArray(n[l])){let h=n[l];typeof h=="string"&&(h=h.replace(/"/g,'\\"')),c=a.querySelector(`option[value="${h}"]`)}c==null?(a.value="",a.selectedIndex=-1):c.selected=!0}else if(t==null)a.classList.remove("ql-active"),a.setAttribute("aria-pressed","false");else if(a.hasAttribute("value")){const c=n[l],h=c===a.getAttribute("value")||c!=null&&c.toString()===a.getAttribute("value")||c==null&&!a.getAttribute("value");a.classList.toggle("ql-active",h),a.setAttribute("aria-pressed",h.toString())}else{const c=n[l]!=null;a.classList.toggle("ql-active",c),a.setAttribute("aria-pressed",c.toString())}})}}rh.DEFAULTS={};function Kd(e,t,n){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${t}`),r.setAttribute("aria-pressed","false"),n!=null?(r.value=n,r.setAttribute("aria-label",`${t}: ${n}`)):r.setAttribute("aria-label",t),e.appendChild(r)}function iS(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(n=>{const r=document.createElement("span");r.classList.add("ql-formats"),n.forEach(l=>{if(typeof l=="string")Kd(r,l);else{const a=Object.keys(l)[0],c=l[a];Array.isArray(c)?oS(r,a,c):Kd(r,a,c)}}),e.appendChild(r)})}function oS(e,t,n){const r=document.createElement("select");r.classList.add(`ql-${t}`),n.forEach(l=>{const a=document.createElement("option");l!==!1?a.setAttribute("value",String(l)):a.setAttribute("selected","selected"),r.appendChild(a)}),e.appendChild(r)}rh.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(n=>{this.quill.scroll.query(n,Ft.INLINE)!=null&&this.quill.format(n,!1,et.sources.USER)})}else this.quill.removeFormat(e.index,e.length,et.sources.USER)},direction(e){const{align:t}=this.quill.getFormat();e==="rtl"&&t==null?this.quill.format("align","right",et.sources.USER):!e&&t==="right"&&this.quill.format("align",!1,et.sources.USER),this.quill.format("direction",e,et.sources.USER)},indent(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0,10);if(e==="+1"||e==="-1"){let l=e==="+1"?1:-1;n.direction==="rtl"&&(l*=-1),this.quill.format("indent",r+l,et.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,et.sources.USER)},list(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t);e==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,et.sources.USER):this.quill.format("list","unchecked",et.sources.USER):this.quill.format("list",e,et.sources.USER)}}};const lS='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',aS='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',cS='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',uS='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',hS='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',fS='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',dS='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',pS='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Wd='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',gS='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',mS='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',bS='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',yS='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',vS='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',wS='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',xS='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',ES='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',AS='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',_S='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',NS='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',SS='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',TS='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',OS='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',LS='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',CS='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',qS='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',kS='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',RS='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',IS='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',jS='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',BS='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',MS='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',PS='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',uo={align:{"":lS,center:aS,right:cS,justify:uS},background:hS,blockquote:fS,bold:dS,clean:pS,code:Wd,"code-block":Wd,color:gS,direction:{"":mS,rtl:bS},formula:yS,header:{1:vS,2:wS,3:xS,4:ES,5:AS,6:_S},italic:NS,image:SS,indent:{"+1":TS,"-1":OS},link:LS,list:{bullet:CS,check:qS,ordered:kS},script:{sub:RS,super:IS},strike:jS,table:BS,underline:MS,video:PS},DS='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Gd=0;function Zd(e,t){e.setAttribute(t,`${e.getAttribute(t)!=="true"}`)}class Gl{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Zd(this.label,"aria-expanded"),Zd(this.options,"aria-hidden")}buildItem(t){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const r=t.getAttribute("value");return r&&n.setAttribute("data-value",r),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",l=>{switch(l.key){case"Enter":this.selectItem(n,!0),l.preventDefault();break;case"Escape":this.escape(),l.preventDefault();break}}),n}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=DS,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${Gd}`,Gd+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(n=>{const r=this.buildItem(n);t.appendChild(r),n.selected===!0&&this.selectItem(r)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");t!==r&&(r!=null&&r.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const n=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class Dm extends Gl{constructor(t,n){super(t),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(t){const n=super.buildItem(t);return n.style.backgroundColor=t.getAttribute("value")||"",n}selectItem(t,n){super.selectItem(t,n);const r=this.label.querySelector(".ql-color-label"),l=t&&t.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=l:r.style.fill=l)}}class $m extends Gl{constructor(t,n){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=n[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,n){super.selectItem(t,n);const r=t||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const $S=e=>{const{overflowY:t}=getComputedStyle(e,null);return t!=="visible"&&t!=="clip"};class Um{constructor(t,n){this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,$S(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const n=t.left+t.width/2-this.root.offsetWidth/2,r=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const l=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect();let c=0;if(a.right>l.right&&(c=l.right-a.right,this.root.style.left=`${n+c}px`),a.left<l.left&&(c=l.left-a.left,this.root.style.left=`${n+c}px`),a.bottom>l.bottom){const h=a.bottom-a.top,f=t.bottom-t.top+h;this.root.style.top=`${r-f}px`,this.root.classList.add("ql-flip")}return c}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const US=[!1,"center","right","justify"],FS=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],HS=[!1,"serif","monospace"],zS=["1","2","3",!1],VS=["small",!1,"large","huge"];class Eo extends yi{constructor(t,n){super(t,n);const r=l=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(l.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(a=>{a.container.contains(l.target)||a.close()})};t.emitter.listenDOM("click",document.body,r)}addModule(t){const n=super.addModule(t);return t==="toolbar"&&this.extendToolbar(n),n}buildButtons(t,n){Array.from(t).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(a=>{if(a.startsWith("ql-")&&(a=a.slice(3),n[a]!=null))if(a==="direction")r.innerHTML=n[a][""]+n[a].rtl;else if(typeof n[a]=="string")r.innerHTML=n[a];else{const c=r.value||"";c!=null&&n[a][c]&&(r.innerHTML=n[a][c])}})})}buildPickers(t,n){this.pickers=Array.from(t).map(l=>{if(l.classList.contains("ql-align")&&(l.querySelector("option")==null&&Vi(l,US),typeof n.align=="object"))return new $m(l,n.align);if(l.classList.contains("ql-background")||l.classList.contains("ql-color")){const a=l.classList.contains("ql-background")?"background":"color";return l.querySelector("option")==null&&Vi(l,FS,a==="background"?"#ffffff":"#000000"),new Dm(l,n[a])}return l.querySelector("option")==null&&(l.classList.contains("ql-font")?Vi(l,HS):l.classList.contains("ql-header")?Vi(l,zS):l.classList.contains("ql-size")&&Vi(l,VS)),new Gl(l)});const r=()=>{this.pickers.forEach(l=>{l.update()})};this.quill.on(Rt.events.EDITOR_CHANGE,r)}}Eo.DEFAULTS=ms({},yi.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Fm extends Um{constructor(t,n){super(t,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,Rt.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,Rt.sources.USER)),this.quill.root.scrollTop=n;break}case"video":t=KS(t);case"formula":{if(!t)break;const n=this.quill.getSelection(!0);if(n!=null){const r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,Rt.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",Rt.sources.USER),this.quill.setSelection(r+2,Rt.sources.USER)}break}}this.textbox.value="",this.hide()}}function KS(e){let t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:e}function Vi(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(r=>{const l=document.createElement("option");r===n?l.setAttribute("selected","selected"):l.setAttribute("value",String(r)),e.appendChild(l)})}const WS=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Hm extends Fm{constructor(t,n){super(t,n),this.quill.on(Rt.events.EDITOR_CHANGE,(r,l,a,c)=>{if(r===Rt.events.SELECTION_CHANGE)if(l!=null&&l.length>0&&c===Rt.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const h=this.quill.getLines(l.index,l.length);if(h.length===1){const f=this.quill.getBounds(l);f!=null&&this.position(f)}else{const f=h[h.length-1],p=this.quill.getIndex(f),y=Math.min(f.length()-1,l.index+l.length-p),w=this.quill.getBounds(new Fs(p,y));w!=null&&this.position(w)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Rt.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const n=this.quill.getBounds(t);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(t){const n=super.position(t),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",n!==0&&(r.style.marginLeft=`${-1*n-r.offsetWidth/2}px`),n}}z(Hm,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class zm extends Eo{constructor(t,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=WS),super(t,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new Hm(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),uo),this.buildPickers(t.container.querySelectorAll("select"),uo))}}zm.DEFAULTS=ms({},Eo.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,et.sources.USER)}}}}});const GS=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Vm extends Fm{constructor(){super(...arguments);z(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,Rt.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on(Rt.events.SELECTION_CHANGE,(n,r,l)=>{if(n!=null){if(n.length===0&&l===Rt.sources.USER){const[a,c]=this.quill.scroll.descendant(gs,n.index);if(a!=null){this.linkRange=new Fs(n.index-c,a.length());const h=gs.formats(a.domNode);this.preview.textContent=h,this.preview.setAttribute("href",h),this.show();const f=this.quill.getBounds(this.linkRange);f!=null&&this.position(f);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}z(Vm,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class Km extends Eo{constructor(t,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=GS),super(t,n),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),uo),this.buildPickers(t.container.querySelectorAll("select"),uo),this.tooltip=new Vm(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,r)=>{t.handlers.link.call(t,!r.format.link)}))}}Km.DEFAULTS=ms({},Eo.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const t=this.quill.getSelection();if(t==null||t.length===0)return;let n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:r}=this.quill.theme;r.edit("link",n)}else this.quill.format("link",!1,et.sources.USER)}}}}});et.register({"attributors/attribute/direction":Nm,"attributors/class/align":Em,"attributors/class/background":f2,"attributors/class/color":h2,"attributors/class/direction":Sm,"attributors/class/font":Lm,"attributors/class/size":qm,"attributors/style/align":Am,"attributors/style/background":Ju,"attributors/style/color":Xu,"attributors/style/direction":Tm,"attributors/style/font":Cm,"attributors/style/size":km},!0);et.register({"formats/align":Em,"formats/direction":Sm,"formats/indent":nS,"formats/background":Ju,"formats/color":Xu,"formats/font":Lm,"formats/size":qm,"formats/blockquote":Yc,"formats/code-block":In,"formats/header":Qc,"formats/list":xo,"formats/bold":co,"formats/code":Yu,"formats/italic":tu,"formats/link":gs,"formats/script":eu,"formats/strike":nu,"formats/underline":ru,"formats/formula":al,"formats/image":su,"formats/video":cl,"modules/syntax":Pm,"modules/table":sS,"modules/toolbar":rh,"themes/bubble":zm,"themes/snow":Km,"ui/icons":uo,"ui/picker":Gl,"ui/icon-picker":$m,"ui/color-picker":Dm,"ui/tooltip":Um},!0);var Wm={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(self,()=>(()=>{var n={362:(a,c,h)=>{function f(k){return k.split("-")[0]}function p(k){return k.split("-")[1]}function y(k){return["top","bottom"].includes(f(k))?"x":"y"}function w(k){return k==="y"?"height":"width"}function b(k,D,V){let{reference:W,floating:Z}=k;const J=W.x+W.width/2-Z.width/2,ot=W.y+W.height/2-Z.height/2,Q=y(D),ft=w(Q),It=W[ft]/2-Z[ft]/2,kt=Q==="x";let pt;switch(f(D)){case"top":pt={x:J,y:W.y-Z.height};break;case"bottom":pt={x:J,y:W.y+W.height};break;case"right":pt={x:W.x+W.width,y:ot};break;case"left":pt={x:W.x-Z.width,y:ot};break;default:pt={x:W.x,y:W.y}}switch(p(D)){case"start":pt[Q]-=It*(V&&kt?-1:1);break;case"end":pt[Q]+=It*(V&&kt?-1:1)}return pt}function v(k){return typeof k!="number"?function(D){return{top:0,right:0,bottom:0,left:0,...D}}(k):{top:k,right:k,bottom:k,left:k}}function E(k){return{...k,top:k.y,left:k.x,right:k.x+k.width,bottom:k.y+k.height}}async function S(k,D){var V;D===void 0&&(D={});const{x:W,y:Z,platform:J,rects:ot,elements:Q,strategy:ft}=k,{boundary:It="clippingAncestors",rootBoundary:kt="viewport",elementContext:pt="floating",altBoundary:_t=!1,padding:wt=0}=D,xt=v(wt),Bt=Q[_t?pt==="floating"?"reference":"floating":pt],Ot=E(await J.getClippingRect({element:(V=await(J.isElement==null?void 0:J.isElement(Bt)))==null||V?Bt:Bt.contextElement||await(J.getDocumentElement==null?void 0:J.getDocumentElement(Q.floating)),boundary:It,rootBoundary:kt,strategy:ft})),Gt=E(J.convertOffsetParentRelativeRectToViewportRelativeRect?await J.convertOffsetParentRelativeRectToViewportRelativeRect({rect:pt==="floating"?{...ot.floating,x:W,y:Z}:ot.reference,offsetParent:await(J.getOffsetParent==null?void 0:J.getOffsetParent(Q.floating)),strategy:ft}):ot[pt]);return{top:Ot.top-Gt.top+xt.top,bottom:Gt.bottom-Ot.bottom+xt.bottom,left:Ot.left-Gt.left+xt.left,right:Gt.right-Ot.right+xt.right}}h.r(c),h.d(c,{arrow:()=>O,autoPlacement:()=>lt,autoUpdate:()=>Ve,computePosition:()=>Xe,detectOverflow:()=>S,flip:()=>bt,getOverflowAncestors:()=>Te,hide:()=>ct,inline:()=>Dt,limitShift:()=>Kt,offset:()=>rt,platform:()=>ze,shift:()=>Tt,size:()=>H});const A=Math.min,L=Math.max;function T(k,D,V){return L(k,A(D,V))}const O=k=>({name:"arrow",options:k,async fn(D){const{element:V,padding:W=0}=k??{},{x:Z,y:J,placement:ot,rects:Q,platform:ft}=D;if(V==null)return{};const It=v(W),kt={x:Z,y:J},pt=y(ot),_t=p(ot),wt=w(pt),xt=await ft.getDimensions(V),Bt=pt==="y"?"top":"left",Ot=pt==="y"?"bottom":"right",Gt=Q.reference[wt]+Q.reference[pt]-kt[pt]-Q.floating[wt],re=kt[pt]-Q.reference[pt],ge=await(ft.getOffsetParent==null?void 0:ft.getOffsetParent(V));let ae=ge?pt==="y"?ge.clientHeight||0:ge.clientWidth||0:0;ae===0&&(ae=Q.floating[wt]);const me=Gt/2-re/2,Ht=It[Bt],Oe=ae-xt[wt]-It[Ot],ve=ae/2-xt[wt]/2+me,Pe=T(Ht,ve,Oe),Re=(_t==="start"?It[Bt]:It[Ot])>0&&ve!==Pe&&Q.reference[wt]<=Q.floating[wt];return{[pt]:kt[pt]-(Re?ve<Ht?Ht-ve:Oe-ve:0),data:{[pt]:Pe,centerOffset:ve-Pe}}}}),I={left:"right",right:"left",bottom:"top",top:"bottom"};function B(k){return k.replace(/left|right|bottom|top/g,D=>I[D])}function F(k,D,V){V===void 0&&(V=!1);const W=p(k),Z=y(k),J=w(Z);let ot=Z==="x"?W===(V?"end":"start")?"right":"left":W==="start"?"bottom":"top";return D.reference[J]>D.floating[J]&&(ot=B(ot)),{main:ot,cross:B(ot)}}const Y={start:"end",end:"start"};function ut(k){return k.replace(/start|end/g,D=>Y[D])}const it=["top","right","bottom","left"],j=it.reduce((k,D)=>k.concat(D,D+"-start",D+"-end"),[]),lt=function(k){return k===void 0&&(k={}),{name:"autoPlacement",options:k,async fn(D){var V,W,Z,J,ot;const{x:Q,y:ft,rects:It,middlewareData:kt,placement:pt,platform:_t,elements:wt}=D,{alignment:xt=null,allowedPlacements:Bt=j,autoAlignment:Ot=!0,...Gt}=k,re=function(Ze,xn,Be){return(Ze?[...Be.filter(ln=>p(ln)===Ze),...Be.filter(ln=>p(ln)!==Ze)]:Be.filter(ln=>f(ln)===ln)).filter(ln=>!Ze||p(ln)===Ze||!!xn&&ut(ln)!==ln)}(xt,Ot,Bt),ge=await S(D,Gt),ae=(V=(W=kt.autoPlacement)==null?void 0:W.index)!=null?V:0,me=re[ae];if(me==null)return{};const{main:Ht,cross:Oe}=F(me,It,await(_t.isRTL==null?void 0:_t.isRTL(wt.floating)));if(pt!==me)return{x:Q,y:ft,reset:{placement:re[0]}};const ve=[ge[f(me)],ge[Ht],ge[Oe]],Pe=[...(Z=(J=kt.autoPlacement)==null?void 0:J.overflows)!=null?Z:[],{placement:me,overflows:ve}],Re=re[ae+1];if(Re)return{data:{index:ae+1,overflows:Pe},reset:{placement:Re}};const Ge=Pe.slice().sort((Ze,xn)=>Ze.overflows[0]-xn.overflows[0]),ce=(ot=Ge.find(Ze=>{let{overflows:xn}=Ze;return xn.every(Be=>Be<=0)}))==null?void 0:ot.placement,on=ce??Ge[0].placement;return on!==pt?{data:{index:ae+1,overflows:Pe},reset:{placement:on}}:{}}}},bt=function(k){return k===void 0&&(k={}),{name:"flip",options:k,async fn(D){var V;const{placement:W,middlewareData:Z,rects:J,initialPlacement:ot,platform:Q,elements:ft}=D,{mainAxis:It=!0,crossAxis:kt=!0,fallbackPlacements:pt,fallbackStrategy:_t="bestFit",flipAlignment:wt=!0,...xt}=k,Bt=f(W),Ot=pt||(Bt!==ot&&wt?function(ve){const Pe=B(ve);return[ut(ve),Pe,ut(Pe)]}(ot):[B(ot)]),Gt=[ot,...Ot],re=await S(D,xt),ge=[];let ae=((V=Z.flip)==null?void 0:V.overflows)||[];if(It&&ge.push(re[Bt]),kt){const{main:ve,cross:Pe}=F(W,J,await(Q.isRTL==null?void 0:Q.isRTL(ft.floating)));ge.push(re[ve],re[Pe])}if(ae=[...ae,{placement:W,overflows:ge}],!ge.every(ve=>ve<=0)){var me,Ht;const ve=((me=(Ht=Z.flip)==null?void 0:Ht.index)!=null?me:0)+1,Pe=Gt[ve];if(Pe)return{data:{index:ve,overflows:ae},reset:{placement:Pe}};let Re="bottom";switch(_t){case"bestFit":{var Oe;const Ge=(Oe=ae.map(ce=>[ce,ce.overflows.filter(on=>on>0).reduce((on,Ze)=>on+Ze,0)]).sort((ce,on)=>ce[1]-on[1])[0])==null?void 0:Oe[0].placement;Ge&&(Re=Ge);break}case"initialPlacement":Re=ot}if(W!==Re)return{reset:{placement:Re}}}return{}}}};function M(k,D){return{top:k.top-D.height,right:k.right-D.width,bottom:k.bottom-D.height,left:k.left-D.width}}function G(k){return it.some(D=>k[D]>=0)}const ct=function(k){let{strategy:D="referenceHidden",...V}=k===void 0?{}:k;return{name:"hide",async fn(W){const{rects:Z}=W;switch(D){case"referenceHidden":{const J=M(await S(W,{...V,elementContext:"reference"}),Z.reference);return{data:{referenceHiddenOffsets:J,referenceHidden:G(J)}}}case"escaped":{const J=M(await S(W,{...V,altBoundary:!0}),Z.floating);return{data:{escapedOffsets:J,escaped:G(J)}}}default:return{}}}}},rt=function(k){return k===void 0&&(k=0),{name:"offset",options:k,async fn(D){const{x:V,y:W}=D,Z=await async function(J,ot){const{placement:Q,platform:ft,elements:It}=J,kt=await(ft.isRTL==null?void 0:ft.isRTL(It.floating)),pt=f(Q),_t=p(Q),wt=y(Q)==="x",xt=["left","top"].includes(pt)?-1:1,Bt=kt&&wt?-1:1,Ot=typeof ot=="function"?ot(J):ot;let{mainAxis:Gt,crossAxis:re,alignmentAxis:ge}=typeof Ot=="number"?{mainAxis:Ot,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Ot};return _t&&typeof ge=="number"&&(re=_t==="end"?-1*ge:ge),wt?{x:re*Bt,y:Gt*xt}:{x:Gt*xt,y:re*Bt}}(D,k);return{x:V+Z.x,y:W+Z.y,data:Z}}}};function dt(k){return k==="x"?"y":"x"}const Tt=function(k){return k===void 0&&(k={}),{name:"shift",options:k,async fn(D){const{x:V,y:W,placement:Z}=D,{mainAxis:J=!0,crossAxis:ot=!1,limiter:Q={fn:Ot=>{let{x:Gt,y:re}=Ot;return{x:Gt,y:re}}},...ft}=k,It={x:V,y:W},kt=await S(D,ft),pt=y(f(Z)),_t=dt(pt);let wt=It[pt],xt=It[_t];if(J){const Ot=pt==="y"?"bottom":"right";wt=T(wt+kt[pt==="y"?"top":"left"],wt,wt-kt[Ot])}if(ot){const Ot=_t==="y"?"bottom":"right";xt=T(xt+kt[_t==="y"?"top":"left"],xt,xt-kt[Ot])}const Bt=Q.fn({...D,[pt]:wt,[_t]:xt});return{...Bt,data:{x:Bt.x-V,y:Bt.y-W}}}}},Kt=function(k){return k===void 0&&(k={}),{options:k,fn(D){const{x:V,y:W,placement:Z,rects:J,middlewareData:ot}=D,{offset:Q=0,mainAxis:ft=!0,crossAxis:It=!0}=k,kt={x:V,y:W},pt=y(Z),_t=dt(pt);let wt=kt[pt],xt=kt[_t];const Bt=typeof Q=="function"?Q(D):Q,Ot=typeof Bt=="number"?{mainAxis:Bt,crossAxis:0}:{mainAxis:0,crossAxis:0,...Bt};if(ft){const me=pt==="y"?"height":"width",Ht=J.reference[pt]-J.floating[me]+Ot.mainAxis,Oe=J.reference[pt]+J.reference[me]-Ot.mainAxis;wt<Ht?wt=Ht:wt>Oe&&(wt=Oe)}if(It){var Gt,re,ge,ae;const me=pt==="y"?"width":"height",Ht=["top","left"].includes(f(Z)),Oe=J.reference[_t]-J.floating[me]+(Ht&&(Gt=(re=ot.offset)==null?void 0:re[_t])!=null?Gt:0)+(Ht?0:Ot.crossAxis),ve=J.reference[_t]+J.reference[me]+(Ht?0:(ge=(ae=ot.offset)==null?void 0:ae[_t])!=null?ge:0)-(Ht?Ot.crossAxis:0);xt<Oe?xt=Oe:xt>ve&&(xt=ve)}return{[pt]:wt,[_t]:xt}}}},H=function(k){return k===void 0&&(k={}),{name:"size",options:k,async fn(D){const{placement:V,rects:W,platform:Z,elements:J}=D,{apply:ot=()=>{},...Q}=k,ft=await S(D,Q),It=f(V),kt=p(V);let pt,_t;It==="top"||It==="bottom"?(pt=It,_t=kt===(await(Z.isRTL==null?void 0:Z.isRTL(J.floating))?"start":"end")?"left":"right"):(_t=It,pt=kt==="end"?"top":"bottom");const wt=L(ft.left,0),xt=L(ft.right,0),Bt=L(ft.top,0),Ot=L(ft.bottom,0),Gt={availableHeight:W.floating.height-(["left","right"].includes(V)?2*(Bt!==0||Ot!==0?Bt+Ot:L(ft.top,ft.bottom)):ft[pt]),availableWidth:W.floating.width-(["top","bottom"].includes(V)?2*(wt!==0||xt!==0?wt+xt:L(ft.left,ft.right)):ft[_t])};await ot({...D,...Gt});const re=await Z.getDimensions(J.floating);return W.floating.width!==re.width||W.floating.height!==re.height?{reset:{rects:!0}}:{}}}},Dt=function(k){return k===void 0&&(k={}),{name:"inline",options:k,async fn(D){var V;const{placement:W,elements:Z,rects:J,platform:ot,strategy:Q}=D,{padding:ft=2,x:It,y:kt}=k,pt=E(ot.convertOffsetParentRelativeRectToViewportRelativeRect?await ot.convertOffsetParentRelativeRectToViewportRelativeRect({rect:J.reference,offsetParent:await(ot.getOffsetParent==null?void 0:ot.getOffsetParent(Z.floating)),strategy:Q}):J.reference),_t=(V=await(ot.getClientRects==null?void 0:ot.getClientRects(Z.reference)))!=null?V:[],wt=v(ft),xt=await ot.getElementRects({reference:{getBoundingClientRect:function(){var Bt;if(_t.length===2&&_t[0].left>_t[1].right&&It!=null&&kt!=null)return(Bt=_t.find(Ot=>It>Ot.left-wt.left&&It<Ot.right+wt.right&&kt>Ot.top-wt.top&&kt<Ot.bottom+wt.bottom))!=null?Bt:pt;if(_t.length>=2){if(y(W)==="x"){const Ht=_t[0],Oe=_t[_t.length-1],ve=f(W)==="top",Pe=Ht.top,Re=Oe.bottom,Ge=ve?Ht.left:Oe.left,ce=ve?Ht.right:Oe.right;return{top:Pe,bottom:Re,left:Ge,right:ce,width:ce-Ge,height:Re-Pe,x:Ge,y:Pe}}const Ot=f(W)==="left",Gt=L(..._t.map(Ht=>Ht.right)),re=A(..._t.map(Ht=>Ht.left)),ge=_t.filter(Ht=>Ot?Ht.left===re:Ht.right===Gt),ae=ge[0].top,me=ge[ge.length-1].bottom;return{top:ae,bottom:me,left:re,right:Gt,width:Gt-re,height:me-ae,x:re,y:ae}}return pt}},floating:Z.floating,strategy:Q});return J.reference.x!==xt.reference.x||J.reference.y!==xt.reference.y||J.reference.width!==xt.reference.width||J.reference.height!==xt.reference.height?{reset:{rects:xt}}:{}}}};function jt(k){return k&&k.document&&k.location&&k.alert&&k.setInterval}function $t(k){if(k==null)return window;if(!jt(k)){const D=k.ownerDocument;return D&&D.defaultView||window}return k}function se(k){return $t(k).getComputedStyle(k)}function ht(k){return jt(k)?"":k?(k.nodeName||"").toLowerCase():""}function he(){const k=navigator.userAgentData;return k!=null&&k.brands?k.brands.map(D=>D.brand+"/"+D.version).join(" "):navigator.userAgent}function Yt(k){return k instanceof $t(k).HTMLElement}function ee(k){return k instanceof $t(k).Element}function fe(k){return typeof ShadowRoot<"u"&&(k instanceof $t(k).ShadowRoot||k instanceof ShadowRoot)}function Ae(k){const{overflow:D,overflowX:V,overflowY:W,display:Z}=se(k);return/auto|scroll|overlay|hidden/.test(D+W+V)&&!["inline","contents"].includes(Z)}function qe(k){return["table","td","th"].includes(ht(k))}function Ue(k){const D=/firefox/i.test(he()),V=se(k);return V.transform!=="none"||V.perspective!=="none"||D&&V.willChange==="filter"||D&&!!V.filter&&V.filter!=="none"||["transform","perspective"].some(W=>V.willChange.includes(W))||["paint","layout","strict","content"].some(W=>{const Z=V.contain;return Z!=null&&Z.includes(W)})}function de(){return!/^((?!chrome|android).)*safari/i.test(he())}function Wt(k){return["html","body","#document"].includes(ht(k))}const pe=Math.min,qt=Math.max,Qt=Math.round;function zt(k,D,V){var W,Z,J,ot;D===void 0&&(D=!1),V===void 0&&(V=!1);const Q=k.getBoundingClientRect();let ft=1,It=1;D&&Yt(k)&&(ft=k.offsetWidth>0&&Qt(Q.width)/k.offsetWidth||1,It=k.offsetHeight>0&&Qt(Q.height)/k.offsetHeight||1);const kt=ee(k)?$t(k):window,pt=!de()&&V,_t=(Q.left+(pt&&(W=(Z=kt.visualViewport)==null?void 0:Z.offsetLeft)!=null?W:0))/ft,wt=(Q.top+(pt&&(J=(ot=kt.visualViewport)==null?void 0:ot.offsetTop)!=null?J:0))/It,xt=Q.width/ft,Bt=Q.height/It;return{width:xt,height:Bt,top:wt,right:_t+xt,bottom:wt+Bt,left:_t,x:_t,y:wt}}function Vt(k){return(D=k,(D instanceof $t(D).Node?k.ownerDocument:k.document)||window.document).documentElement;var D}function ye(k){return ee(k)?{scrollLeft:k.scrollLeft,scrollTop:k.scrollTop}:{scrollLeft:k.pageXOffset,scrollTop:k.pageYOffset}}function le(k){return zt(Vt(k)).left+ye(k).scrollLeft}function je(k,D,V){const W=Yt(D),Z=Vt(D),J=zt(k,W&&function(ft){const It=zt(ft);return Qt(It.width)!==ft.offsetWidth||Qt(It.height)!==ft.offsetHeight}(D),V==="fixed");let ot={scrollLeft:0,scrollTop:0};const Q={x:0,y:0};if(W||!W&&V!=="fixed")if((ht(D)!=="body"||Ae(Z))&&(ot=ye(D)),Yt(D)){const ft=zt(D,!0);Q.x=ft.x+D.clientLeft,Q.y=ft.y+D.clientTop}else Z&&(Q.x=le(Z));return{x:J.left+ot.scrollLeft-Q.x,y:J.top+ot.scrollTop-Q.y,width:J.width,height:J.height}}function ke(k){return ht(k)==="html"?k:k.assignedSlot||k.parentNode||(fe(k)?k.host:null)||Vt(k)}function _e(k){return Yt(k)&&se(k).position!=="fixed"?k.offsetParent:null}function Ke(k){const D=$t(k);let V=_e(k);for(;V&&qe(V)&&se(V).position==="static";)V=_e(V);return V&&(ht(V)==="html"||ht(V)==="body"&&se(V).position==="static"&&!Ue(V))?D:V||function(W){let Z=ke(W);for(fe(Z)&&(Z=Z.host);Yt(Z)&&!Wt(Z);){if(Ue(Z))return Z;{const J=Z.parentNode;Z=fe(J)?J.host:J}}return null}(k)||D}function He(k){if(Yt(k))return{width:k.offsetWidth,height:k.offsetHeight};const D=zt(k);return{width:D.width,height:D.height}}function Se(k){const D=ke(k);return Wt(D)?k.ownerDocument.body:Yt(D)&&Ae(D)?D:Se(D)}function Te(k,D){var V;D===void 0&&(D=[]);const W=Se(k),Z=W===((V=k.ownerDocument)==null?void 0:V.body),J=$t(W),ot=Z?[J].concat(J.visualViewport||[],Ae(W)?W:[]):W,Q=D.concat(ot);return Z?Q:Q.concat(Te(ot))}function We(k,D,V){return D==="viewport"?E(function(W,Z){const J=$t(W),ot=Vt(W),Q=J.visualViewport;let ft=ot.clientWidth,It=ot.clientHeight,kt=0,pt=0;if(Q){ft=Q.width,It=Q.height;const _t=de();(_t||!_t&&Z==="fixed")&&(kt=Q.offsetLeft,pt=Q.offsetTop)}return{width:ft,height:It,x:kt,y:pt}}(k,V)):ee(D)?function(W,Z){const J=zt(W,!1,Z==="fixed"),ot=J.top+W.clientTop,Q=J.left+W.clientLeft;return{top:ot,left:Q,x:Q,y:ot,right:Q+W.clientWidth,bottom:ot+W.clientHeight,width:W.clientWidth,height:W.clientHeight}}(D,V):E(function(W){var Z;const J=Vt(W),ot=ye(W),Q=(Z=W.ownerDocument)==null?void 0:Z.body,ft=qt(J.scrollWidth,J.clientWidth,Q?Q.scrollWidth:0,Q?Q.clientWidth:0),It=qt(J.scrollHeight,J.clientHeight,Q?Q.scrollHeight:0,Q?Q.clientHeight:0);let kt=-ot.scrollLeft+le(W);const pt=-ot.scrollTop;return se(Q||J).direction==="rtl"&&(kt+=qt(J.clientWidth,Q?Q.clientWidth:0)-ft),{width:ft,height:It,x:kt,y:pt}}(Vt(k)))}function te(k){const D=Te(k),V=function(Z,J){let ot=Z;for(;ot&&!Wt(ot)&&!J.includes(ot)&&(!ee(ot)||!["absolute","fixed"].includes(se(ot).position));){const Q=ke(ot);ot=fe(Q)?Q.host:Q}return ot}(k,D);let W=null;if(V&&Yt(V)){const Z=Ke(V);Ae(V)?W=V:Yt(Z)&&(W=Z)}return ee(W)?D.filter(Z=>W&&ee(Z)&&function(J,ot){const Q=ot.getRootNode==null?void 0:ot.getRootNode();if(J.contains(ot))return!0;if(Q&&fe(Q)){let ft=ot;do{if(ft&&J===ft)return!0;ft=ft.parentNode||ft.host}while(ft)}return!1}(Z,W)&&ht(Z)!=="body"):[]}const ze={getClippingRect:function(k){let{element:D,boundary:V,rootBoundary:W,strategy:Z}=k;const J=[...V==="clippingAncestors"?te(D):[].concat(V),W],ot=J[0],Q=J.reduce((ft,It)=>{const kt=We(D,It,Z);return ft.top=qt(kt.top,ft.top),ft.right=pe(kt.right,ft.right),ft.bottom=pe(kt.bottom,ft.bottom),ft.left=qt(kt.left,ft.left),ft},We(D,ot,Z));return{width:Q.right-Q.left,height:Q.bottom-Q.top,x:Q.left,y:Q.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(k){let{rect:D,offsetParent:V,strategy:W}=k;const Z=Yt(V),J=Vt(V);if(V===J)return D;let ot={scrollLeft:0,scrollTop:0};const Q={x:0,y:0};if((Z||!Z&&W!=="fixed")&&((ht(V)!=="body"||Ae(J))&&(ot=ye(V)),Yt(V))){const ft=zt(V,!0);Q.x=ft.x+V.clientLeft,Q.y=ft.y+V.clientTop}return{...D,x:D.x-ot.scrollLeft+Q.x,y:D.y-ot.scrollTop+Q.y}},isElement:ee,getDimensions:He,getOffsetParent:Ke,getDocumentElement:Vt,getElementRects:k=>{let{reference:D,floating:V,strategy:W}=k;return{reference:je(D,Ke(V),W),floating:{...He(V),x:0,y:0}}},getClientRects:k=>Array.from(k.getClientRects()),isRTL:k=>se(k).direction==="rtl"};function Ve(k,D,V,W){W===void 0&&(W={});const{ancestorScroll:Z=!0,ancestorResize:J=!0,elementResize:ot=!0,animationFrame:Q=!1}=W,ft=Z&&!Q,It=ft||J?[...ee(k)?Te(k):[],...Te(D)]:[];It.forEach(wt=>{ft&&wt.addEventListener("scroll",V,{passive:!0}),J&&wt.addEventListener("resize",V)});let kt,pt=null;if(ot){let wt=!0;pt=new ResizeObserver(()=>{wt||V(),wt=!1}),ee(k)&&!Q&&pt.observe(k),pt.observe(D)}let _t=Q?zt(k):null;return Q&&function wt(){const xt=zt(k);!_t||xt.x===_t.x&&xt.y===_t.y&&xt.width===_t.width&&xt.height===_t.height||V(),_t=xt,kt=requestAnimationFrame(wt)}(),V(),()=>{var wt;It.forEach(xt=>{ft&&xt.removeEventListener("scroll",V),J&&xt.removeEventListener("resize",V)}),(wt=pt)==null||wt.disconnect(),pt=null,Q&&cancelAnimationFrame(kt)}}const Xe=(k,D,V)=>(async(W,Z,J)=>{const{placement:ot="bottom",strategy:Q="absolute",middleware:ft=[],platform:It}=J,kt=await(It.isRTL==null?void 0:It.isRTL(Z));let pt=await It.getElementRects({reference:W,floating:Z,strategy:Q}),{x:_t,y:wt}=b(pt,ot,kt),xt=ot,Bt={},Ot=0;for(let Gt=0;Gt<ft.length;Gt++){const{name:re,fn:ge}=ft[Gt],{x:ae,y:me,data:Ht,reset:Oe}=await ge({x:_t,y:wt,initialPlacement:ot,placement:xt,strategy:Q,middlewareData:Bt,rects:pt,platform:It,elements:{reference:W,floating:Z}});_t=ae??_t,wt=me??wt,Bt={...Bt,[re]:{...Bt[re],...Ht}},Oe&&Ot<=50&&(Ot++,typeof Oe=="object"&&(Oe.placement&&(xt=Oe.placement),Oe.rects&&(pt=Oe.rects===!0?await It.getElementRects({reference:W,floating:Z,strategy:Q}):Oe.rects),{x:_t,y:wt}=b(pt,xt,kt)),Gt=-1)}return{x:_t,y:wt,placement:xt,strategy:Q,middlewareData:Bt}})(k,D,{platform:ze,...V})},131:(a,c,h)=>{h.p},797:function(a,c,h){var f=this&&this.__createBinding||(Object.create?function(it,j,lt,bt){bt===void 0&&(bt=lt);var M=Object.getOwnPropertyDescriptor(j,lt);M&&!("get"in M?!j.__esModule:M.writable||M.configurable)||(M={enumerable:!0,get:function(){return j[lt]}}),Object.defineProperty(it,bt,M)}:function(it,j,lt,bt){bt===void 0&&(bt=lt),it[bt]=j[lt]}),p=this&&this.__setModuleDefault||(Object.create?function(it,j){Object.defineProperty(it,"default",{enumerable:!0,value:j})}:function(it,j){it.default=j}),y=this&&this.__importStar||function(it){if(it&&it.__esModule)return it;var j={};if(it!=null)for(var lt in it)lt!=="default"&&Object.prototype.hasOwnProperty.call(it,lt)&&f(j,it,lt);return p(j,it),j},w=this&&this.__importDefault||function(it){return it&&it.__esModule?it:{default:it}};Object.defineProperty(c,"__esModule",{value:!0}),c.TourGuideClient=void 0;const b=h(693),v=w(h(121)),E=h(319),S=h(166),A=h(737),L=y(h(483)),T=w(h(971)),O=w(h(330)),I=w(h(340)),B=w(h(544)),F=y(h(612)),Y=y(h(283)),ut=w(h(717));c.TourGuideClient=class{constructor(it){this.group="",this.isVisible=!1,this.activeStep=0,this.tourSteps=[],this.options=ut.default,this.isFinished=Y.getIsFinished,this._promiseWaiting=!1,this.createTourGuideBackdrop=E.createTourGuideBackdrop,this.computeBackdropAttributes=E.computeBackdropAttributes,this.createTourGuideDialog=b.createTourGuideDialog,this.start=O.default,this.visitStep=L.default,this.addSteps=T.default,this.nextStep=L.handleVisitNextStep,this.prevStep=L.handleVisitPrevStep,this.exit=B.default,this.refresh=F.default,this.refreshDialog=F.handleRefreshDialog,this.finishTour=Y.default,this.updatePositions=v.default,this.deleteFinishedTour=Y.delFinishedTour,this.setOptions=I.default,this.initListeners=A.handleInitListeners,this.destroyListeners=A.handleDestroyListeners,this._trackedEvents={nextBtnClickEvent:{initialized:!1,fn:this.nextStep.bind(this)},prevBtnClickEvent:{initialized:!1,fn:this.prevStep.bind(this)},closeBtnClickEvent:{initialized:!1,fn:this.exit.bind(this)},keyPressEvent:{initialized:!1,fn:A.keyPressHandler.bind(this)},outsideClickEvent:{initialized:!1,fn:A.clickOutsideHandler.bind(this)}},this.onFinish=S.handleOnFinish,this.onBeforeExit=S.handleOnBeforeExit,this.onAfterExit=S.handleOnAfterExit,this.onBeforeStepChange=S.handleOnBeforeStepChange,this.onAfterStepChange=S.handleOnAfterStepChange,this.dialog=document.createElement("div"),this.backdrop=document.createElement("div"),this.options=ut.default,it&&Object.assign(this.options,it),this.createTourGuideDialog().catch(j=>{this.options.debug&&console.warn(j)}),this.createTourGuideBackdrop()}}},319:(a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.computeBackdropPosition=c.computeBackdropAttributes=c.createTourGuideBackdrop=void 0,c.createTourGuideBackdrop=function(){this.backdrop=document.createElement("div"),this.computeBackdropAttributes(),document.body.append(this.backdrop)},c.computeBackdropAttributes=function(){this.options&&(this.backdrop.className="tg-backdrop",this.backdrop.style.boxShadow=this.options.backdropColor+" 0 0 1px 2px, "+this.options.backdropColor+" 0 0 0 1000vh",this.options.backdropClass&&this.backdrop.classList.add(this.options.backdropClass),this.options.dialogAnimate&&this.backdrop.classList.add("tg-backdrop-animate"))},c.computeBackdropPosition=function(h){return new Promise(async(f,p)=>{if(h.options.targetPadding===void 0)return p("Options failed to initialize");if(!h.backdrop)return p("No backdrop element initialized");const y=h.tourSteps[h.activeStep],w=y.target,b=w.getBoundingClientRect(),v=b.width+h.options.targetPadding>document.documentElement.clientWidth;w===document.body?(b.width=0,b.height=0,h.backdrop.style.position="fixed",h.backdrop.style.top=window.innerHeight/2.5+"px",h.backdrop.style.left=window.innerWidth/2+"px"):y.fixed?(h.backdrop.style.position="fixed",h.backdrop.style.top=b.top-h.options.targetPadding/2+"px",h.backdrop.style.left=(v?b.x:b.x-h.options.targetPadding/2)+"px"):(h.backdrop.style.position="absolute",h.backdrop.style.top=window.scrollY+b.top-h.options.targetPadding/2+"px",h.backdrop.style.left=(v?b.x:b.x-h.options.targetPadding/2)+"px"),h.backdrop.style.width=(v?b.width:b.width+h.options.targetPadding)+"px",h.backdrop.style.height=(b.height?b.height+h.options.targetPadding:b.height)+"px",f(!0)})}},166:(a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.handleOnAfterStepChange=c.handleOnBeforeStepChange=c.handleOnAfterExit=c.handleOnBeforeExit=c.handleOnFinish=void 0,c.handleOnFinish=function(h){if(typeof h!="function")throw new Error("Provided callback for onFinish was not a function");this._globalFinishCallback=h},c.handleOnBeforeExit=function(h){if(typeof h!="function")throw new Error("Provided callback for onBeforeExit was not a function");this._globalBeforeExitCallback=h},c.handleOnAfterExit=function(h){if(typeof h!="function")throw new Error("Provided callback for onAfterExit was not a function");this._globalAfterExitCallback=h},c.handleOnBeforeStepChange=function(h){if(typeof h!="function")throw new Error("Provided callback for onBeforeStepChange was not a function");this._globalBeforeChangeCallback=h},c.handleOnAfterStepChange=function(h){if(typeof h!="function")throw new Error("Provided callback for onAfterStepChange was not a function");this._globalAfterChangeCallback=h}},693:(a,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.computeDialogPosition=c.updateDialogHtml=c.renderDialogHtml=c.createTourGuideDialog=void 0;const f=h(500),p=h(362);async function y(w){w.options.dialogClass&&w.dialog.classList.add(w.options.dialogClass),w.options.dialogZ&&(w.dialog.style.zIndex=String(w.options.dialogZ)),w.dialog.style.width=w.options.dialogWidth?w.options.dialogWidth+"px":"auto",w.options.dialogMaxWidth&&(w.dialog.style.maxWidth=w.options.dialogMaxWidth+"px");let b="";if(b+="<div class='tg-dialog-header'>",b+='<div class="tg-dialog-title" id="tg-dialog-title"><!-- JS rendered --></div>',w.options.closeButton&&(b+='<div class="tg-dialog-close-btn" id="tg-dialog-close-btn">',b+=' <svg width="12px" height="12px" id="Layer_1" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"/></svg>',b+="</div>"),b+='<div class="tg-dialog-spinner" id="tg-dialog-spinner">',b+='<svg fill="#000000" width="12" height="12" viewBox="0 0 20 20" stroke="#000000" stroke-width="0.8"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M10,1V3a7,7,0,1,1-7,7H1a9,9,0,1,0,9-9Z"></path> </g> </g></svg>',b+="</div>",b+="</div>",w.options.progressBar&&(b+='<div class="tg-dialog-progress-bar"><span class="tg-bar" id="tg-dialog-progbar"></span></div>'),b+='<div class="tg-dialog-body" id="tg-dialog-body"><!-- JS rendered --></div>',w.options.showStepDots&&w.options.stepDotsPlacement==="body"){const S=(0,f.dotsWrapperHtmlString)();S&&(b+=S)}b+='<div class="tg-dialog-footer">';let v="tg-dialog-btn",E="false";if(w.activeStep===0&&(E="true",v+=" disabled"),w.options.showButtons&&!w.options.hidePrev&&(b+='<button type="button" class="'+v+'" id="tg-dialog-prev-btn" disabled="'+E+`">${w.options.prevLabel}</button>`),b+='<div class="tg-dialog-footer-sup">',w.options.showStepDots&&w.options.stepDotsPlacement==="footer"){const S=(0,f.dotsWrapperHtmlString)();S&&(b+=S)}return w.options.showStepProgress&&(b+='<span class="tg-step-progress" id="tg-step-progress"><!-- JS rendered --></span>'),b+="</div>",w.options.showButtons&&!w.options.hideNext&&(b+=`<button type="button" class="tg-dialog-btn" id="tg-dialog-next-btn">${w.options.nextLabel}</button>`),b+="</div>",b+='<div id="tg-arrow" class="tg-arrow"></div><!-- end tour arrow -->',b}c.createTourGuideDialog=async function(){return this.dialog=document.createElement("div"),this.dialog.classList.add("tg-dialog"),await y(this).then(w=>{this.dialog.innerHTML=w}),document.body.append(this.dialog),!0},c.renderDialogHtml=y,c.updateDialogHtml=function(w){return new Promise((b,v)=>{const E=w.tourSteps[w.activeStep];E||v("No active step data");const S=document.getElementById("tg-dialog-title");S&&(S.innerHTML=E.title?E.title:"");const A=document.getElementById("tg-dialog-body");A&&E&&(typeof E.content=="string"?A.innerHTML=E.content?E.content:"":(A.innerHTML="",A.append(E.content)));const L=document.getElementById("tg-dialog-dots");L&&w.options.showStepDots&&(0,f.computeDots)(w)&&(L.innerHTML=(0,f.computeDots)(w));const T=document.getElementById("tg-dialog-prev-btn");T&&(w.activeStep===0?(T.classList.add("disabled"),T.setAttribute("disabled","true")):(T.classList.remove("disabled"),T.removeAttribute("disabled")));const O=document.getElementById("tg-dialog-next-btn");O&&(O.innerHTML=w.activeStep+1>=w.tourSteps.length?w.options.finishLabel:w.options.nextLabel);const I=document.getElementById("tg-step-progress");I&&(I.innerHTML=w.activeStep+1+"/"+w.tourSteps.length);const B=document.getElementById("tg-dialog-progbar");B&&(w.options.progressBar&&(B.style.backgroundColor=w.options.progressBar),B.style.width=(w.activeStep+1)/w.tourSteps.length*100+"%"),b(!0)})},c.computeDialogPosition=function(w){return new Promise(async b=>{const v=document.querySelector("#tg-arrow");let E=w.tourSteps[w.activeStep].dialogTarget||w.tourSteps[w.activeStep].target;if(E===document.body)return Object.assign(w.dialog.style,{top:window.innerHeight/2.25-w.dialog.clientHeight/2+"px",left:window.innerWidth/2-w.dialog.clientWidth/2+"px",position:"fixed"}),w.dialog.classList.add("tg-dialog-fixed"),v&&(v.style.display="none"),b(!0);w.dialog.style.position="absolute",w.dialog.classList.remove("tg-dialog-fixed"),v&&(v.style.display="inline-block"),(0,p.computePosition)(E,w.dialog,{placement:w.options.dialogPlacement,middleware:[(0,p.autoPlacement)({autoAlignment:!0,padding:5}),(0,p.shift)({crossAxis:w.options.allowDialogOverlap,padding:15}),(0,p.arrow)({element:v}),(0,p.offset)(20)]}).then(({x:S,y:A,placement:L,middlewareData:T})=>(Object.assign(w.dialog.style,{left:`${S}px`,top:`${A}px`}),T.arrow&&v&&Object.assign(v.style,function(O,I,B){const F=(O==null?void 0:O.x)||0,Y=(O==null?void 0:O.y)||0,ut=10,it={top:"bottom",right:"left",bottom:"top",left:"right"}[I.split("-")[0]],j=B.clientWidth-ut,lt=B.clientHeight-ut,bt=Math.abs(Y-lt)<=ut,M=Math.abs(F-j)<=ut,G=Math.abs(Y)<=ut,ct=Math.abs(F)<=ut,rt=(O==null?void 0:O.centerOffset)!==0||(ct||M)&&(G||bt);return{left:ct?it==="right"?"":"0":M?`${j}px`:`${F}px`,top:G?it==="bottom"?"":"0":bt?`${lt}px`:`${Y}px`,[it]:rt?"0":"-5px",transform:rt?"none":"rotate(45deg)"}}(T.arrow,L,w.dialog)),b(!0)))})}},500:(a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.computeDots=c.dotsWrapperHtmlString=void 0,c.dotsWrapperHtmlString=function(){const h=document.createElement("div");return h.classList.add("tg-dialog-dots"),h.id="tg-dialog-dots",h.outerHTML},c.computeDots=h=>{let f="";return h.tourSteps.length&&h.tourSteps.forEach((p,y)=>{const w=document.createElement("span");w.classList.add("tg-dot"),y===h.activeStep&&w.classList.add("tg-dot-active"),f+=w.outerHTML}),f}},737:(a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.keyPressHandler=c.clickOutsideHandler=c.handleDestroyListeners=c.handleInitListeners=void 0,c.clickOutsideHandler=async function(h){if(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation(),!(h.target instanceof Element))return;const f=this.backdrop.getBoundingClientRect();if(h.clientX>=f.x&&h.clientX<=f.x+f.width&&h.clientY>=f.y&&h.clientY<=f.y+f.height)return;const p=this.dialog.getBoundingClientRect();h.clientX>=p.x&&h.clientX<=p.x+p.width&&h.clientY>=p.y&&h.clientY<=p.y+p.height||this.dialog.contains(h.target)||await this.exit()},c.keyPressHandler=async function(h){return h.key==="Escape"&&this.options.exitOnEscape?(h.preventDefault(),void await this.exit()):h.key==="ArrowRight"&&this.options.keyboardControls?(h.preventDefault(),void this.visitStep("next").catch(f=>{this.options.debug&&console.warn(f)})):h.key==="ArrowLeft"&&this.options.keyboardControls?(h.preventDefault(),void this.visitStep("prev").catch(f=>{this.options.debug&&console.warn(f)})):void 0},c.handleInitListeners=function(){const h=()=>{let b=document.getElementById("tg-dialog-next-btn");b&&!this._trackedEvents.nextBtnClickEvent.initialized&&(b.addEventListener("click",this._trackedEvents.nextBtnClickEvent.fn),this._trackedEvents.nextBtnClickEvent.initialized=!0)},f=()=>{let b=document.getElementById("tg-dialog-prev-btn");b&&!this._trackedEvents.prevBtnClickEvent.initialized&&(b.addEventListener("click",this._trackedEvents.prevBtnClickEvent.fn),this._trackedEvents.prevBtnClickEvent.initialized=!0)},p=()=>{let b=document.getElementById("tg-dialog-close-btn");b&&!this._trackedEvents.closeBtnClickEvent.initialized&&(b.addEventListener("click",this._trackedEvents.closeBtnClickEvent.fn,!1),this._trackedEvents.closeBtnClickEvent.initialized=!0)},y=()=>{this._trackedEvents.outsideClickEvent.initialized||(document.body.addEventListener("click",this._trackedEvents.outsideClickEvent.fn,!1),this._trackedEvents.outsideClickEvent.initialized=!0)},w=()=>{this._trackedEvents.keyPressEvent.initialized||(window.addEventListener("keydown",this._trackedEvents.keyPressEvent.fn,!1),this._trackedEvents.keyPressEvent.initialized=!0)};return new Promise(b=>(this.options.showButtons&&h(),this.options.showButtons&&f(),this.options.closeButton&&p(),this.options.exitOnClickOutside&&y(),(this.options.keyboardControls||this.options.exitOnEscape)&&w(),b(!0)))},c.handleDestroyListeners=function(){const h=()=>{let b=document.getElementById("tg-dialog-next-btn");b&&(b.removeEventListener("click",this._trackedEvents.nextBtnClickEvent.fn),this._trackedEvents.nextBtnClickEvent.initialized=!1)},f=()=>{let b=document.getElementById("tg-dialog-prev-btn");b&&(b.removeEventListener("click",this._trackedEvents.prevBtnClickEvent.fn),this._trackedEvents.prevBtnClickEvent.initialized=!1)},p=()=>{let b=document.getElementById("tg-dialog-close-btn");b&&(b.removeEventListener("click",this._trackedEvents.closeBtnClickEvent.fn,!1),this._trackedEvents.closeBtnClickEvent.initialized=!1)},y=()=>{document.body.removeEventListener("click",this._trackedEvents.outsideClickEvent.fn,!1),this._trackedEvents.outsideClickEvent.initialized=!1},w=()=>{window.removeEventListener("keydown",this._trackedEvents.keyPressEvent.fn,!1),this._trackedEvents.keyPressEvent.initialized=!1};return new Promise(b=>(this.options.showButtons&&h(),this.options.showButtons&&f(),this.options.closeButton&&p(),this.options.exitOnClickOutside&&y(),(this.options.keyboardControls||this.options.exitOnEscape)&&w(),b(!0)))}},121:(a,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0});const f=h(319),p=h(693);c.default=function(){return new Promise(async y=>{this.backdrop.style.display="block",await(0,f.computeBackdropPosition)(this),this.dialog.style.display="block",this.options.dialogAnimate&&this.isVisible&&this.dialog.classList.add("animate-position"),await(0,p.computeDialogPosition)(this),this.options.dialogAnimate&&setTimeout(()=>{this.dialog.classList.remove("animate-position")},300),this.isVisible=!0,window.onresize||(window.onresize=()=>{(0,f.computeBackdropPosition)(this),(0,p.computeDialogPosition)(this)}),window.onscroll||(window.onscroll=()=>{(0,p.computeDialogPosition)(this)}),await setTimeout(()=>y(!0),300)})}},830:(a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.default=(h,f)=>{f.scrollIntoView({behavior:h.options.autoScrollSmooth?"smooth":"auto",block:"end",inline:"nearest"})}},755:(a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.default=async function(h){return new Promise(async(f,p)=>{let y=[];h.options.steps&&h.options.steps.length&&(y=h.options.steps.map(b=>{if(typeof b.target=="string"){const v=document.querySelector(b.target);v&&(b.target=v,h.options.targetPadding&&h.options.autoScrollOffset?v.style.scrollMargin=h.options.autoScrollOffset+h.options.targetPadding+"px 0":v.style.scrollMargin="30px 0")}if(b.target||(b.target=document.body),typeof b.dialogTarget=="string"){const v=document.querySelector(b.dialogTarget);b.dialogTarget=v||void 0}return b}));const w=document.querySelectorAll("[data-tg-tour]");return w&&w.forEach(b=>{const v=b.getAttribute("data-tg-title"),E=b.getAttribute("data-tg-tour"),S=b.getAttribute("data-tg-group"),A=b.getAttribute("data-tg-order"),L=b.getAttribute("data-tg-fixed"),T=b.getAttribute("data-tg-margin"),O=b.getAttribute("data-tg-dialog-target");h.options.targetPadding&&h.options.autoScrollOffset?b.style.scrollMargin=(T?T+h.options.targetPadding:h.options.autoScrollOffset+h.options.targetPadding)+"px 0":b.style.scrollMargin=(T||"30")+"px 0",y.push({title:v||void 0,order:A?Number(A):999,target:b,dialogTarget:O?document.querySelector(O):void 0,content:E||void 0,fixed:L!==null&&L!=="false",group:S||void 0})}),h.group&&(y=y.filter(b=>b.group===h.group)),y.sort(function(b,v){return new Date(b.order)<new Date(v.order)?-1:1}),h.tourSteps=y,h.tourSteps.length?f(!0):p("No tour steps detected"+(h.group?" in group: "+h.group:""))})}},971:function(a,c,h){var f=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(c,"__esModule",{value:!0});const p=f(h(755)),y=h(693),w=f(h(570));c.default=async function(b){this.options.steps&&(this.options.steps.push(...b),await(0,p.default)(this),this.isVisible&&await(0,y.updateDialogHtml)(this).catch(v=>{this.options.debug&&console.warn(v)}),this.isVisible&&this.updatePositions().catch(v=>{this.options.debug&&console.warn(v)}),this.isVisible&&await(0,w.default)(".tg-dialog").then(async()=>(await this.destroyListeners(),await this.initListeners(),!0)))}},544:(a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.default=async function(){return new Promise(async(h,f)=>{if(this._promiseWaiting)return f("Promise waiting");if(this._promiseWaiting=!0,this._globalBeforeExitCallback)try{await this._globalBeforeExitCallback()}catch(p){return f(p)}return this.dialog.style.display="none",this.backdrop.style.display="none",this.isVisible=!1,this.options.rememberStep||(this.activeStep=0),this.options.debug&&console.info("Tour exited"),await this.destroyListeners(),setTimeout(()=>{this._globalAfterExitCallback&&this._globalAfterExitCallback()},0),this._promiseWaiting=!1,h(!0)})}},283:(a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.delFinishedTour=c.getIsFinished=void 0,c.getIsFinished=function(h="tour"){return!!localStorage.tg_tours_complete&&localStorage.tg_tours_complete.split(",").includes(h)},c.delFinishedTour=function(h="tour"){if(h==="all")return void(localStorage.tg_tours_complete=null);const f=localStorage.tg_tours_complete.split(",");localStorage.tg_tours_complete=f.filter(p=>p!==h)},c.default=async function(h=!0,f="tour"){if(this._globalFinishCallback)try{await this._globalFinishCallback()}catch{return!1}if(this.options.completeOnFinish){if(!localStorage.tg_tours_complete)return localStorage.tg_tours_complete=[f],h&&await this.exit(),void(this.activeStep=0);const p=localStorage.tg_tours_complete.split(",");p.includes(f)||(p.push(f),localStorage.tg_tours_complete=p)}return h&&await this.exit(),this.activeStep=0,this._promiseWaiting=!1,!0}},612:function(a,c,h){var f=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(c,"__esModule",{value:!0}),c.handleRefreshDialog=void 0;const p=f(h(755)),y=h(693),w=f(h(570));c.handleRefreshDialog=async function(){return new Promise(async(b,v)=>(await(0,y.renderDialogHtml)(this).then(E=>{E&&(this.dialog.innerHTML=E)}).catch(E=>{this.options.debug&&console.warn(E)}),await(0,y.updateDialogHtml)(this).catch(E=>{this.options.debug&&console.warn(E),v(E)}),await this.updatePositions(),this.isVisible&&await(0,w.default)(".tg-dialog").then(async()=>(await this.destroyListeners(),await this.initListeners(),!0)),b(!0)))},c.default=async function(){return new Promise(async(b,v)=>(await(0,p.default)(this).catch(E=>v(E)),this.computeBackdropAttributes(),await this.refreshDialog().catch(E=>v(E)),b(!0)))}},340:function(a,c,h){var f=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(c,"__esModule",{value:!0});const p=h(693),y=f(h(570));c.default=async function(w){if(w)return Object.assign(this.options,w),this.computeBackdropAttributes(),await(0,p.renderDialogHtml)(this).then(b=>{b&&(this.dialog.innerHTML=b)}).catch(b=>{this.options.debug&&console.warn(b)}),await(0,p.updateDialogHtml)(this).catch(b=>{this.options.debug&&console.warn(b)}),this.isVisible&&await(0,y.default)(".tg-dialog").then(async()=>(await this.destroyListeners(),await this.initListeners(),!0)),this}},330:function(a,c,h){var f=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(c,"__esModule",{value:!0});const p=f(h(570)),y=f(h(755));c.default=async function(w){return new Promise(async(b,v)=>{if(this.isVisible)return this.options.debug&&console.warn("Tour already active"),v("Tour already active");w&&(this.group=w),this.options.debug&&console.info("Start tour");const E=this;try{await(0,y.default)(E)}catch(S){return this.options.debug&&console.warn(S),v(S)}return await E.visitStep(this.activeStep).catch(S=>(this.options.debug&&console.warn(S),v(S))),await(0,p.default)(".tg-dialog").then(async()=>{await this.initListeners(),this.options.dialogAnimate&&this.dialog.classList.add("animate-position")}),b(!0)})}},483:function(a,c,h){var f=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(c,"__esModule",{value:!0}),c.handleVisitPrevStep=c.handleVisitNextStep=c.goToStep=void 0;const p=h(693),y=f(h(830));function w(b,v){return new Promise(async(E,S)=>{if(v>=b.tourSteps.length)return S("End of tour steps");if(v<0)return S("Start of tour steps");const A=b.activeStep,L=b.tourSteps[A],T=b.tourSteps[v];if(!T||!L)return S("Step not found by index");if((b._globalBeforeChangeCallback&&v!==A||L.beforeLeave||T.beforeEnter)&&(b._promiseWaiting=!0,b.dialog.classList.add("tg-dialog-loading")),b._globalBeforeChangeCallback&&v!==A)try{await b._globalBeforeChangeCallback()}catch(O){return S(O)}if(L.beforeLeave)try{await L.beforeLeave(L,T)}catch(O){return S(O)}if(T.beforeEnter)try{await T.beforeEnter(L,T)}catch(O){return S(O)}return typeof T.target=="string"&&(b.tourSteps[v].target=document.querySelector(T.target)),T.target&&b.tourSteps[v].target||(b.tourSteps[v].target=document.body),b.activeStep=Number(v),await(0,p.updateDialogHtml)(b).catch(O=>{b.options.debug&&console.warn(O),S(O)}),b.options.autoScroll&&T.target!==document.body&&await(0,y.default)(b,T.target),await b.updatePositions(),L.afterLeave&&await L.afterLeave(L,T),T.afterEnter&&await T.afterEnter(L,T),b._globalAfterChangeCallback&&v!==A&&await b._globalAfterChangeCallback(),b._promiseWaiting=!1,b.dialog.classList.remove("tg-dialog-loading"),E(!0)})}c.handleVisitNextStep=async function(){return new Promise(async(b,v)=>{const E=this.activeStep+1;try{await this.visitStep(E)}catch(S){return v(S)}return b(!0)})},c.handleVisitPrevStep=async function(){return new Promise(async(b,v)=>{const E=this.activeStep-1;try{await this.visitStep(E)}catch(S){return v(S)}return b(!0)})},c.goToStep=w,c.default=async function(b){return new Promise(async(v,E)=>this._promiseWaiting?E("Promise waiting"):(typeof b=="string"&&(b=b==="next"?this.activeStep+1:this.activeStep-1),b>=this.tourSteps.length?void await this.finishTour(!0,this.group):(await w(this,b).catch(S=>E(S)),v(!0))))}},717:(a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.default={nextLabel:"Next",prevLabel:"Back",finishLabel:"Finish",hidePrev:!1,hideNext:!1,dialogClass:"",allowDialogOverlap:!1,dialogZ:999,dialogWidth:0,dialogMaxWidth:340,dialogAnimate:!0,dialogPlacement:void 0,backdropClass:"",backdropColor:"rgba(20,20,21,0.84)",backdropAnimate:!0,targetPadding:30,completeOnFinish:!0,showStepDots:!0,stepDotsPlacement:"footer",showButtons:!0,showStepProgress:!0,progressBar:"",keyboardControls:!0,exitOnEscape:!0,exitOnClickOutside:!0,autoScroll:!0,autoScrollSmooth:!0,autoScrollOffset:20,closeButton:!0,rememberStep:!1,debug:!0,steps:[]}},570:(a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(h){return new Promise(f=>{if(document.querySelector(h))return f(document.querySelector(h));const p=new MutationObserver(()=>{document.querySelector(h)&&(f(document.querySelector(h)),p.disconnect())});p.observe(document.body,{childList:!0,subtree:!0})})}}},r={};function l(a){var c=r[a];if(c!==void 0)return c.exports;var h=r[a]={exports:{}};return n[a].call(h.exports,h,h.exports,l),h.exports}return l.d=(a,c)=>{for(var h in c)l.o(c,h)&&!l.o(a,h)&&Object.defineProperty(a,h,{enumerable:!0,get:c[h]})},l.o=(a,c)=>Object.prototype.hasOwnProperty.call(a,c),l.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},l.p="",l(131),l(797)})())})(Wm);var ZS=Wm.exports;et.register("modules/htmlEditButton",_w.htmlEditButton);window.Quill=et;window.TourGuideClient=ZS.TourGuideClient});export default XS();
